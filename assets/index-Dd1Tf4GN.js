var sC=Object.defineProperty;var Nw=r=>{throw TypeError(r)};var oC=(r,e,t)=>e in r?sC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var or=(r,e,t)=>oC(r,typeof e!="symbol"?e+"":e,t),xm=(r,e,t)=>e.has(r)||Nw("Cannot "+t);var L=(r,e,t)=>(xm(r,e,"read from private field"),t?t.call(r):e.get(r)),nt=(r,e,t)=>e.has(r)?Nw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Ue=(r,e,t,n)=>(xm(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),We=(r,e,t)=>(xm(r,e,"access private method"),t);var fa=(r,e,t,n)=>({set _(s){Ue(r,e,s,t)},get _(){return L(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function aC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Am={exports:{}},ec={},Im={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function lC(){if(Ow)return Ct;Ow=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=m&&J[m]||J["@@iterator"],typeof J=="function"?J:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(J,W,Ee){this.props=J,this.context=W,this.refs=S,this.updater=Ee||v}T.prototype.isReactComponent={},T.prototype.setState=function(J,W){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,W,"setState")},T.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function O(){}O.prototype=T.prototype;function x(J,W,Ee){this.props=J,this.context=W,this.refs=S,this.updater=Ee||v}var R=x.prototype=new O;R.constructor=x,w(R,T.prototype),R.isPureReactComponent=!0;var z=Array.isArray,H=Object.prototype.hasOwnProperty,j={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(J,W,Ee){var Le,oe={},qe=null,ce=null;if(W!=null)for(Le in W.ref!==void 0&&(ce=W.ref),W.key!==void 0&&(qe=""+W.key),W)H.call(W,Le)&&!P.hasOwnProperty(Le)&&(oe[Le]=W[Le]);var te=arguments.length-2;if(te===1)oe.children=Ee;else if(1<te){for(var Ae=Array(te),de=0;de<te;de++)Ae[de]=arguments[de+2];oe.children=Ae}if(J&&J.defaultProps)for(Le in te=J.defaultProps,te)oe[Le]===void 0&&(oe[Le]=te[Le]);return{$$typeof:r,type:J,key:qe,ref:ce,props:oe,_owner:j.current}}function M(J,W){return{$$typeof:r,type:J.type,key:W,ref:J.ref,props:J.props,_owner:J._owner}}function F(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function $(J){var W={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Ee){return W[Ee]})}var N=/\/+/g;function V(J,W){return typeof J=="object"&&J!==null&&J.key!=null?$(""+J.key):W.toString(36)}function _e(J,W,Ee,Le,oe){var qe=typeof J;(qe==="undefined"||qe==="boolean")&&(J=null);var ce=!1;if(J===null)ce=!0;else switch(qe){case"string":case"number":ce=!0;break;case"object":switch(J.$$typeof){case r:case e:ce=!0}}if(ce)return ce=J,oe=oe(ce),J=Le===""?"."+V(ce,0):Le,z(oe)?(Ee="",J!=null&&(Ee=J.replace(N,"$&/")+"/"),_e(oe,W,Ee,"",function(de){return de})):oe!=null&&(F(oe)&&(oe=M(oe,Ee+(!oe.key||ce&&ce.key===oe.key?"":(""+oe.key).replace(N,"$&/")+"/")+J)),W.push(oe)),1;if(ce=0,Le=Le===""?".":Le+":",z(J))for(var te=0;te<J.length;te++){qe=J[te];var Ae=Le+V(qe,te);ce+=_e(qe,W,Ee,Ae,oe)}else if(Ae=y(J),typeof Ae=="function")for(J=Ae.call(J),te=0;!(qe=J.next()).done;)qe=qe.value,Ae=Le+V(qe,te++),ce+=_e(qe,W,Ee,Ae,oe);else if(qe==="object")throw W=String(J),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ce}function ae(J,W,Ee){if(J==null)return J;var Le=[],oe=0;return _e(J,Le,"","",function(qe){return W.call(Ee,qe,oe++)}),Le}function De(J){if(J._status===-1){var W=J._result;W=W(),W.then(function(Ee){(J._status===0||J._status===-1)&&(J._status=1,J._result=Ee)},function(Ee){(J._status===0||J._status===-1)&&(J._status=2,J._result=Ee)}),J._status===-1&&(J._status=0,J._result=W)}if(J._status===1)return J._result.default;throw J._result}var ke={current:null},fe={transition:null},Ne={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:fe,ReactCurrentOwner:j};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:ae,forEach:function(J,W,Ee){ae(J,function(){W.apply(this,arguments)},Ee)},count:function(J){var W=0;return ae(J,function(){W++}),W},toArray:function(J){return ae(J,function(W){return W})||[]},only:function(J){if(!F(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ct.Component=T,Ct.Fragment=t,Ct.Profiler=s,Ct.PureComponent=x,Ct.StrictMode=n,Ct.Suspense=c,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,Ct.act=ie,Ct.cloneElement=function(J,W,Ee){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var Le=w({},J.props),oe=J.key,qe=J.ref,ce=J._owner;if(W!=null){if(W.ref!==void 0&&(qe=W.ref,ce=j.current),W.key!==void 0&&(oe=""+W.key),J.type&&J.type.defaultProps)var te=J.type.defaultProps;for(Ae in W)H.call(W,Ae)&&!P.hasOwnProperty(Ae)&&(Le[Ae]=W[Ae]===void 0&&te!==void 0?te[Ae]:W[Ae])}var Ae=arguments.length-2;if(Ae===1)Le.children=Ee;else if(1<Ae){te=Array(Ae);for(var de=0;de<Ae;de++)te[de]=arguments[de+2];Le.children=te}return{$$typeof:r,type:J.type,key:oe,ref:qe,props:Le,_owner:ce}},Ct.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:o,_context:J},J.Consumer=J},Ct.createElement=k,Ct.createFactory=function(J){var W=k.bind(null,J);return W.type=J,W},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(J){return{$$typeof:u,render:J}},Ct.isValidElement=F,Ct.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:De}},Ct.memo=function(J,W){return{$$typeof:h,type:J,compare:W===void 0?null:W}},Ct.startTransition=function(J){var W=fe.transition;fe.transition={};try{J()}finally{fe.transition=W}},Ct.unstable_act=ie,Ct.useCallback=function(J,W){return ke.current.useCallback(J,W)},Ct.useContext=function(J){return ke.current.useContext(J)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(J){return ke.current.useDeferredValue(J)},Ct.useEffect=function(J,W){return ke.current.useEffect(J,W)},Ct.useId=function(){return ke.current.useId()},Ct.useImperativeHandle=function(J,W,Ee){return ke.current.useImperativeHandle(J,W,Ee)},Ct.useInsertionEffect=function(J,W){return ke.current.useInsertionEffect(J,W)},Ct.useLayoutEffect=function(J,W){return ke.current.useLayoutEffect(J,W)},Ct.useMemo=function(J,W){return ke.current.useMemo(J,W)},Ct.useReducer=function(J,W,Ee){return ke.current.useReducer(J,W,Ee)},Ct.useRef=function(J){return ke.current.useRef(J)},Ct.useState=function(J){return ke.current.useState(J)},Ct.useSyncExternalStore=function(J,W,Ee){return ke.current.useSyncExternalStore(J,W,Ee)},Ct.useTransition=function(){return ke.current.useTransition()},Ct.version="18.3.1",Ct}var Dw;function vv(){return Dw||(Dw=1,Im.exports=lC()),Im.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function uC(){if(Lw)return ec;Lw=1;var r=vv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,h){var d,m={},y=null,v=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(d in c)n.call(c,d)&&!o.hasOwnProperty(d)&&(m[d]=c[d]);if(u&&u.defaultProps)for(d in c=u.defaultProps,c)m[d]===void 0&&(m[d]=c[d]);return{$$typeof:e,type:u,key:y,ref:v,props:m,_owner:s.current}}return ec.Fragment=t,ec.jsx=l,ec.jsxs=l,ec}var Mw;function cC(){return Mw||(Mw=1,Am.exports=uC()),Am.exports}var S1=cC();const B=S1.jsx,Te=S1.jsxs;var me=vv();const Rt=aC(me);var ff={},Cm={exports:{}},On={},Rm={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function hC(){return Fw||(Fw=1,function(r){function e(fe,Ne){var ie=fe.length;fe.push(Ne);e:for(;0<ie;){var J=ie-1>>>1,W=fe[J];if(0<s(W,Ne))fe[J]=Ne,fe[ie]=W,ie=J;else break e}}function t(fe){return fe.length===0?null:fe[0]}function n(fe){if(fe.length===0)return null;var Ne=fe[0],ie=fe.pop();if(ie!==Ne){fe[0]=ie;e:for(var J=0,W=fe.length,Ee=W>>>1;J<Ee;){var Le=2*(J+1)-1,oe=fe[Le],qe=Le+1,ce=fe[qe];if(0>s(oe,ie))qe<W&&0>s(ce,oe)?(fe[J]=ce,fe[qe]=ie,J=qe):(fe[J]=oe,fe[Le]=ie,J=Le);else if(qe<W&&0>s(ce,ie))fe[J]=ce,fe[qe]=ie,J=qe;else break e}}return Ne}function s(fe,Ne){var ie=fe.sortIndex-Ne.sortIndex;return ie!==0?ie:fe.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var c=[],h=[],d=1,m=null,y=3,v=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(fe){for(var Ne=t(h);Ne!==null;){if(Ne.callback===null)n(h);else if(Ne.startTime<=fe)n(h),Ne.sortIndex=Ne.expirationTime,e(c,Ne);else break;Ne=t(h)}}function z(fe){if(S=!1,R(fe),!w)if(t(c)!==null)w=!0,De(H);else{var Ne=t(h);Ne!==null&&ke(z,Ne.startTime-fe)}}function H(fe,Ne){w=!1,S&&(S=!1,O(k),k=-1),v=!0;var ie=y;try{for(R(Ne),m=t(c);m!==null&&(!(m.expirationTime>Ne)||fe&&!$());){var J=m.callback;if(typeof J=="function"){m.callback=null,y=m.priorityLevel;var W=J(m.expirationTime<=Ne);Ne=r.unstable_now(),typeof W=="function"?m.callback=W:m===t(c)&&n(c),R(Ne)}else n(c);m=t(c)}if(m!==null)var Ee=!0;else{var Le=t(h);Le!==null&&ke(z,Le.startTime-Ne),Ee=!1}return Ee}finally{m=null,y=ie,v=!1}}var j=!1,P=null,k=-1,M=5,F=-1;function $(){return!(r.unstable_now()-F<M)}function N(){if(P!==null){var fe=r.unstable_now();F=fe;var Ne=!0;try{Ne=P(!0,fe)}finally{Ne?V():(j=!1,P=null)}}else j=!1}var V;if(typeof x=="function")V=function(){x(N)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ae=_e.port2;_e.port1.onmessage=N,V=function(){ae.postMessage(null)}}else V=function(){T(N,0)};function De(fe){P=fe,j||(j=!0,V())}function ke(fe,Ne){k=T(function(){fe(r.unstable_now())},Ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(fe){fe.callback=null},r.unstable_continueExecution=function(){w||v||(w=!0,De(H))},r.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<fe?Math.floor(1e3/fe):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(fe){switch(y){case 1:case 2:case 3:var Ne=3;break;default:Ne=y}var ie=y;y=Ne;try{return fe()}finally{y=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(fe,Ne){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ie=y;y=fe;try{return Ne()}finally{y=ie}},r.unstable_scheduleCallback=function(fe,Ne,ie){var J=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?J+ie:J):ie=J,fe){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ie+W,fe={id:d++,callback:Ne,priorityLevel:fe,startTime:ie,expirationTime:W,sortIndex:-1},ie>J?(fe.sortIndex=ie,e(h,fe),t(c)===null&&fe===t(h)&&(S?(O(k),k=-1):S=!0,ke(z,ie-J))):(fe.sortIndex=W,e(c,fe),w||v||(w=!0,De(H))),fe},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(fe){var Ne=y;return function(){var ie=y;y=Ne;try{return fe.apply(this,arguments)}finally{y=ie}}}}(km)),km}var Vw;function fC(){return Vw||(Vw=1,Rm.exports=hC()),Rm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function dC(){if(Uw)return On;Uw=1;var r=vv(),e=fC();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},m={};function y(i){return c.call(m,i)?!0:c.call(d,i)?!1:h.test(i)?m[i]=!0:(d[i]=!0,!1)}function v(i,a,f,g){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,a,f,g){if(a===null||typeof a>"u"||v(i,a,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(i,a,f,g,b,I,U){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=i,this.type=a,this.sanitizeURL=I,this.removeEmptyString=U}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];T[a]=new S(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function x(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,x);T[a]=new S(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,x);T[a]=new S(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,x);T[a]=new S(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,a,f,g){var b=T.hasOwnProperty(a)?T[a]:null;(b!==null?b.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,f,b,g)&&(f=null),g||b===null?y(a)&&(f===null?i.removeAttribute(a):i.setAttribute(a,""+f)):b.mustUseProperty?i[b.propertyName]=f===null?b.type===3?!1:"":f:(a=b.attributeName,g=b.attributeNamespace,f===null?i.removeAttribute(a):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,g?i.setAttributeNS(g,a,f):i.setAttribute(a,f))))}var z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),$=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),fe=Symbol.iterator;function Ne(i){return i===null||typeof i!="object"?null:(i=fe&&i[fe]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,J;function W(i){if(J===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);J=a&&a[1]||""}return`
`+J+i}var Ee=!1;function Le(i,a){if(!i||Ee)return"";Ee=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Pe){var g=Pe}Reflect.construct(i,[],a)}else{try{a.call()}catch(Pe){g=Pe}i.call(a.prototype)}else{try{throw Error()}catch(Pe){g=Pe}i()}}catch(Pe){if(Pe&&g&&typeof Pe.stack=="string"){for(var b=Pe.stack.split(`
`),I=g.stack.split(`
`),U=b.length-1,re=I.length-1;1<=U&&0<=re&&b[U]!==I[re];)re--;for(;1<=U&&0<=re;U--,re--)if(b[U]!==I[re]){if(U!==1||re!==1)do if(U--,re--,0>re||b[U]!==I[re]){var he=`
`+b[U].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=U&&0<=re);break}}}finally{Ee=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?W(i):""}function oe(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=Le(i.type,!1),i;case 11:return i=Le(i.type.render,!1),i;case 1:return i=Le(i.type,!0),i;default:return""}}function qe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case j:return"Portal";case M:return"Profiler";case k:return"StrictMode";case V:return"Suspense";case _e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case $:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case N:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return a=i.displayName||null,a!==null?a:qe(i.type)||"Memo";case De:a=i._payload,i=i._init;try{return qe(i(a))}catch{}}return null}function ce(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function te(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ae(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function de(i){var a=Ae(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,I=f.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function(U){g=""+U,I.call(this,U)}}),Object.defineProperty(i,a,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(U){g=""+U},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ge(i){i._valueTracker||(i._valueTracker=de(i))}function we(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var f=a.getValue(),g="";return i&&(g=Ae(i)?i.checked?"true":"false":i.value),i=g,i!==f?(a.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Me(i,a){var f=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function se(i,a){var f=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;f=te(a.value!=null?a.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ue(i,a){a=a.checked,a!=null&&R(i,"checked",a,!1)}function Ie(i,a){ue(i,a);var f=te(a.value),g=a.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?X(i,a.type,f):a.hasOwnProperty("defaultValue")&&X(i,a.type,te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Q(i,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,f||a===i.value||(i.value=a),i.defaultValue=a}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function X(i,a,f){(a!=="number"||Ve(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var ne=Array.isArray;function Y(i,a,f,g){if(i=i.options,a){a={};for(var b=0;b<f.length;b++)a["$"+f[b]]=!0;for(f=0;f<i.length;f++)b=a.hasOwnProperty("$"+i[f].value),i[f].selected!==b&&(i[f].selected=b),b&&g&&(i[f].defaultSelected=!0)}else{for(f=""+te(f),a=null,b=0;b<i.length;b++){if(i[b].value===f){i[b].selected=!0,g&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function pe(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function be(i,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(t(92));if(ne(f)){if(1<f.length)throw Error(t(93));f=f[0]}a=f}a==null&&(a=""),f=a}i._wrapperState={initialValue:te(f)}}function ye(i,a){var f=te(a.value),g=te(a.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),a.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function Xe(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function _(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?_(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var C,q=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,g,b){MSApp.execUnsafeLocalFunction(function(){return i(a,f,g,b)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(C=C||document.createElement("div"),C.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=C.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ee(i,a){if(a){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=a;return}}i.textContent=a}var le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];Object.keys(le).forEach(function(i){Se.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),le[a]=le[i]})});function Ze(i,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||le.hasOwnProperty(i)&&le[i]?(""+a).trim():a+"px"}function et(i,a){i=i.style;for(var f in a)if(a.hasOwnProperty(f)){var g=f.indexOf("--")===0,b=Ze(f,a[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,b):i[f]=b}}var ft=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(i,a){if(a){if(ft[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function gt(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Br=null;function _r(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Tr=null,kt=null,Wt=null;function mt(i){if(i=Uu(i)){if(typeof Tr!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Ah(a),Tr(i.stateNode,i.type,a))}}function Pt(i){kt?Wt?Wt.push(i):Wt=[i]:kt=i}function mr(){if(kt){var i=kt,a=Wt;if(Wt=kt=null,mt(i),a)for(i=0;i<a.length;i++)mt(a[i])}}function Gt(i,a){return i(a)}function wr(){}var jr=!1;function G(i,a,f){if(jr)return i(a,f);jr=!0;try{return Gt(i,a,f)}finally{jr=!1,(kt!==null||Wt!==null)&&(wr(),mr())}}function Z(i,a){var f=i.stateNode;if(f===null)return null;var g=Ah(f);if(g===null)return null;f=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(t(231,a,typeof f));return f}var Ge=!1;if(u)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Ge=!1}function st(i,a,f,g,b,I,U,re,he){var Pe=Array.prototype.slice.call(arguments,3);try{a.apply(f,Pe)}catch(Qe){this.onError(Qe)}}var nr=!1,kr=null,Pr=!1,Ws=null,wu={onError:function(i){nr=!0,kr=i}};function as(i,a,f,g,b,I,U,re,he){nr=!1,kr=null,st.apply(wu,arguments)}function qo(i,a,f,g,b,I,U,re,he){if(as.apply(this,arguments),nr){if(nr){var Pe=kr;nr=!1,kr=null}else throw Error(t(198));Pr||(Pr=!0,Ws=Pe)}}function pn(i){var a=i,f=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(f=a.return),i=a.return;while(i)}return a.tag===3?f:null}function hi(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function mn(i){if(pn(i)!==i)throw Error(t(188))}function Di(i){var a=i.alternate;if(!a){if(a=pn(i),a===null)throw Error(t(188));return a!==i?null:i}for(var f=i,g=a;;){var b=f.return;if(b===null)break;var I=b.alternate;if(I===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===I.child){for(I=b.child;I;){if(I===f)return mn(b),i;if(I===g)return mn(b),a;I=I.sibling}throw Error(t(188))}if(f.return!==g.return)f=b,g=I;else{for(var U=!1,re=b.child;re;){if(re===f){U=!0,f=b,g=I;break}if(re===g){U=!0,g=b,f=I;break}re=re.sibling}if(!U){for(re=I.child;re;){if(re===f){U=!0,f=I,g=b;break}if(re===g){U=!0,g=I,f=b;break}re=re.sibling}if(!U)throw Error(t(189))}}if(f.alternate!==g)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?i:a}function Bn(i){return i=Di(i),i!==null?rn(i):null}function rn(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=rn(i);if(a!==null)return a;i=i.sibling}return null}var Ya=e.unstable_scheduleCallback,bu=e.unstable_cancelCallback,Zc=e.unstable_shouldYield,ep=e.unstable_requestPaint,Jt=e.unstable_now,eh=e.unstable_getCurrentPriorityLevel,Ho=e.unstable_ImmediatePriority,qs=e.unstable_UserBlockingPriority,Yn=e.unstable_NormalPriority,Eu=e.unstable_LowPriority,th=e.unstable_IdlePriority,Qo=null,jn=null;function rh(i){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Qo,i,void 0,(i.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:ih,Su=Math.log,nh=Math.LN2;function ih(i){return i>>>=0,i===0?32:31-(Su(i)/nh|0)|0}var Ja=64,Xa=4194304;function Hs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ko(i,a){var f=i.pendingLanes;if(f===0)return 0;var g=0,b=i.suspendedLanes,I=i.pingedLanes,U=f&268435455;if(U!==0){var re=U&~b;re!==0?g=Hs(re):(I&=U,I!==0&&(g=Hs(I)))}else U=f&~b,U!==0?g=Hs(U):I!==0&&(g=Hs(I));if(g===0)return 0;if(a!==0&&a!==g&&(a&b)===0&&(b=g&-g,I=a&-a,b>=I||b===16&&(I&4194240)!==0))return a;if((g&4)!==0&&(g|=f&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)f=31-gn(a),b=1<<f,g|=i[f],a&=~b;return g}function tp(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ls(i,a){for(var f=i.suspendedLanes,g=i.pingedLanes,b=i.expirationTimes,I=i.pendingLanes;0<I;){var U=31-gn(I),re=1<<U,he=b[U];he===-1?((re&f)===0||(re&g)!==0)&&(b[U]=tp(re,a)):he<=a&&(i.expiredLanes|=re),I&=~re}}function $n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Go(){var i=Ja;return Ja<<=1,(Ja&4194240)===0&&(Ja=64),i}function Qs(i){for(var a=[],f=0;31>f;f++)a.push(i);return a}function Ks(i,a,f){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-gn(a),i[a]=f}function Yt(i,a){var f=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var b=31-gn(f),I=1<<b;a[b]=0,g[b]=-1,i[b]=-1,f&=~I}}function Gs(i,a){var f=i.entangledLanes|=a;for(i=i.entanglements;f;){var g=31-gn(f),b=1<<g;b&a|i[g]&a&&(i[g]|=a),f&=~b}}var Ot=0;function Ys(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var sh,Za,oh,ah,lh,Tu=!1,Li=[],Gr=null,fi=null,di=null,Js=new Map,Jn=new Map,Mi=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(i,a){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Js.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(a.pointerId)}}function An(i,a,f,g,b,I){return i===null||i.nativeEvent!==I?(i={blockedOn:a,domEventName:f,eventSystemFlags:g,nativeEvent:I,targetContainers:[b]},a!==null&&(a=Uu(a),a!==null&&Za(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function np(i,a,f,g,b){switch(a){case"focusin":return Gr=An(Gr,i,a,f,g,b),!0;case"dragenter":return fi=An(fi,i,a,f,g,b),!0;case"mouseover":return di=An(di,i,a,f,g,b),!0;case"pointerover":var I=b.pointerId;return Js.set(I,An(Js.get(I)||null,i,a,f,g,b)),!0;case"gotpointercapture":return I=b.pointerId,Jn.set(I,An(Jn.get(I)||null,i,a,f,g,b)),!0}return!1}function ch(i){var a=ea(i.target);if(a!==null){var f=pn(a);if(f!==null){if(a=f.tag,a===13){if(a=hi(f),a!==null){i.blockedOn=a,lh(i.priority,function(){oh(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function us(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var f=el(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);Br=g,f.target.dispatchEvent(g),Br=null}else return a=Uu(f),a!==null&&Za(a),i.blockedOn=f,!1;a.shift()}return!0}function Yo(i,a,f){us(i)&&f.delete(a)}function hh(){Tu=!1,Gr!==null&&us(Gr)&&(Gr=null),fi!==null&&us(fi)&&(fi=null),di!==null&&us(di)&&(di=null),Js.forEach(Yo),Jn.forEach(Yo)}function pi(i,a){i.blockedOn===a&&(i.blockedOn=null,Tu||(Tu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hh)))}function mi(i){function a(b){return pi(b,i)}if(0<Li.length){pi(Li[0],i);for(var f=1;f<Li.length;f++){var g=Li[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Gr!==null&&pi(Gr,i),fi!==null&&pi(fi,i),di!==null&&pi(di,i),Js.forEach(a),Jn.forEach(a),f=0;f<Mi.length;f++)g=Mi[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<Mi.length&&(f=Mi[0],f.blockedOn===null);)ch(f),f.blockedOn===null&&Mi.shift()}var cs=z.ReactCurrentBatchConfig,Xs=!0;function ir(i,a,f,g){var b=Ot,I=cs.transition;cs.transition=null;try{Ot=1,xu(i,a,f,g)}finally{Ot=b,cs.transition=I}}function ip(i,a,f,g){var b=Ot,I=cs.transition;cs.transition=null;try{Ot=4,xu(i,a,f,g)}finally{Ot=b,cs.transition=I}}function xu(i,a,f,g){if(Xs){var b=el(i,a,f,g);if(b===null)mp(i,a,g,Jo,f),uh(i,g);else if(np(b,i,a,f,g))g.stopPropagation();else if(uh(i,g),a&4&&-1<rp.indexOf(i)){for(;b!==null;){var I=Uu(b);if(I!==null&&sh(I),I=el(i,a,f,g),I===null&&mp(i,a,g,Jo,f),I===b)break;b=I}b!==null&&g.stopPropagation()}else mp(i,a,g,null,f)}}var Jo=null;function el(i,a,f,g){if(Jo=null,i=_r(g),i=ea(i),i!==null)if(a=pn(i),a===null)i=null;else if(f=a.tag,f===13){if(i=hi(a),i!==null)return i;i=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Jo=i,null}function Au(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eh()){case Ho:return 1;case qs:return 4;case Yn:case Eu:return 16;case th:return 536870912;default:return 16}default:return 16}}var zn=null,tl=null,In=null;function Iu(){if(In)return In;var i,a=tl,f=a.length,g,b="value"in zn?zn.value:zn.textContent,I=b.length;for(i=0;i<f&&a[i]===b[i];i++);var U=f-i;for(g=1;g<=U&&a[f-g]===b[I-g];g++);return In=b.slice(i,1<g?1-g:void 0)}function rl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Fi(){return!0}function Cu(){return!1}function Yr(i){function a(f,g,b,I,U){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=I,this.target=U,this.currentTarget=null;for(var re in i)i.hasOwnProperty(re)&&(f=i[re],this[re]=f?f(I):I[re]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Fi:Cu,this.isPropagationStopped=Cu,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),a}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Yr(gi),Vi=ie({},gi,{view:0,detail:0}),sp=Yr(Vi),il,hs,Zs,Xo=ie({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zs&&(Zs&&i.type==="mousemove"?(il=i.screenX-Zs.screenX,hs=i.screenY-Zs.screenY):hs=il=0,Zs=i),il)},movementY:function(i){return"movementY"in i?i.movementY:hs}}),sl=Yr(Xo),Ru=ie({},Xo,{dataTransfer:0}),fh=Yr(Ru),ol=ie({},Vi,{relatedTarget:0}),al=Yr(ol),dh=ie({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Yr(dh),ph=ie({},gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mh=Yr(ph),gh=ie({},gi,{data:0}),ku=Yr(gh),ll={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=yh[i])?!!a[i]:!1}function Ui(){return vh}var p=ie({},Vi,{key:function(i){if(i.key){var a=ll[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=rl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(i){return i.type==="keypress"?rl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),A=Yr(p),D=ie({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K=Yr(D),xe=ie({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),Oe=Yr(xe),it=ie({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qt=Yr(it),Nr=ie({},Xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lt=Yr(Nr),$r=[9,13,27,32],xr=u&&"CompositionEvent"in window,Xn=null;u&&"documentMode"in document&&(Xn=document.documentMode);var Wn=u&&"TextEvent"in window&&!Xn,Zo=u&&(!xr||Xn&&8<Xn&&11>=Xn),ul=" ",A0=!1;function I0(i,a){switch(i){case"keyup":return $r.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var cl=!1;function rI(i,a){switch(i){case"compositionend":return C0(a);case"keypress":return a.which!==32?null:(A0=!0,ul);case"textInput":return i=a.data,i===ul&&A0?null:i;default:return null}}function nI(i,a){if(cl)return i==="compositionend"||!xr&&I0(i,a)?(i=Iu(),In=tl=zn=null,cl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zo&&a.locale!=="ko"?null:a.data;default:return null}}var iI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!iI[i.type]:a==="textarea"}function k0(i,a,f,g){Pt(g),a=Sh(a,"onChange"),0<a.length&&(f=new nl("onChange","change",null,f,g),i.push({event:f,listeners:a}))}var Pu=null,Nu=null;function sI(i){K0(i,0)}function _h(i){var a=ml(i);if(we(a))return i}function oI(i,a){if(i==="change")return a}var P0=!1;if(u){var op;if(u){var ap="oninput"in document;if(!ap){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),ap=typeof N0.oninput=="function"}op=ap}else op=!1;P0=op&&(!document.documentMode||9<document.documentMode)}function O0(){Pu&&(Pu.detachEvent("onpropertychange",D0),Nu=Pu=null)}function D0(i){if(i.propertyName==="value"&&_h(Nu)){var a=[];k0(a,Nu,i,_r(i)),G(sI,a)}}function aI(i,a,f){i==="focusin"?(O0(),Pu=a,Nu=f,Pu.attachEvent("onpropertychange",D0)):i==="focusout"&&O0()}function lI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _h(Nu)}function uI(i,a){if(i==="click")return _h(a)}function cI(i,a){if(i==="input"||i==="change")return _h(a)}function hI(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var yi=typeof Object.is=="function"?Object.is:hI;function Ou(i,a){if(yi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var f=Object.keys(i),g=Object.keys(a);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!c.call(a,b)||!yi(i[b],a[b]))return!1}return!0}function L0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function M0(i,a){var f=L0(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=a&&g>=a)return{node:f,offset:a-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=L0(f)}}function F0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?F0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function V0(){for(var i=window,a=Ve();a instanceof i.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)i=a.contentWindow;else break;a=Ve(i.document)}return a}function lp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function fI(i){var a=V0(),f=i.focusedElem,g=i.selectionRange;if(a!==f&&f&&f.ownerDocument&&F0(f.ownerDocument.documentElement,f)){if(g!==null&&lp(f)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(i,f.value.length);else if(i=(a=f.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var b=f.textContent.length,I=Math.min(g.start,b);g=g.end===void 0?I:Math.min(g.end,b),!i.extend&&I>g&&(b=g,g=I,I=b),b=M0(f,I);var U=M0(f,g);b&&U&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==U.node||i.focusOffset!==U.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),i.removeAllRanges(),I>g?(i.addRange(a),i.extend(U.node,U.offset)):(a.setEnd(U.node,U.offset),i.addRange(a)))}}for(a=[],i=f;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)i=a[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var dI=u&&"documentMode"in document&&11>=document.documentMode,hl=null,up=null,Du=null,cp=!1;function U0(i,a,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;cp||hl==null||hl!==Ve(g)||(g=hl,"selectionStart"in g&&lp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Du&&Ou(Du,g)||(Du=g,g=Sh(up,"onSelect"),0<g.length&&(a=new nl("onSelect","select",null,a,f),i.push({event:a,listeners:g}),a.target=hl)))}function wh(i,a){var f={};return f[i.toLowerCase()]=a.toLowerCase(),f["Webkit"+i]="webkit"+a,f["Moz"+i]="moz"+a,f}var fl={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},hp={},B0={};u&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function bh(i){if(hp[i])return hp[i];if(!fl[i])return i;var a=fl[i],f;for(f in a)if(a.hasOwnProperty(f)&&f in B0)return hp[i]=a[f];return i}var j0=bh("animationend"),$0=bh("animationiteration"),z0=bh("animationstart"),W0=bh("transitionend"),q0=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(i,a){q0.set(i,a),o(a,[i])}for(var fp=0;fp<H0.length;fp++){var dp=H0[fp],pI=dp.toLowerCase(),mI=dp[0].toUpperCase()+dp.slice(1);eo(pI,"on"+mI)}eo(j0,"onAnimationEnd"),eo($0,"onAnimationIteration"),eo(z0,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(W0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function Q0(i,a,f){var g=i.type||"unknown-event";i.currentTarget=f,qo(g,a,void 0,i),i.currentTarget=null}function K0(i,a){a=(a&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],b=g.event;g=g.listeners;e:{var I=void 0;if(a)for(var U=g.length-1;0<=U;U--){var re=g[U],he=re.instance,Pe=re.currentTarget;if(re=re.listener,he!==I&&b.isPropagationStopped())break e;Q0(b,re,Pe),I=he}else for(U=0;U<g.length;U++){if(re=g[U],he=re.instance,Pe=re.currentTarget,re=re.listener,he!==I&&b.isPropagationStopped())break e;Q0(b,re,Pe),I=he}}}if(Pr)throw i=Ws,Pr=!1,Ws=null,i}function Zt(i,a){var f=a[bp];f===void 0&&(f=a[bp]=new Set);var g=i+"__bubble";f.has(g)||(G0(a,i,2,!1),f.add(g))}function pp(i,a,f){var g=0;a&&(g|=4),G0(f,i,g,a)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Mu(i){if(!i[Eh]){i[Eh]=!0,n.forEach(function(f){f!=="selectionchange"&&(gI.has(f)||pp(f,!1,i),pp(f,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Eh]||(a[Eh]=!0,pp("selectionchange",!1,a))}}function G0(i,a,f,g){switch(Au(a)){case 1:var b=ir;break;case 4:b=ip;break;default:b=xu}f=b.bind(null,a,f,i),b=void 0,!Ge||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),g?b!==void 0?i.addEventListener(a,f,{capture:!0,passive:b}):i.addEventListener(a,f,!0):b!==void 0?i.addEventListener(a,f,{passive:b}):i.addEventListener(a,f,!1)}function mp(i,a,f,g,b){var I=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var U=g.tag;if(U===3||U===4){var re=g.stateNode.containerInfo;if(re===b||re.nodeType===8&&re.parentNode===b)break;if(U===4)for(U=g.return;U!==null;){var he=U.tag;if((he===3||he===4)&&(he=U.stateNode.containerInfo,he===b||he.nodeType===8&&he.parentNode===b))return;U=U.return}for(;re!==null;){if(U=ea(re),U===null)return;if(he=U.tag,he===5||he===6){g=I=U;continue e}re=re.parentNode}}g=g.return}G(function(){var Pe=I,Qe=_r(f),Je=[];e:{var He=q0.get(i);if(He!==void 0){var ot=nl,ut=i;switch(i){case"keypress":if(rl(f)===0)break e;case"keydown":case"keyup":ot=A;break;case"focusin":ut="focus",ot=al;break;case"focusout":ut="blur",ot=al;break;case"beforeblur":case"afterblur":ot=al;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Oe;break;case j0:case $0:case z0:ot=fs;break;case W0:ot=qt;break;case"scroll":ot=sp;break;case"wheel":ot=Lt;break;case"copy":case"cut":case"paste":ot=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=K}var ht=(a&4)!==0,br=!ht&&i==="scroll",Ce=ht?He!==null?He+"Capture":null:He;ht=[];for(var ve=Pe,Re;ve!==null;){Re=ve;var tt=Re.stateNode;if(Re.tag===5&&tt!==null&&(Re=tt,Ce!==null&&(tt=Z(ve,Ce),tt!=null&&ht.push(Fu(ve,tt,Re)))),br)break;ve=ve.return}0<ht.length&&(He=new ot(He,ut,null,f,Qe),Je.push({event:He,listeners:ht}))}}if((a&7)===0){e:{if(He=i==="mouseover"||i==="pointerover",ot=i==="mouseout"||i==="pointerout",He&&f!==Br&&(ut=f.relatedTarget||f.fromElement)&&(ea(ut)||ut[ds]))break e;if((ot||He)&&(He=Qe.window===Qe?Qe:(He=Qe.ownerDocument)?He.defaultView||He.parentWindow:window,ot?(ut=f.relatedTarget||f.toElement,ot=Pe,ut=ut?ea(ut):null,ut!==null&&(br=pn(ut),ut!==br||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(ot=null,ut=Pe),ot!==ut)){if(ht=sl,tt="onMouseLeave",Ce="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(ht=K,tt="onPointerLeave",Ce="onPointerEnter",ve="pointer"),br=ot==null?He:ml(ot),Re=ut==null?He:ml(ut),He=new ht(tt,ve+"leave",ot,f,Qe),He.target=br,He.relatedTarget=Re,tt=null,ea(Qe)===Pe&&(ht=new ht(Ce,ve+"enter",ut,f,Qe),ht.target=Re,ht.relatedTarget=br,tt=ht),br=tt,ot&&ut)t:{for(ht=ot,Ce=ut,ve=0,Re=ht;Re;Re=dl(Re))ve++;for(Re=0,tt=Ce;tt;tt=dl(tt))Re++;for(;0<ve-Re;)ht=dl(ht),ve--;for(;0<Re-ve;)Ce=dl(Ce),Re--;for(;ve--;){if(ht===Ce||Ce!==null&&ht===Ce.alternate)break t;ht=dl(ht),Ce=dl(Ce)}ht=null}else ht=null;ot!==null&&Y0(Je,He,ot,ht,!1),ut!==null&&br!==null&&Y0(Je,br,ut,ht,!0)}}e:{if(He=Pe?ml(Pe):window,ot=He.nodeName&&He.nodeName.toLowerCase(),ot==="select"||ot==="input"&&He.type==="file")var dt=oI;else if(R0(He))if(P0)dt=cI;else{dt=lI;var vt=aI}else(ot=He.nodeName)&&ot.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(dt=uI);if(dt&&(dt=dt(i,Pe))){k0(Je,dt,f,Qe);break e}vt&&vt(i,He,Pe),i==="focusout"&&(vt=He._wrapperState)&&vt.controlled&&He.type==="number"&&X(He,"number",He.value)}switch(vt=Pe?ml(Pe):window,i){case"focusin":(R0(vt)||vt.contentEditable==="true")&&(hl=vt,up=Pe,Du=null);break;case"focusout":Du=up=hl=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,U0(Je,f,Qe);break;case"selectionchange":if(dI)break;case"keydown":case"keyup":U0(Je,f,Qe)}var _t;if(xr)e:{switch(i){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else cl?I0(i,f)&&(St="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(St="onCompositionStart");St&&(Zo&&f.locale!=="ko"&&(cl||St!=="onCompositionStart"?St==="onCompositionEnd"&&cl&&(_t=Iu()):(zn=Qe,tl="value"in zn?zn.value:zn.textContent,cl=!0)),vt=Sh(Pe,St),0<vt.length&&(St=new ku(St,i,null,f,Qe),Je.push({event:St,listeners:vt}),_t?St.data=_t:(_t=C0(f),_t!==null&&(St.data=_t)))),(_t=Wn?rI(i,f):nI(i,f))&&(Pe=Sh(Pe,"onBeforeInput"),0<Pe.length&&(Qe=new ku("onBeforeInput","beforeinput",null,f,Qe),Je.push({event:Qe,listeners:Pe}),Qe.data=_t))}K0(Je,a)})}function Fu(i,a,f){return{instance:i,listener:a,currentTarget:f}}function Sh(i,a){for(var f=a+"Capture",g=[];i!==null;){var b=i,I=b.stateNode;b.tag===5&&I!==null&&(b=I,I=Z(i,f),I!=null&&g.unshift(Fu(i,I,b)),I=Z(i,a),I!=null&&g.push(Fu(i,I,b))),i=i.return}return g}function dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Y0(i,a,f,g,b){for(var I=a._reactName,U=[];f!==null&&f!==g;){var re=f,he=re.alternate,Pe=re.stateNode;if(he!==null&&he===g)break;re.tag===5&&Pe!==null&&(re=Pe,b?(he=Z(f,I),he!=null&&U.unshift(Fu(f,he,re))):b||(he=Z(f,I),he!=null&&U.push(Fu(f,he,re)))),f=f.return}U.length!==0&&i.push({event:a,listeners:U})}var yI=/\r\n?/g,vI=/\u0000|\uFFFD/g;function J0(i){return(typeof i=="string"?i:""+i).replace(yI,`
`).replace(vI,"")}function Th(i,a,f){if(a=J0(a),J0(i)!==a&&f)throw Error(t(425))}function xh(){}var gp=null,yp=null;function vp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,_I=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,wI=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(i){return X0.resolve(null).then(i).catch(bI)}:_p;function bI(i){setTimeout(function(){throw i})}function wp(i,a){var f=a,g=0;do{var b=f.nextSibling;if(i.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(g===0){i.removeChild(b),mi(a);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=b}while(f);mi(a)}function to(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Z0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return i;a--}else f==="/$"&&a++}i=i.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Bi="__reactFiber$"+pl,Vu="__reactProps$"+pl,ds="__reactContainer$"+pl,bp="__reactEvents$"+pl,EI="__reactListeners$"+pl,SI="__reactHandles$"+pl;function ea(i){var a=i[Bi];if(a)return a;for(var f=i.parentNode;f;){if(a=f[ds]||f[Bi]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(i=Z0(i);i!==null;){if(f=i[Bi])return f;i=Z0(i)}return a}i=f,f=i.parentNode}return null}function Uu(i){return i=i[Bi]||i[ds],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ml(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ah(i){return i[Vu]||null}var Ep=[],gl=-1;function ro(i){return{current:i}}function er(i){0>gl||(i.current=Ep[gl],Ep[gl]=null,gl--)}function Xt(i,a){gl++,Ep[gl]=i.current,i.current=a}var no={},nn=ro(no),Cn=ro(!1),ta=no;function yl(i,a){var f=i.type.contextTypes;if(!f)return no;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var b={},I;for(I in f)b[I]=a[I];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=b),b}function Rn(i){return i=i.childContextTypes,i!=null}function Ih(){er(Cn),er(nn)}function e_(i,a,f){if(nn.current!==no)throw Error(t(168));Xt(nn,a),Xt(Cn,f)}function t_(i,a,f){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var b in g)if(!(b in a))throw Error(t(108,ce(i)||"Unknown",b));return ie({},f,g)}function Ch(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||no,ta=nn.current,Xt(nn,i),Xt(Cn,Cn.current),!0}function r_(i,a,f){var g=i.stateNode;if(!g)throw Error(t(169));f?(i=t_(i,a,ta),g.__reactInternalMemoizedMergedChildContext=i,er(Cn),er(nn),Xt(nn,i)):er(Cn),Xt(Cn,f)}var ps=null,Rh=!1,Sp=!1;function n_(i){ps===null?ps=[i]:ps.push(i)}function TI(i){Rh=!0,n_(i)}function io(){if(!Sp&&ps!==null){Sp=!0;var i=0,a=Ot;try{var f=ps;for(Ot=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}ps=null,Rh=!1}catch(b){throw ps!==null&&(ps=ps.slice(i+1)),Ya(Ho,io),b}finally{Ot=a,Sp=!1}}return null}var vl=[],_l=0,kh=null,Ph=0,Zn=[],ei=0,ra=null,ms=1,gs="";function na(i,a){vl[_l++]=Ph,vl[_l++]=kh,kh=i,Ph=a}function i_(i,a,f){Zn[ei++]=ms,Zn[ei++]=gs,Zn[ei++]=ra,ra=i;var g=ms;i=gs;var b=32-gn(g)-1;g&=~(1<<b),f+=1;var I=32-gn(a)+b;if(30<I){var U=b-b%5;I=(g&(1<<U)-1).toString(32),g>>=U,b-=U,ms=1<<32-gn(a)+b|f<<b|g,gs=I+i}else ms=1<<I|f<<b|g,gs=i}function Tp(i){i.return!==null&&(na(i,1),i_(i,1,0))}function xp(i){for(;i===kh;)kh=vl[--_l],vl[_l]=null,Ph=vl[--_l],vl[_l]=null;for(;i===ra;)ra=Zn[--ei],Zn[ei]=null,gs=Zn[--ei],Zn[ei]=null,ms=Zn[--ei],Zn[ei]=null}var qn=null,Hn=null,sr=!1,vi=null;function s_(i,a){var f=ii(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=i,a=i.deletions,a===null?(i.deletions=[f],i.flags|=16):a.push(f)}function o_(i,a){switch(i.tag){case 5:var f=i.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,qn=i,Hn=to(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,qn=i,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=ra!==null?{id:ms,overflow:gs}:null,i.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=ii(18,null,null,0),f.stateNode=a,f.return=i,i.child=f,qn=i,Hn=null,!0):!1;default:return!1}}function Ap(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ip(i){if(sr){var a=Hn;if(a){var f=a;if(!o_(i,a)){if(Ap(i))throw Error(t(418));a=to(f.nextSibling);var g=qn;a&&o_(i,a)?s_(g,f):(i.flags=i.flags&-4097|2,sr=!1,qn=i)}}else{if(Ap(i))throw Error(t(418));i.flags=i.flags&-4097|2,sr=!1,qn=i}}}function a_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;qn=i}function Nh(i){if(i!==qn)return!1;if(!sr)return a_(i),sr=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!vp(i.type,i.memoizedProps)),a&&(a=Hn)){if(Ap(i))throw l_(),Error(t(418));for(;a;)s_(i,a),a=to(a.nextSibling)}if(a_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(a===0){Hn=to(i.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}i=i.nextSibling}Hn=null}}else Hn=qn?to(i.stateNode.nextSibling):null;return!0}function l_(){for(var i=Hn;i;)i=to(i.nextSibling)}function wl(){Hn=qn=null,sr=!1}function Cp(i){vi===null?vi=[i]:vi.push(i)}var xI=z.ReactCurrentBatchConfig;function Bu(i,a,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var g=f.stateNode}if(!g)throw Error(t(147,i));var b=g,I=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===I?a.ref:(a=function(U){var re=b.refs;U===null?delete re[I]:re[I]=U},a._stringRef=I,a)}if(typeof i!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,i))}return i}function Oh(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function u_(i){var a=i._init;return a(i._payload)}function c_(i){function a(Ce,ve){if(i){var Re=Ce.deletions;Re===null?(Ce.deletions=[ve],Ce.flags|=16):Re.push(ve)}}function f(Ce,ve){if(!i)return null;for(;ve!==null;)a(Ce,ve),ve=ve.sibling;return null}function g(Ce,ve){for(Ce=new Map;ve!==null;)ve.key!==null?Ce.set(ve.key,ve):Ce.set(ve.index,ve),ve=ve.sibling;return Ce}function b(Ce,ve){return Ce=fo(Ce,ve),Ce.index=0,Ce.sibling=null,Ce}function I(Ce,ve,Re){return Ce.index=Re,i?(Re=Ce.alternate,Re!==null?(Re=Re.index,Re<ve?(Ce.flags|=2,ve):Re):(Ce.flags|=2,ve)):(Ce.flags|=1048576,ve)}function U(Ce){return i&&Ce.alternate===null&&(Ce.flags|=2),Ce}function re(Ce,ve,Re,tt){return ve===null||ve.tag!==6?(ve=_m(Re,Ce.mode,tt),ve.return=Ce,ve):(ve=b(ve,Re),ve.return=Ce,ve)}function he(Ce,ve,Re,tt){var dt=Re.type;return dt===P?Qe(Ce,ve,Re.props.children,tt,Re.key):ve!==null&&(ve.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===De&&u_(dt)===ve.type)?(tt=b(ve,Re.props),tt.ref=Bu(Ce,ve,Re),tt.return=Ce,tt):(tt=nf(Re.type,Re.key,Re.props,null,Ce.mode,tt),tt.ref=Bu(Ce,ve,Re),tt.return=Ce,tt)}function Pe(Ce,ve,Re,tt){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Re.containerInfo||ve.stateNode.implementation!==Re.implementation?(ve=wm(Re,Ce.mode,tt),ve.return=Ce,ve):(ve=b(ve,Re.children||[]),ve.return=Ce,ve)}function Qe(Ce,ve,Re,tt,dt){return ve===null||ve.tag!==7?(ve=ha(Re,Ce.mode,tt,dt),ve.return=Ce,ve):(ve=b(ve,Re),ve.return=Ce,ve)}function Je(Ce,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=_m(""+ve,Ce.mode,Re),ve.return=Ce,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case H:return Re=nf(ve.type,ve.key,ve.props,null,Ce.mode,Re),Re.ref=Bu(Ce,null,ve),Re.return=Ce,Re;case j:return ve=wm(ve,Ce.mode,Re),ve.return=Ce,ve;case De:var tt=ve._init;return Je(Ce,tt(ve._payload),Re)}if(ne(ve)||Ne(ve))return ve=ha(ve,Ce.mode,Re,null),ve.return=Ce,ve;Oh(Ce,ve)}return null}function He(Ce,ve,Re,tt){var dt=ve!==null?ve.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return dt!==null?null:re(Ce,ve,""+Re,tt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case H:return Re.key===dt?he(Ce,ve,Re,tt):null;case j:return Re.key===dt?Pe(Ce,ve,Re,tt):null;case De:return dt=Re._init,He(Ce,ve,dt(Re._payload),tt)}if(ne(Re)||Ne(Re))return dt!==null?null:Qe(Ce,ve,Re,tt,null);Oh(Ce,Re)}return null}function ot(Ce,ve,Re,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Ce=Ce.get(Re)||null,re(ve,Ce,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case H:return Ce=Ce.get(tt.key===null?Re:tt.key)||null,he(ve,Ce,tt,dt);case j:return Ce=Ce.get(tt.key===null?Re:tt.key)||null,Pe(ve,Ce,tt,dt);case De:var vt=tt._init;return ot(Ce,ve,Re,vt(tt._payload),dt)}if(ne(tt)||Ne(tt))return Ce=Ce.get(Re)||null,Qe(ve,Ce,tt,dt,null);Oh(ve,tt)}return null}function ut(Ce,ve,Re,tt){for(var dt=null,vt=null,_t=ve,St=ve=0,qr=null;_t!==null&&St<Re.length;St++){_t.index>St?(qr=_t,_t=null):qr=_t.sibling;var Ut=He(Ce,_t,Re[St],tt);if(Ut===null){_t===null&&(_t=qr);break}i&&_t&&Ut.alternate===null&&a(Ce,_t),ve=I(Ut,ve,St),vt===null?dt=Ut:vt.sibling=Ut,vt=Ut,_t=qr}if(St===Re.length)return f(Ce,_t),sr&&na(Ce,St),dt;if(_t===null){for(;St<Re.length;St++)_t=Je(Ce,Re[St],tt),_t!==null&&(ve=I(_t,ve,St),vt===null?dt=_t:vt.sibling=_t,vt=_t);return sr&&na(Ce,St),dt}for(_t=g(Ce,_t);St<Re.length;St++)qr=ot(_t,Ce,St,Re[St],tt),qr!==null&&(i&&qr.alternate!==null&&_t.delete(qr.key===null?St:qr.key),ve=I(qr,ve,St),vt===null?dt=qr:vt.sibling=qr,vt=qr);return i&&_t.forEach(function(po){return a(Ce,po)}),sr&&na(Ce,St),dt}function ht(Ce,ve,Re,tt){var dt=Ne(Re);if(typeof dt!="function")throw Error(t(150));if(Re=dt.call(Re),Re==null)throw Error(t(151));for(var vt=dt=null,_t=ve,St=ve=0,qr=null,Ut=Re.next();_t!==null&&!Ut.done;St++,Ut=Re.next()){_t.index>St?(qr=_t,_t=null):qr=_t.sibling;var po=He(Ce,_t,Ut.value,tt);if(po===null){_t===null&&(_t=qr);break}i&&_t&&po.alternate===null&&a(Ce,_t),ve=I(po,ve,St),vt===null?dt=po:vt.sibling=po,vt=po,_t=qr}if(Ut.done)return f(Ce,_t),sr&&na(Ce,St),dt;if(_t===null){for(;!Ut.done;St++,Ut=Re.next())Ut=Je(Ce,Ut.value,tt),Ut!==null&&(ve=I(Ut,ve,St),vt===null?dt=Ut:vt.sibling=Ut,vt=Ut);return sr&&na(Ce,St),dt}for(_t=g(Ce,_t);!Ut.done;St++,Ut=Re.next())Ut=ot(_t,Ce,St,Ut.value,tt),Ut!==null&&(i&&Ut.alternate!==null&&_t.delete(Ut.key===null?St:Ut.key),ve=I(Ut,ve,St),vt===null?dt=Ut:vt.sibling=Ut,vt=Ut);return i&&_t.forEach(function(iC){return a(Ce,iC)}),sr&&na(Ce,St),dt}function br(Ce,ve,Re,tt){if(typeof Re=="object"&&Re!==null&&Re.type===P&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case H:e:{for(var dt=Re.key,vt=ve;vt!==null;){if(vt.key===dt){if(dt=Re.type,dt===P){if(vt.tag===7){f(Ce,vt.sibling),ve=b(vt,Re.props.children),ve.return=Ce,Ce=ve;break e}}else if(vt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===De&&u_(dt)===vt.type){f(Ce,vt.sibling),ve=b(vt,Re.props),ve.ref=Bu(Ce,vt,Re),ve.return=Ce,Ce=ve;break e}f(Ce,vt);break}else a(Ce,vt);vt=vt.sibling}Re.type===P?(ve=ha(Re.props.children,Ce.mode,tt,Re.key),ve.return=Ce,Ce=ve):(tt=nf(Re.type,Re.key,Re.props,null,Ce.mode,tt),tt.ref=Bu(Ce,ve,Re),tt.return=Ce,Ce=tt)}return U(Ce);case j:e:{for(vt=Re.key;ve!==null;){if(ve.key===vt)if(ve.tag===4&&ve.stateNode.containerInfo===Re.containerInfo&&ve.stateNode.implementation===Re.implementation){f(Ce,ve.sibling),ve=b(ve,Re.children||[]),ve.return=Ce,Ce=ve;break e}else{f(Ce,ve);break}else a(Ce,ve);ve=ve.sibling}ve=wm(Re,Ce.mode,tt),ve.return=Ce,Ce=ve}return U(Ce);case De:return vt=Re._init,br(Ce,ve,vt(Re._payload),tt)}if(ne(Re))return ut(Ce,ve,Re,tt);if(Ne(Re))return ht(Ce,ve,Re,tt);Oh(Ce,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ve!==null&&ve.tag===6?(f(Ce,ve.sibling),ve=b(ve,Re),ve.return=Ce,Ce=ve):(f(Ce,ve),ve=_m(Re,Ce.mode,tt),ve.return=Ce,Ce=ve),U(Ce)):f(Ce,ve)}return br}var bl=c_(!0),h_=c_(!1),Dh=ro(null),Lh=null,El=null,Rp=null;function kp(){Rp=El=Lh=null}function Pp(i){var a=Dh.current;er(Dh),i._currentValue=a}function Np(i,a,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===f)break;i=i.return}}function Sl(i,a){Lh=i,Rp=El=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(kn=!0),i.firstContext=null)}function ti(i){var a=i._currentValue;if(Rp!==i)if(i={context:i,memoizedValue:a,next:null},El===null){if(Lh===null)throw Error(t(308));El=i,Lh.dependencies={lanes:0,firstContext:i}}else El=El.next=i;return a}var ia=null;function Op(i){ia===null?ia=[i]:ia.push(i)}function f_(i,a,f,g){var b=a.interleaved;return b===null?(f.next=f,Op(a)):(f.next=b.next,b.next=f),a.interleaved=f,ys(i,g)}function ys(i,a){i.lanes|=a;var f=i.alternate;for(f!==null&&(f.lanes|=a),f=i,i=i.return;i!==null;)i.childLanes|=a,f=i.alternate,f!==null&&(f.childLanes|=a),f=i,i=i.return;return f.tag===3?f.stateNode:null}var so=!1;function Dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function oo(i,a,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Vt&2)!==0){var b=g.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),g.pending=a,ys(i,f)}return b=g.interleaved,b===null?(a.next=a,Op(g)):(a.next=b.next,b.next=a),g.interleaved=a,ys(i,f)}function Mh(i,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,f|=g,a.lanes=f,Gs(i,f)}}function p_(i,a){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,I=null;if(f=f.firstBaseUpdate,f!==null){do{var U={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};I===null?b=I=U:I=I.next=U,f=f.next}while(f!==null);I===null?b=I=a:I=I.next=a}else b=I=a;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:I,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=a:i.next=a,f.lastBaseUpdate=a}function Fh(i,a,f,g){var b=i.updateQueue;so=!1;var I=b.firstBaseUpdate,U=b.lastBaseUpdate,re=b.shared.pending;if(re!==null){b.shared.pending=null;var he=re,Pe=he.next;he.next=null,U===null?I=Pe:U.next=Pe,U=he;var Qe=i.alternate;Qe!==null&&(Qe=Qe.updateQueue,re=Qe.lastBaseUpdate,re!==U&&(re===null?Qe.firstBaseUpdate=Pe:re.next=Pe,Qe.lastBaseUpdate=he))}if(I!==null){var Je=b.baseState;U=0,Qe=Pe=he=null,re=I;do{var He=re.lane,ot=re.eventTime;if((g&He)===He){Qe!==null&&(Qe=Qe.next={eventTime:ot,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ut=i,ht=re;switch(He=a,ot=f,ht.tag){case 1:if(ut=ht.payload,typeof ut=="function"){Je=ut.call(ot,Je,He);break e}Je=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ht.payload,He=typeof ut=="function"?ut.call(ot,Je,He):ut,He==null)break e;Je=ie({},Je,He);break e;case 2:so=!0}}re.callback!==null&&re.lane!==0&&(i.flags|=64,He=b.effects,He===null?b.effects=[re]:He.push(re))}else ot={eventTime:ot,lane:He,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Qe===null?(Pe=Qe=ot,he=Je):Qe=Qe.next=ot,U|=He;if(re=re.next,re===null){if(re=b.shared.pending,re===null)break;He=re,re=He.next,He.next=null,b.lastBaseUpdate=He,b.shared.pending=null}}while(!0);if(Qe===null&&(he=Je),b.baseState=he,b.firstBaseUpdate=Pe,b.lastBaseUpdate=Qe,a=b.shared.interleaved,a!==null){b=a;do U|=b.lane,b=b.next;while(b!==a)}else I===null&&(b.shared.lanes=0);aa|=U,i.lanes=U,i.memoizedState=Je}}function m_(i,a,f){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],b=g.callback;if(b!==null){if(g.callback=null,g=f,typeof b!="function")throw Error(t(191,b));b.call(g)}}}var ju={},ji=ro(ju),$u=ro(ju),zu=ro(ju);function sa(i){if(i===ju)throw Error(t(174));return i}function Lp(i,a){switch(Xt(zu,a),Xt($u,i),Xt(ji,ju),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:E(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=E(a,i)}er(ji),Xt(ji,a)}function Tl(){er(ji),er($u),er(zu)}function g_(i){sa(zu.current);var a=sa(ji.current),f=E(a,i.type);a!==f&&(Xt($u,i),Xt(ji,f))}function Mp(i){$u.current===i&&(er(ji),er($u))}var cr=ro(0);function Vh(i){for(var a=i;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fp=[];function Vp(){for(var i=0;i<Fp.length;i++)Fp[i]._workInProgressVersionPrimary=null;Fp.length=0}var Uh=z.ReactCurrentDispatcher,Up=z.ReactCurrentBatchConfig,oa=0,hr=null,Or=null,zr=null,Bh=!1,Wu=!1,qu=0,AI=0;function sn(){throw Error(t(321))}function Bp(i,a){if(a===null)return!1;for(var f=0;f<a.length&&f<i.length;f++)if(!yi(i[f],a[f]))return!1;return!0}function jp(i,a,f,g,b,I){if(oa=I,hr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Uh.current=i===null||i.memoizedState===null?kI:PI,i=f(g,b),Wu){I=0;do{if(Wu=!1,qu=0,25<=I)throw Error(t(301));I+=1,zr=Or=null,a.updateQueue=null,Uh.current=NI,i=f(g,b)}while(Wu)}if(Uh.current=zh,a=Or!==null&&Or.next!==null,oa=0,zr=Or=hr=null,Bh=!1,a)throw Error(t(300));return i}function $p(){var i=qu!==0;return qu=0,i}function $i(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?hr.memoizedState=zr=i:zr=zr.next=i,zr}function ri(){if(Or===null){var i=hr.alternate;i=i!==null?i.memoizedState:null}else i=Or.next;var a=zr===null?hr.memoizedState:zr.next;if(a!==null)zr=a,Or=i;else{if(i===null)throw Error(t(310));Or=i,i={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},zr===null?hr.memoizedState=zr=i:zr=zr.next=i}return zr}function Hu(i,a){return typeof a=="function"?a(i):a}function zp(i){var a=ri(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=i;var g=Or,b=g.baseQueue,I=f.pending;if(I!==null){if(b!==null){var U=b.next;b.next=I.next,I.next=U}g.baseQueue=b=I,f.pending=null}if(b!==null){I=b.next,g=g.baseState;var re=U=null,he=null,Pe=I;do{var Qe=Pe.lane;if((oa&Qe)===Qe)he!==null&&(he=he.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),g=Pe.hasEagerState?Pe.eagerState:i(g,Pe.action);else{var Je={lane:Qe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};he===null?(re=he=Je,U=g):he=he.next=Je,hr.lanes|=Qe,aa|=Qe}Pe=Pe.next}while(Pe!==null&&Pe!==I);he===null?U=g:he.next=re,yi(g,a.memoizedState)||(kn=!0),a.memoizedState=g,a.baseState=U,a.baseQueue=he,f.lastRenderedState=g}if(i=f.interleaved,i!==null){b=i;do I=b.lane,hr.lanes|=I,aa|=I,b=b.next;while(b!==i)}else b===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function Wp(i){var a=ri(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=i;var g=f.dispatch,b=f.pending,I=a.memoizedState;if(b!==null){f.pending=null;var U=b=b.next;do I=i(I,U.action),U=U.next;while(U!==b);yi(I,a.memoizedState)||(kn=!0),a.memoizedState=I,a.baseQueue===null&&(a.baseState=I),f.lastRenderedState=I}return[I,g]}function y_(){}function v_(i,a){var f=hr,g=ri(),b=a(),I=!yi(g.memoizedState,b);if(I&&(g.memoizedState=b,kn=!0),g=g.queue,qp(b_.bind(null,f,g,i),[i]),g.getSnapshot!==a||I||zr!==null&&zr.memoizedState.tag&1){if(f.flags|=2048,Qu(9,w_.bind(null,f,g,b,a),void 0,null),Wr===null)throw Error(t(349));(oa&30)!==0||__(f,a,b)}return b}function __(i,a,f){i.flags|=16384,i={getSnapshot:a,value:f},a=hr.updateQueue,a===null?(a={lastEffect:null,stores:null},hr.updateQueue=a,a.stores=[i]):(f=a.stores,f===null?a.stores=[i]:f.push(i))}function w_(i,a,f,g){a.value=f,a.getSnapshot=g,E_(a)&&S_(i)}function b_(i,a,f){return f(function(){E_(a)&&S_(i)})}function E_(i){var a=i.getSnapshot;i=i.value;try{var f=a();return!yi(i,f)}catch{return!0}}function S_(i){var a=ys(i,1);a!==null&&Ei(a,i,1,-1)}function T_(i){var a=$i();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:i},a.queue=i,i=i.dispatch=RI.bind(null,hr,i),[a.memoizedState,i]}function Qu(i,a,f,g){return i={tag:i,create:a,destroy:f,deps:g,next:null},a=hr.updateQueue,a===null?(a={lastEffect:null,stores:null},hr.updateQueue=a,a.lastEffect=i.next=i):(f=a.lastEffect,f===null?a.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,a.lastEffect=i)),i}function x_(){return ri().memoizedState}function jh(i,a,f,g){var b=$i();hr.flags|=i,b.memoizedState=Qu(1|a,f,void 0,g===void 0?null:g)}function $h(i,a,f,g){var b=ri();g=g===void 0?null:g;var I=void 0;if(Or!==null){var U=Or.memoizedState;if(I=U.destroy,g!==null&&Bp(g,U.deps)){b.memoizedState=Qu(a,f,I,g);return}}hr.flags|=i,b.memoizedState=Qu(1|a,f,I,g)}function A_(i,a){return jh(8390656,8,i,a)}function qp(i,a){return $h(2048,8,i,a)}function I_(i,a){return $h(4,2,i,a)}function C_(i,a){return $h(4,4,i,a)}function R_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function k_(i,a,f){return f=f!=null?f.concat([i]):null,$h(4,4,R_.bind(null,a,i),f)}function Hp(){}function P_(i,a){var f=ri();a=a===void 0?null:a;var g=f.memoizedState;return g!==null&&a!==null&&Bp(a,g[1])?g[0]:(f.memoizedState=[i,a],i)}function N_(i,a){var f=ri();a=a===void 0?null:a;var g=f.memoizedState;return g!==null&&a!==null&&Bp(a,g[1])?g[0]:(i=i(),f.memoizedState=[i,a],i)}function O_(i,a,f){return(oa&21)===0?(i.baseState&&(i.baseState=!1,kn=!0),i.memoizedState=f):(yi(f,a)||(f=Go(),hr.lanes|=f,aa|=f,i.baseState=!0),a)}function II(i,a){var f=Ot;Ot=f!==0&&4>f?f:4,i(!0);var g=Up.transition;Up.transition={};try{i(!1),a()}finally{Ot=f,Up.transition=g}}function D_(){return ri().memoizedState}function CI(i,a,f){var g=co(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},L_(i))M_(a,f);else if(f=f_(i,a,f,g),f!==null){var b=_n();Ei(f,i,g,b),F_(f,a,g)}}function RI(i,a,f){var g=co(i),b={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(L_(i))M_(a,b);else{var I=i.alternate;if(i.lanes===0&&(I===null||I.lanes===0)&&(I=a.lastRenderedReducer,I!==null))try{var U=a.lastRenderedState,re=I(U,f);if(b.hasEagerState=!0,b.eagerState=re,yi(re,U)){var he=a.interleaved;he===null?(b.next=b,Op(a)):(b.next=he.next,he.next=b),a.interleaved=b;return}}catch{}finally{}f=f_(i,a,b,g),f!==null&&(b=_n(),Ei(f,i,g,b),F_(f,a,g))}}function L_(i){var a=i.alternate;return i===hr||a!==null&&a===hr}function M_(i,a){Wu=Bh=!0;var f=i.pending;f===null?a.next=a:(a.next=f.next,f.next=a),i.pending=a}function F_(i,a,f){if((f&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,f|=g,a.lanes=f,Gs(i,f)}}var zh={readContext:ti,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},kI={readContext:ti,useCallback:function(i,a){return $i().memoizedState=[i,a===void 0?null:a],i},useContext:ti,useEffect:A_,useImperativeHandle:function(i,a,f){return f=f!=null?f.concat([i]):null,jh(4194308,4,R_.bind(null,a,i),f)},useLayoutEffect:function(i,a){return jh(4194308,4,i,a)},useInsertionEffect:function(i,a){return jh(4,2,i,a)},useMemo:function(i,a){var f=$i();return a=a===void 0?null:a,i=i(),f.memoizedState=[i,a],i},useReducer:function(i,a,f){var g=$i();return a=f!==void 0?f(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=CI.bind(null,hr,i),[g.memoizedState,i]},useRef:function(i){var a=$i();return i={current:i},a.memoizedState=i},useState:T_,useDebugValue:Hp,useDeferredValue:function(i){return $i().memoizedState=i},useTransition:function(){var i=T_(!1),a=i[0];return i=II.bind(null,i[1]),$i().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,f){var g=hr,b=$i();if(sr){if(f===void 0)throw Error(t(407));f=f()}else{if(f=a(),Wr===null)throw Error(t(349));(oa&30)!==0||__(g,a,f)}b.memoizedState=f;var I={value:f,getSnapshot:a};return b.queue=I,A_(b_.bind(null,g,I,i),[i]),g.flags|=2048,Qu(9,w_.bind(null,g,I,f,a),void 0,null),f},useId:function(){var i=$i(),a=Wr.identifierPrefix;if(sr){var f=gs,g=ms;f=(g&~(1<<32-gn(g)-1)).toString(32)+f,a=":"+a+"R"+f,f=qu++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=AI++,a=":"+a+"r"+f.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},PI={readContext:ti,useCallback:P_,useContext:ti,useEffect:qp,useImperativeHandle:k_,useInsertionEffect:I_,useLayoutEffect:C_,useMemo:N_,useReducer:zp,useRef:x_,useState:function(){return zp(Hu)},useDebugValue:Hp,useDeferredValue:function(i){var a=ri();return O_(a,Or.memoizedState,i)},useTransition:function(){var i=zp(Hu)[0],a=ri().memoizedState;return[i,a]},useMutableSource:y_,useSyncExternalStore:v_,useId:D_,unstable_isNewReconciler:!1},NI={readContext:ti,useCallback:P_,useContext:ti,useEffect:qp,useImperativeHandle:k_,useInsertionEffect:I_,useLayoutEffect:C_,useMemo:N_,useReducer:Wp,useRef:x_,useState:function(){return Wp(Hu)},useDebugValue:Hp,useDeferredValue:function(i){var a=ri();return Or===null?a.memoizedState=i:O_(a,Or.memoizedState,i)},useTransition:function(){var i=Wp(Hu)[0],a=ri().memoizedState;return[i,a]},useMutableSource:y_,useSyncExternalStore:v_,useId:D_,unstable_isNewReconciler:!1};function _i(i,a){if(i&&i.defaultProps){a=ie({},a),i=i.defaultProps;for(var f in i)a[f]===void 0&&(a[f]=i[f]);return a}return a}function Qp(i,a,f,g){a=i.memoizedState,f=f(g,a),f=f==null?a:ie({},a,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Wh={isMounted:function(i){return(i=i._reactInternals)?pn(i)===i:!1},enqueueSetState:function(i,a,f){i=i._reactInternals;var g=_n(),b=co(i),I=vs(g,b);I.payload=a,f!=null&&(I.callback=f),a=oo(i,I,b),a!==null&&(Ei(a,i,b,g),Mh(a,i,b))},enqueueReplaceState:function(i,a,f){i=i._reactInternals;var g=_n(),b=co(i),I=vs(g,b);I.tag=1,I.payload=a,f!=null&&(I.callback=f),a=oo(i,I,b),a!==null&&(Ei(a,i,b,g),Mh(a,i,b))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var f=_n(),g=co(i),b=vs(f,g);b.tag=2,a!=null&&(b.callback=a),a=oo(i,b,g),a!==null&&(Ei(a,i,g,f),Mh(a,i,g))}};function V_(i,a,f,g,b,I,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,I,U):a.prototype&&a.prototype.isPureReactComponent?!Ou(f,g)||!Ou(b,I):!0}function U_(i,a,f){var g=!1,b=no,I=a.contextType;return typeof I=="object"&&I!==null?I=ti(I):(b=Rn(a)?ta:nn.current,g=a.contextTypes,I=(g=g!=null)?yl(i,b):no),a=new a(f,I),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Wh,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=I),a}function B_(i,a,f,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,g),a.state!==i&&Wh.enqueueReplaceState(a,a.state,null)}function Kp(i,a,f,g){var b=i.stateNode;b.props=f,b.state=i.memoizedState,b.refs={},Dp(i);var I=a.contextType;typeof I=="object"&&I!==null?b.context=ti(I):(I=Rn(a)?ta:nn.current,b.context=yl(i,I)),b.state=i.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Qp(i,a,I,f),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(a=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),a!==b.state&&Wh.enqueueReplaceState(b,b.state,null),Fh(i,f,b,g),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function xl(i,a){try{var f="",g=a;do f+=oe(g),g=g.return;while(g);var b=f}catch(I){b=`
Error generating stack: `+I.message+`
`+I.stack}return{value:i,source:a,stack:b,digest:null}}function Gp(i,a,f){return{value:i,source:null,stack:f??null,digest:a??null}}function Yp(i,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function j_(i,a,f){f=vs(-1,f),f.tag=3,f.payload={element:null};var g=a.value;return f.callback=function(){Jh||(Jh=!0,hm=g),Yp(i,a)},f}function $_(i,a,f){f=vs(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var b=a.value;f.payload=function(){return g(b)},f.callback=function(){Yp(i,a)}}var I=i.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(f.callback=function(){Yp(i,a),typeof g!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var U=a.stack;this.componentDidCatch(a.value,{componentStack:U!==null?U:""})}),f}function z_(i,a,f){var g=i.pingCache;if(g===null){g=i.pingCache=new OI;var b=new Set;g.set(a,b)}else b=g.get(a),b===void 0&&(b=new Set,g.set(a,b));b.has(f)||(b.add(f),i=QI.bind(null,i,a,f),a.then(i,i))}function W_(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function q_(i,a,f,g,b){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=vs(-1,1),a.tag=2,oo(f,a,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var DI=z.ReactCurrentOwner,kn=!1;function vn(i,a,f,g){a.child=i===null?h_(a,null,f,g):bl(a,i.child,f,g)}function H_(i,a,f,g,b){f=f.render;var I=a.ref;return Sl(a,b),g=jp(i,a,f,g,I,b),f=$p(),i!==null&&!kn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,_s(i,a,b)):(sr&&f&&Tp(a),a.flags|=1,vn(i,a,g,b),a.child)}function Q_(i,a,f,g,b){if(i===null){var I=f.type;return typeof I=="function"&&!vm(I)&&I.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=I,K_(i,a,I,g,b)):(i=nf(f.type,null,g,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(I=i.child,(i.lanes&b)===0){var U=I.memoizedProps;if(f=f.compare,f=f!==null?f:Ou,f(U,g)&&i.ref===a.ref)return _s(i,a,b)}return a.flags|=1,i=fo(I,g),i.ref=a.ref,i.return=a,a.child=i}function K_(i,a,f,g,b){if(i!==null){var I=i.memoizedProps;if(Ou(I,g)&&i.ref===a.ref)if(kn=!1,a.pendingProps=g=I,(i.lanes&b)!==0)(i.flags&131072)!==0&&(kn=!0);else return a.lanes=i.lanes,_s(i,a,b)}return Jp(i,a,f,g,b)}function G_(i,a,f){var g=a.pendingProps,b=g.children,I=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Il,Qn),Qn|=f;else{if((f&1073741824)===0)return i=I!==null?I.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Xt(Il,Qn),Qn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=I!==null?I.baseLanes:f,Xt(Il,Qn),Qn|=g}else I!==null?(g=I.baseLanes|f,a.memoizedState=null):g=f,Xt(Il,Qn),Qn|=g;return vn(i,a,b,f),a.child}function Y_(i,a){var f=a.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Jp(i,a,f,g,b){var I=Rn(f)?ta:nn.current;return I=yl(a,I),Sl(a,b),f=jp(i,a,f,g,I,b),g=$p(),i!==null&&!kn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~b,_s(i,a,b)):(sr&&g&&Tp(a),a.flags|=1,vn(i,a,f,b),a.child)}function J_(i,a,f,g,b){if(Rn(f)){var I=!0;Ch(a)}else I=!1;if(Sl(a,b),a.stateNode===null)Hh(i,a),U_(a,f,g),Kp(a,f,g,b),g=!0;else if(i===null){var U=a.stateNode,re=a.memoizedProps;U.props=re;var he=U.context,Pe=f.contextType;typeof Pe=="object"&&Pe!==null?Pe=ti(Pe):(Pe=Rn(f)?ta:nn.current,Pe=yl(a,Pe));var Qe=f.getDerivedStateFromProps,Je=typeof Qe=="function"||typeof U.getSnapshotBeforeUpdate=="function";Je||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(re!==g||he!==Pe)&&B_(a,U,g,Pe),so=!1;var He=a.memoizedState;U.state=He,Fh(a,g,U,b),he=a.memoizedState,re!==g||He!==he||Cn.current||so?(typeof Qe=="function"&&(Qp(a,f,Qe,g),he=a.memoizedState),(re=so||V_(a,f,re,g,He,he,Pe))?(Je||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(a.flags|=4194308)):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=he),U.props=g,U.state=he,U.context=Pe,g=re):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{U=a.stateNode,d_(i,a),re=a.memoizedProps,Pe=a.type===a.elementType?re:_i(a.type,re),U.props=Pe,Je=a.pendingProps,He=U.context,he=f.contextType,typeof he=="object"&&he!==null?he=ti(he):(he=Rn(f)?ta:nn.current,he=yl(a,he));var ot=f.getDerivedStateFromProps;(Qe=typeof ot=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(re!==Je||He!==he)&&B_(a,U,g,he),so=!1,He=a.memoizedState,U.state=He,Fh(a,g,U,b);var ut=a.memoizedState;re!==Je||He!==ut||Cn.current||so?(typeof ot=="function"&&(Qp(a,f,ot,g),ut=a.memoizedState),(Pe=so||V_(a,f,Pe,g,He,ut,he)||!1)?(Qe||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(g,ut,he),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(g,ut,he)),typeof U.componentDidUpdate=="function"&&(a.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof U.componentDidUpdate!="function"||re===i.memoizedProps&&He===i.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||re===i.memoizedProps&&He===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ut),U.props=g,U.state=ut,U.context=he,g=Pe):(typeof U.componentDidUpdate!="function"||re===i.memoizedProps&&He===i.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||re===i.memoizedProps&&He===i.memoizedState||(a.flags|=1024),g=!1)}return Xp(i,a,f,g,I,b)}function Xp(i,a,f,g,b,I){Y_(i,a);var U=(a.flags&128)!==0;if(!g&&!U)return b&&r_(a,f,!1),_s(i,a,I);g=a.stateNode,DI.current=a;var re=U&&typeof f.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&U?(a.child=bl(a,i.child,null,I),a.child=bl(a,null,re,I)):vn(i,a,re,I),a.memoizedState=g.state,b&&r_(a,f,!0),a.child}function X_(i){var a=i.stateNode;a.pendingContext?e_(i,a.pendingContext,a.pendingContext!==a.context):a.context&&e_(i,a.context,!1),Lp(i,a.containerInfo)}function Z_(i,a,f,g,b){return wl(),Cp(b),a.flags|=256,vn(i,a,f,g),a.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function em(i){return{baseLanes:i,cachePool:null,transitions:null}}function ew(i,a,f){var g=a.pendingProps,b=cr.current,I=!1,U=(a.flags&128)!==0,re;if((re=U)||(re=i!==null&&i.memoizedState===null?!1:(b&2)!==0),re?(I=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),Xt(cr,b&1),i===null)return Ip(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(U=g.children,i=g.fallback,I?(g=a.mode,I=a.child,U={mode:"hidden",children:U},(g&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=U):I=sf(U,g,0,null),i=ha(i,g,f,null),I.return=a,i.return=a,I.sibling=i,a.child=I,a.child.memoizedState=em(f),a.memoizedState=Zp,i):tm(a,U));if(b=i.memoizedState,b!==null&&(re=b.dehydrated,re!==null))return LI(i,a,U,g,re,b,f);if(I){I=g.fallback,U=a.mode,b=i.child,re=b.sibling;var he={mode:"hidden",children:g.children};return(U&1)===0&&a.child!==b?(g=a.child,g.childLanes=0,g.pendingProps=he,a.deletions=null):(g=fo(b,he),g.subtreeFlags=b.subtreeFlags&14680064),re!==null?I=fo(re,I):(I=ha(I,U,f,null),I.flags|=2),I.return=a,g.return=a,g.sibling=I,a.child=g,g=I,I=a.child,U=i.child.memoizedState,U=U===null?em(f):{baseLanes:U.baseLanes|f,cachePool:null,transitions:U.transitions},I.memoizedState=U,I.childLanes=i.childLanes&~f,a.memoizedState=Zp,g}return I=i.child,i=I.sibling,g=fo(I,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=f),g.return=a,g.sibling=null,i!==null&&(f=a.deletions,f===null?(a.deletions=[i],a.flags|=16):f.push(i)),a.child=g,a.memoizedState=null,g}function tm(i,a){return a=sf({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function qh(i,a,f,g){return g!==null&&Cp(g),bl(a,i.child,null,f),i=tm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function LI(i,a,f,g,b,I,U){if(f)return a.flags&256?(a.flags&=-257,g=Gp(Error(t(422))),qh(i,a,U,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(I=g.fallback,b=a.mode,g=sf({mode:"visible",children:g.children},b,0,null),I=ha(I,b,U,null),I.flags|=2,g.return=a,I.return=a,g.sibling=I,a.child=g,(a.mode&1)!==0&&bl(a,i.child,null,U),a.child.memoizedState=em(U),a.memoizedState=Zp,I);if((a.mode&1)===0)return qh(i,a,U,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var re=g.dgst;return g=re,I=Error(t(419)),g=Gp(I,g,void 0),qh(i,a,U,g)}if(re=(U&i.childLanes)!==0,kn||re){if(g=Wr,g!==null){switch(U&-U){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|U))!==0?0:b,b!==0&&b!==I.retryLane&&(I.retryLane=b,ys(i,b),Ei(g,i,b,-1))}return ym(),g=Gp(Error(t(421))),qh(i,a,U,g)}return b.data==="$?"?(a.flags|=128,a.child=i.child,a=KI.bind(null,i),b._reactRetry=a,null):(i=I.treeContext,Hn=to(b.nextSibling),qn=a,sr=!0,vi=null,i!==null&&(Zn[ei++]=ms,Zn[ei++]=gs,Zn[ei++]=ra,ms=i.id,gs=i.overflow,ra=a),a=tm(a,g.children),a.flags|=4096,a)}function tw(i,a,f){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),Np(i.return,a,f)}function rm(i,a,f,g,b){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=f,I.tailMode=b)}function rw(i,a,f){var g=a.pendingProps,b=g.revealOrder,I=g.tail;if(vn(i,a,g.children,f),g=cr.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tw(i,f,a);else if(i.tag===19)tw(i,f,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Xt(cr,g),(a.mode&1)===0)a.memoizedState=null;else switch(b){case"forwards":for(f=a.child,b=null;f!==null;)i=f.alternate,i!==null&&Vh(i)===null&&(b=f),f=f.sibling;f=b,f===null?(b=a.child,a.child=null):(b=f.sibling,f.sibling=null),rm(a,!1,b,f,I);break;case"backwards":for(f=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&Vh(i)===null){a.child=b;break}i=b.sibling,b.sibling=f,f=b,b=i}rm(a,!0,f,null,I);break;case"together":rm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function _s(i,a,f){if(i!==null&&(a.dependencies=i.dependencies),aa|=a.lanes,(f&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,f=fo(i,i.pendingProps),a.child=f,f.return=a;i.sibling!==null;)i=i.sibling,f=f.sibling=fo(i,i.pendingProps),f.return=a;f.sibling=null}return a.child}function MI(i,a,f){switch(a.tag){case 3:X_(a),wl();break;case 5:g_(a);break;case 1:Rn(a.type)&&Ch(a);break;case 4:Lp(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,b=a.memoizedProps.value;Xt(Dh,g._currentValue),g._currentValue=b;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Xt(cr,cr.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?ew(i,a,f):(Xt(cr,cr.current&1),i=_s(i,a,f),i!==null?i.sibling:null);Xt(cr,cr.current&1);break;case 19:if(g=(f&a.childLanes)!==0,(i.flags&128)!==0){if(g)return rw(i,a,f);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Xt(cr,cr.current),g)break;return null;case 22:case 23:return a.lanes=0,G_(i,a,f)}return _s(i,a,f)}var nw,nm,iw,sw;nw=function(i,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},nm=function(){},iw=function(i,a,f,g){var b=i.memoizedProps;if(b!==g){i=a.stateNode,sa(ji.current);var I=null;switch(f){case"input":b=Me(i,b),g=Me(i,g),I=[];break;case"select":b=ie({},b,{value:void 0}),g=ie({},g,{value:void 0}),I=[];break;case"textarea":b=pe(i,b),g=pe(i,g),I=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=xh)}bt(f,g);var U;f=null;for(Pe in b)if(!g.hasOwnProperty(Pe)&&b.hasOwnProperty(Pe)&&b[Pe]!=null)if(Pe==="style"){var re=b[Pe];for(U in re)re.hasOwnProperty(U)&&(f||(f={}),f[U]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(s.hasOwnProperty(Pe)?I||(I=[]):(I=I||[]).push(Pe,null));for(Pe in g){var he=g[Pe];if(re=b!=null?b[Pe]:void 0,g.hasOwnProperty(Pe)&&he!==re&&(he!=null||re!=null))if(Pe==="style")if(re){for(U in re)!re.hasOwnProperty(U)||he&&he.hasOwnProperty(U)||(f||(f={}),f[U]="");for(U in he)he.hasOwnProperty(U)&&re[U]!==he[U]&&(f||(f={}),f[U]=he[U])}else f||(I||(I=[]),I.push(Pe,f)),f=he;else Pe==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,re=re?re.__html:void 0,he!=null&&re!==he&&(I=I||[]).push(Pe,he)):Pe==="children"?typeof he!="string"&&typeof he!="number"||(I=I||[]).push(Pe,""+he):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Pe)?(he!=null&&Pe==="onScroll"&&Zt("scroll",i),I||re===he||(I=[])):(I=I||[]).push(Pe,he))}f&&(I=I||[]).push("style",f);var Pe=I;(a.updateQueue=Pe)&&(a.flags|=4)}},sw=function(i,a,f,g){f!==g&&(a.flags|=4)};function Ku(i,a){if(!sr)switch(i.tailMode){case"hidden":a=i.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function on(i){var a=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(a)for(var b=i.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=g,i.childLanes=f,a}function FI(i,a,f){var g=a.pendingProps;switch(xp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return Rn(a.type)&&Ih(),on(a),null;case 3:return g=a.stateNode,Tl(),er(Cn),er(nn),Vp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Nh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vi!==null&&(pm(vi),vi=null))),nm(i,a),on(a),null;case 5:Mp(a);var b=sa(zu.current);if(f=a.type,i!==null&&a.stateNode!=null)iw(i,a,f,g,b),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return on(a),null}if(i=sa(ji.current),Nh(a)){g=a.stateNode,f=a.type;var I=a.memoizedProps;switch(g[Bi]=a,g[Vu]=I,i=(a.mode&1)!==0,f){case"dialog":Zt("cancel",g),Zt("close",g);break;case"iframe":case"object":case"embed":Zt("load",g);break;case"video":case"audio":for(b=0;b<Lu.length;b++)Zt(Lu[b],g);break;case"source":Zt("error",g);break;case"img":case"image":case"link":Zt("error",g),Zt("load",g);break;case"details":Zt("toggle",g);break;case"input":se(g,I),Zt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!I.multiple},Zt("invalid",g);break;case"textarea":be(g,I),Zt("invalid",g)}bt(f,I),b=null;for(var U in I)if(I.hasOwnProperty(U)){var re=I[U];U==="children"?typeof re=="string"?g.textContent!==re&&(I.suppressHydrationWarning!==!0&&Th(g.textContent,re,i),b=["children",re]):typeof re=="number"&&g.textContent!==""+re&&(I.suppressHydrationWarning!==!0&&Th(g.textContent,re,i),b=["children",""+re]):s.hasOwnProperty(U)&&re!=null&&U==="onScroll"&&Zt("scroll",g)}switch(f){case"input":ge(g),Q(g,I,!0);break;case"textarea":ge(g),Xe(g);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(g.onclick=xh)}g=b,a.updateQueue=g,g!==null&&(a.flags|=4)}else{U=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=U.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=U.createElement(f,{is:g.is}):(i=U.createElement(f),f==="select"&&(U=i,g.multiple?U.multiple=!0:g.size&&(U.size=g.size))):i=U.createElementNS(i,f),i[Bi]=a,i[Vu]=g,nw(i,a,!1,!1),a.stateNode=i;e:{switch(U=gt(f,g),f){case"dialog":Zt("cancel",i),Zt("close",i),b=g;break;case"iframe":case"object":case"embed":Zt("load",i),b=g;break;case"video":case"audio":for(b=0;b<Lu.length;b++)Zt(Lu[b],i);b=g;break;case"source":Zt("error",i),b=g;break;case"img":case"image":case"link":Zt("error",i),Zt("load",i),b=g;break;case"details":Zt("toggle",i),b=g;break;case"input":se(i,g),b=Me(i,g),Zt("invalid",i);break;case"option":b=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},b=ie({},g,{value:void 0}),Zt("invalid",i);break;case"textarea":be(i,g),b=pe(i,g),Zt("invalid",i);break;default:b=g}bt(f,b),re=b;for(I in re)if(re.hasOwnProperty(I)){var he=re[I];I==="style"?et(i,he):I==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&q(i,he)):I==="children"?typeof he=="string"?(f!=="textarea"||he!=="")&&ee(i,he):typeof he=="number"&&ee(i,""+he):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(s.hasOwnProperty(I)?he!=null&&I==="onScroll"&&Zt("scroll",i):he!=null&&R(i,I,he,U))}switch(f){case"input":ge(i),Q(i,g,!1);break;case"textarea":ge(i),Xe(i);break;case"option":g.value!=null&&i.setAttribute("value",""+te(g.value));break;case"select":i.multiple=!!g.multiple,I=g.value,I!=null?Y(i,!!g.multiple,I,!1):g.defaultValue!=null&&Y(i,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=xh)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return on(a),null;case 6:if(i&&a.stateNode!=null)sw(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(f=sa(zu.current),sa(ji.current),Nh(a)){if(g=a.stateNode,f=a.memoizedProps,g[Bi]=a,(I=g.nodeValue!==f)&&(i=qn,i!==null))switch(i.tag){case 3:Th(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Th(g.nodeValue,f,(i.mode&1)!==0)}I&&(a.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[Bi]=a,a.stateNode=g}return on(a),null;case 13:if(er(cr),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(sr&&Hn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)l_(),wl(),a.flags|=98560,I=!1;else if(I=Nh(a),g!==null&&g.dehydrated!==null){if(i===null){if(!I)throw Error(t(318));if(I=a.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(t(317));I[Bi]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;on(a),I=!1}else vi!==null&&(pm(vi),vi=null),I=!0;if(!I)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(cr.current&1)!==0?Dr===0&&(Dr=3):ym())),a.updateQueue!==null&&(a.flags|=4),on(a),null);case 4:return Tl(),nm(i,a),i===null&&Mu(a.stateNode.containerInfo),on(a),null;case 10:return Pp(a.type._context),on(a),null;case 17:return Rn(a.type)&&Ih(),on(a),null;case 19:if(er(cr),I=a.memoizedState,I===null)return on(a),null;if(g=(a.flags&128)!==0,U=I.rendering,U===null)if(g)Ku(I,!1);else{if(Dr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(U=Vh(i),U!==null){for(a.flags|=128,Ku(I,!1),g=U.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=f,f=a.child;f!==null;)I=f,i=g,I.flags&=14680066,U=I.alternate,U===null?(I.childLanes=0,I.lanes=i,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=U.childLanes,I.lanes=U.lanes,I.child=U.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=U.memoizedProps,I.memoizedState=U.memoizedState,I.updateQueue=U.updateQueue,I.type=U.type,i=U.dependencies,I.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return Xt(cr,cr.current&1|2),a.child}i=i.sibling}I.tail!==null&&Jt()>Cl&&(a.flags|=128,g=!0,Ku(I,!1),a.lanes=4194304)}else{if(!g)if(i=Vh(U),i!==null){if(a.flags|=128,g=!0,f=i.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),Ku(I,!0),I.tail===null&&I.tailMode==="hidden"&&!U.alternate&&!sr)return on(a),null}else 2*Jt()-I.renderingStartTime>Cl&&f!==1073741824&&(a.flags|=128,g=!0,Ku(I,!1),a.lanes=4194304);I.isBackwards?(U.sibling=a.child,a.child=U):(f=I.last,f!==null?f.sibling=U:a.child=U,I.last=U)}return I.tail!==null?(a=I.tail,I.rendering=a,I.tail=a.sibling,I.renderingStartTime=Jt(),a.sibling=null,f=cr.current,Xt(cr,g?f&1|2:f&1),a):(on(a),null);case 22:case 23:return gm(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Qn&1073741824)!==0&&(on(a),a.subtreeFlags&6&&(a.flags|=8192)):on(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function VI(i,a){switch(xp(a),a.tag){case 1:return Rn(a.type)&&Ih(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Tl(),er(Cn),er(nn),Vp(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Mp(a),null;case 13:if(er(cr),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));wl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return er(cr),null;case 4:return Tl(),null;case 10:return Pp(a.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var Qh=!1,an=!1,UI=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Al(i,a){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){gr(i,a,g)}else f.current=null}function im(i,a,f){try{f()}catch(g){gr(i,a,g)}}var ow=!1;function BI(i,a){if(gp=Xs,i=V0(),lp(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,I=g.focusNode;g=g.focusOffset;try{f.nodeType,I.nodeType}catch{f=null;break e}var U=0,re=-1,he=-1,Pe=0,Qe=0,Je=i,He=null;t:for(;;){for(var ot;Je!==f||b!==0&&Je.nodeType!==3||(re=U+b),Je!==I||g!==0&&Je.nodeType!==3||(he=U+g),Je.nodeType===3&&(U+=Je.nodeValue.length),(ot=Je.firstChild)!==null;)He=Je,Je=ot;for(;;){if(Je===i)break t;if(He===f&&++Pe===b&&(re=U),He===I&&++Qe===g&&(he=U),(ot=Je.nextSibling)!==null)break;Je=He,He=Je.parentNode}Je=ot}f=re===-1||he===-1?null:{start:re,end:he}}else f=null}f=f||{start:0,end:0}}else f=null;for(yp={focusedElem:i,selectionRange:f},Xs=!1,lt=a;lt!==null;)if(a=lt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,lt=i;else for(;lt!==null;){a=lt;try{var ut=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ht=ut.memoizedProps,br=ut.memoizedState,Ce=a.stateNode,ve=Ce.getSnapshotBeforeUpdate(a.elementType===a.type?ht:_i(a.type,ht),br);Ce.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Re=a.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(tt){gr(a,a.return,tt)}if(i=a.sibling,i!==null){i.return=a.return,lt=i;break}lt=a.return}return ut=ow,ow=!1,ut}function Gu(i,a,f){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&i)===i){var I=b.destroy;b.destroy=void 0,I!==void 0&&im(a,f,I)}b=b.next}while(b!==g)}}function Kh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==a)}}function sm(i){var a=i.ref;if(a!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof a=="function"?a(i):a.current=i}}function aw(i){var a=i.alternate;a!==null&&(i.alternate=null,aw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Bi],delete a[Vu],delete a[bp],delete a[EI],delete a[SI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function lw(i){return i.tag===5||i.tag===3||i.tag===4}function uw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function om(i,a,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(i,a):f.insertBefore(i,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(i,f)):(a=f,a.appendChild(i)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=xh));else if(g!==4&&(i=i.child,i!==null))for(om(i,a,f),i=i.sibling;i!==null;)om(i,a,f),i=i.sibling}function am(i,a,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?f.insertBefore(i,a):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(am(i,a,f),i=i.sibling;i!==null;)am(i,a,f),i=i.sibling}var Jr=null,wi=!1;function ao(i,a,f){for(f=f.child;f!==null;)cw(i,a,f),f=f.sibling}function cw(i,a,f){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Qo,f)}catch{}switch(f.tag){case 5:an||Al(f,a);case 6:var g=Jr,b=wi;Jr=null,ao(i,a,f),Jr=g,wi=b,Jr!==null&&(wi?(i=Jr,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Jr.removeChild(f.stateNode));break;case 18:Jr!==null&&(wi?(i=Jr,f=f.stateNode,i.nodeType===8?wp(i.parentNode,f):i.nodeType===1&&wp(i,f),mi(i)):wp(Jr,f.stateNode));break;case 4:g=Jr,b=wi,Jr=f.stateNode.containerInfo,wi=!0,ao(i,a,f),Jr=g,wi=b;break;case 0:case 11:case 14:case 15:if(!an&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var I=b,U=I.destroy;I=I.tag,U!==void 0&&((I&2)!==0||(I&4)!==0)&&im(f,a,U),b=b.next}while(b!==g)}ao(i,a,f);break;case 1:if(!an&&(Al(f,a),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(re){gr(f,a,re)}ao(i,a,f);break;case 21:ao(i,a,f);break;case 22:f.mode&1?(an=(g=an)||f.memoizedState!==null,ao(i,a,f),an=g):ao(i,a,f);break;default:ao(i,a,f)}}function hw(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new UI),a.forEach(function(g){var b=GI.bind(null,i,g);f.has(g)||(f.add(g),g.then(b,b))})}}function bi(i,a){var f=a.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];try{var I=i,U=a,re=U;e:for(;re!==null;){switch(re.tag){case 5:Jr=re.stateNode,wi=!1;break e;case 3:Jr=re.stateNode.containerInfo,wi=!0;break e;case 4:Jr=re.stateNode.containerInfo,wi=!0;break e}re=re.return}if(Jr===null)throw Error(t(160));cw(I,U,b),Jr=null,wi=!1;var he=b.alternate;he!==null&&(he.return=null),b.return=null}catch(Pe){gr(b,a,Pe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)fw(a,i),a=a.sibling}function fw(i,a){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(bi(a,i),zi(i),g&4){try{Gu(3,i,i.return),Kh(3,i)}catch(ht){gr(i,i.return,ht)}try{Gu(5,i,i.return)}catch(ht){gr(i,i.return,ht)}}break;case 1:bi(a,i),zi(i),g&512&&f!==null&&Al(f,f.return);break;case 5:if(bi(a,i),zi(i),g&512&&f!==null&&Al(f,f.return),i.flags&32){var b=i.stateNode;try{ee(b,"")}catch(ht){gr(i,i.return,ht)}}if(g&4&&(b=i.stateNode,b!=null)){var I=i.memoizedProps,U=f!==null?f.memoizedProps:I,re=i.type,he=i.updateQueue;if(i.updateQueue=null,he!==null)try{re==="input"&&I.type==="radio"&&I.name!=null&&ue(b,I),gt(re,U);var Pe=gt(re,I);for(U=0;U<he.length;U+=2){var Qe=he[U],Je=he[U+1];Qe==="style"?et(b,Je):Qe==="dangerouslySetInnerHTML"?q(b,Je):Qe==="children"?ee(b,Je):R(b,Qe,Je,Pe)}switch(re){case"input":Ie(b,I);break;case"textarea":ye(b,I);break;case"select":var He=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!I.multiple;var ot=I.value;ot!=null?Y(b,!!I.multiple,ot,!1):He!==!!I.multiple&&(I.defaultValue!=null?Y(b,!!I.multiple,I.defaultValue,!0):Y(b,!!I.multiple,I.multiple?[]:"",!1))}b[Vu]=I}catch(ht){gr(i,i.return,ht)}}break;case 6:if(bi(a,i),zi(i),g&4){if(i.stateNode===null)throw Error(t(162));b=i.stateNode,I=i.memoizedProps;try{b.nodeValue=I}catch(ht){gr(i,i.return,ht)}}break;case 3:if(bi(a,i),zi(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{mi(a.containerInfo)}catch(ht){gr(i,i.return,ht)}break;case 4:bi(a,i),zi(i);break;case 13:bi(a,i),zi(i),b=i.child,b.flags&8192&&(I=b.memoizedState!==null,b.stateNode.isHidden=I,!I||b.alternate!==null&&b.alternate.memoizedState!==null||(cm=Jt())),g&4&&hw(i);break;case 22:if(Qe=f!==null&&f.memoizedState!==null,i.mode&1?(an=(Pe=an)||Qe,bi(a,i),an=Pe):bi(a,i),zi(i),g&8192){if(Pe=i.memoizedState!==null,(i.stateNode.isHidden=Pe)&&!Qe&&(i.mode&1)!==0)for(lt=i,Qe=i.child;Qe!==null;){for(Je=lt=Qe;lt!==null;){switch(He=lt,ot=He.child,He.tag){case 0:case 11:case 14:case 15:Gu(4,He,He.return);break;case 1:Al(He,He.return);var ut=He.stateNode;if(typeof ut.componentWillUnmount=="function"){g=He,f=He.return;try{a=g,ut.props=a.memoizedProps,ut.state=a.memoizedState,ut.componentWillUnmount()}catch(ht){gr(g,f,ht)}}break;case 5:Al(He,He.return);break;case 22:if(He.memoizedState!==null){mw(Je);continue}}ot!==null?(ot.return=He,lt=ot):mw(Je)}Qe=Qe.sibling}e:for(Qe=null,Je=i;;){if(Je.tag===5){if(Qe===null){Qe=Je;try{b=Je.stateNode,Pe?(I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(re=Je.stateNode,he=Je.memoizedProps.style,U=he!=null&&he.hasOwnProperty("display")?he.display:null,re.style.display=Ze("display",U))}catch(ht){gr(i,i.return,ht)}}}else if(Je.tag===6){if(Qe===null)try{Je.stateNode.nodeValue=Pe?"":Je.memoizedProps}catch(ht){gr(i,i.return,ht)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===i)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===i)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===i)break e;Qe===Je&&(Qe=null),Je=Je.return}Qe===Je&&(Qe=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:bi(a,i),zi(i),g&4&&hw(i);break;case 21:break;default:bi(a,i),zi(i)}}function zi(i){var a=i.flags;if(a&2){try{e:{for(var f=i.return;f!==null;){if(lw(f)){var g=f;break e}f=f.return}throw Error(t(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(ee(b,""),g.flags&=-33);var I=uw(i);am(i,I,b);break;case 3:case 4:var U=g.stateNode.containerInfo,re=uw(i);om(i,re,U);break;default:throw Error(t(161))}}catch(he){gr(i,i.return,he)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function jI(i,a,f){lt=i,dw(i)}function dw(i,a,f){for(var g=(i.mode&1)!==0;lt!==null;){var b=lt,I=b.child;if(b.tag===22&&g){var U=b.memoizedState!==null||Qh;if(!U){var re=b.alternate,he=re!==null&&re.memoizedState!==null||an;re=Qh;var Pe=an;if(Qh=U,(an=he)&&!Pe)for(lt=b;lt!==null;)U=lt,he=U.child,U.tag===22&&U.memoizedState!==null?gw(b):he!==null?(he.return=U,lt=he):gw(b);for(;I!==null;)lt=I,dw(I),I=I.sibling;lt=b,Qh=re,an=Pe}pw(i)}else(b.subtreeFlags&8772)!==0&&I!==null?(I.return=b,lt=I):pw(i)}}function pw(i){for(;lt!==null;){var a=lt;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:an||Kh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!an)if(f===null)g.componentDidMount();else{var b=a.elementType===a.type?f.memoizedProps:_i(a.type,f.memoizedProps);g.componentDidUpdate(b,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var I=a.updateQueue;I!==null&&m_(a,I,g);break;case 3:var U=a.updateQueue;if(U!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}m_(a,U,f)}break;case 5:var re=a.stateNode;if(f===null&&a.flags&4){f=re;var he=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&f.focus();break;case"img":he.src&&(f.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Pe=a.alternate;if(Pe!==null){var Qe=Pe.memoizedState;if(Qe!==null){var Je=Qe.dehydrated;Je!==null&&mi(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||a.flags&512&&sm(a)}catch(He){gr(a,a.return,He)}}if(a===i){lt=null;break}if(f=a.sibling,f!==null){f.return=a.return,lt=f;break}lt=a.return}}function mw(i){for(;lt!==null;){var a=lt;if(a===i){lt=null;break}var f=a.sibling;if(f!==null){f.return=a.return,lt=f;break}lt=a.return}}function gw(i){for(;lt!==null;){var a=lt;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{Kh(4,a)}catch(he){gr(a,f,he)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var b=a.return;try{g.componentDidMount()}catch(he){gr(a,b,he)}}var I=a.return;try{sm(a)}catch(he){gr(a,I,he)}break;case 5:var U=a.return;try{sm(a)}catch(he){gr(a,U,he)}}}catch(he){gr(a,a.return,he)}if(a===i){lt=null;break}var re=a.sibling;if(re!==null){re.return=a.return,lt=re;break}lt=a.return}}var $I=Math.ceil,Gh=z.ReactCurrentDispatcher,lm=z.ReactCurrentOwner,ni=z.ReactCurrentBatchConfig,Vt=0,Wr=null,Ar=null,Xr=0,Qn=0,Il=ro(0),Dr=0,Yu=null,aa=0,Yh=0,um=0,Ju=null,Pn=null,cm=0,Cl=1/0,ws=null,Jh=!1,hm=null,lo=null,Xh=!1,uo=null,Zh=0,Xu=0,fm=null,ef=-1,tf=0;function _n(){return(Vt&6)!==0?Jt():ef!==-1?ef:ef=Jt()}function co(i){return(i.mode&1)===0?1:(Vt&2)!==0&&Xr!==0?Xr&-Xr:xI.transition!==null?(tf===0&&(tf=Go()),tf):(i=Ot,i!==0||(i=window.event,i=i===void 0?16:Au(i.type)),i)}function Ei(i,a,f,g){if(50<Xu)throw Xu=0,fm=null,Error(t(185));Ks(i,f,g),((Vt&2)===0||i!==Wr)&&(i===Wr&&((Vt&2)===0&&(Yh|=f),Dr===4&&ho(i,Xr)),Nn(i,g),f===1&&Vt===0&&(a.mode&1)===0&&(Cl=Jt()+500,Rh&&io()))}function Nn(i,a){var f=i.callbackNode;ls(i,a);var g=Ko(i,i===Wr?Xr:0);if(g===0)f!==null&&bu(f),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(f!=null&&bu(f),a===1)i.tag===0?TI(vw.bind(null,i)):n_(vw.bind(null,i)),wI(function(){(Vt&6)===0&&io()}),f=null;else{switch(Ys(g)){case 1:f=Ho;break;case 4:f=qs;break;case 16:f=Yn;break;case 536870912:f=th;break;default:f=Yn}f=Aw(f,yw.bind(null,i))}i.callbackPriority=a,i.callbackNode=f}}function yw(i,a){if(ef=-1,tf=0,(Vt&6)!==0)throw Error(t(327));var f=i.callbackNode;if(Rl()&&i.callbackNode!==f)return null;var g=Ko(i,i===Wr?Xr:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=rf(i,g);else{a=g;var b=Vt;Vt|=2;var I=ww();(Wr!==i||Xr!==a)&&(ws=null,Cl=Jt()+500,ua(i,a));do try{qI();break}catch(re){_w(i,re)}while(!0);kp(),Gh.current=I,Vt=b,Ar!==null?a=0:(Wr=null,Xr=0,a=Dr)}if(a!==0){if(a===2&&(b=$n(i),b!==0&&(g=b,a=dm(i,b))),a===1)throw f=Yu,ua(i,0),ho(i,g),Nn(i,Jt()),f;if(a===6)ho(i,g);else{if(b=i.current.alternate,(g&30)===0&&!zI(b)&&(a=rf(i,g),a===2&&(I=$n(i),I!==0&&(g=I,a=dm(i,I))),a===1))throw f=Yu,ua(i,0),ho(i,g),Nn(i,Jt()),f;switch(i.finishedWork=b,i.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:ca(i,Pn,ws);break;case 3:if(ho(i,g),(g&130023424)===g&&(a=cm+500-Jt(),10<a)){if(Ko(i,0)!==0)break;if(b=i.suspendedLanes,(b&g)!==g){_n(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=_p(ca.bind(null,i,Pn,ws),a);break}ca(i,Pn,ws);break;case 4:if(ho(i,g),(g&4194240)===g)break;for(a=i.eventTimes,b=-1;0<g;){var U=31-gn(g);I=1<<U,U=a[U],U>b&&(b=U),g&=~I}if(g=b,g=Jt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*$I(g/1960))-g,10<g){i.timeoutHandle=_p(ca.bind(null,i,Pn,ws),g);break}ca(i,Pn,ws);break;case 5:ca(i,Pn,ws);break;default:throw Error(t(329))}}}return Nn(i,Jt()),i.callbackNode===f?yw.bind(null,i):null}function dm(i,a){var f=Ju;return i.current.memoizedState.isDehydrated&&(ua(i,a).flags|=256),i=rf(i,a),i!==2&&(a=Pn,Pn=f,a!==null&&pm(a)),i}function pm(i){Pn===null?Pn=i:Pn.push.apply(Pn,i)}function zI(i){for(var a=i;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var b=f[g],I=b.getSnapshot;b=b.value;try{if(!yi(I(),b))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ho(i,a){for(a&=~um,a&=~Yh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var f=31-gn(a),g=1<<f;i[f]=-1,a&=~g}}function vw(i){if((Vt&6)!==0)throw Error(t(327));Rl();var a=Ko(i,0);if((a&1)===0)return Nn(i,Jt()),null;var f=rf(i,a);if(i.tag!==0&&f===2){var g=$n(i);g!==0&&(a=g,f=dm(i,g))}if(f===1)throw f=Yu,ua(i,0),ho(i,a),Nn(i,Jt()),f;if(f===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,ca(i,Pn,ws),Nn(i,Jt()),null}function mm(i,a){var f=Vt;Vt|=1;try{return i(a)}finally{Vt=f,Vt===0&&(Cl=Jt()+500,Rh&&io())}}function la(i){uo!==null&&uo.tag===0&&(Vt&6)===0&&Rl();var a=Vt;Vt|=1;var f=ni.transition,g=Ot;try{if(ni.transition=null,Ot=1,i)return i()}finally{Ot=g,ni.transition=f,Vt=a,(Vt&6)===0&&io()}}function gm(){Qn=Il.current,er(Il)}function ua(i,a){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,_I(f)),Ar!==null)for(f=Ar.return;f!==null;){var g=f;switch(xp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ih();break;case 3:Tl(),er(Cn),er(nn),Vp();break;case 5:Mp(g);break;case 4:Tl();break;case 13:er(cr);break;case 19:er(cr);break;case 10:Pp(g.type._context);break;case 22:case 23:gm()}f=f.return}if(Wr=i,Ar=i=fo(i.current,null),Xr=Qn=a,Dr=0,Yu=null,um=Yh=aa=0,Pn=Ju=null,ia!==null){for(a=0;a<ia.length;a++)if(f=ia[a],g=f.interleaved,g!==null){f.interleaved=null;var b=g.next,I=f.pending;if(I!==null){var U=I.next;I.next=b,g.next=U}f.pending=g}ia=null}return i}function _w(i,a){do{var f=Ar;try{if(kp(),Uh.current=zh,Bh){for(var g=hr.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Bh=!1}if(oa=0,zr=Or=hr=null,Wu=!1,qu=0,lm.current=null,f===null||f.return===null){Dr=1,Yu=a,Ar=null;break}e:{var I=i,U=f.return,re=f,he=a;if(a=Xr,re.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Pe=he,Qe=re,Je=Qe.tag;if((Qe.mode&1)===0&&(Je===0||Je===11||Je===15)){var He=Qe.alternate;He?(Qe.updateQueue=He.updateQueue,Qe.memoizedState=He.memoizedState,Qe.lanes=He.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var ot=W_(U);if(ot!==null){ot.flags&=-257,q_(ot,U,re,I,a),ot.mode&1&&z_(I,Pe,a),a=ot,he=Pe;var ut=a.updateQueue;if(ut===null){var ht=new Set;ht.add(he),a.updateQueue=ht}else ut.add(he);break e}else{if((a&1)===0){z_(I,Pe,a),ym();break e}he=Error(t(426))}}else if(sr&&re.mode&1){var br=W_(U);if(br!==null){(br.flags&65536)===0&&(br.flags|=256),q_(br,U,re,I,a),Cp(xl(he,re));break e}}I=he=xl(he,re),Dr!==4&&(Dr=2),Ju===null?Ju=[I]:Ju.push(I),I=U;do{switch(I.tag){case 3:I.flags|=65536,a&=-a,I.lanes|=a;var Ce=j_(I,he,a);p_(I,Ce);break e;case 1:re=he;var ve=I.type,Re=I.stateNode;if((I.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(lo===null||!lo.has(Re)))){I.flags|=65536,a&=-a,I.lanes|=a;var tt=$_(I,re,a);p_(I,tt);break e}}I=I.return}while(I!==null)}Ew(f)}catch(dt){a=dt,Ar===f&&f!==null&&(Ar=f=f.return);continue}break}while(!0)}function ww(){var i=Gh.current;return Gh.current=zh,i===null?zh:i}function ym(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Wr===null||(aa&268435455)===0&&(Yh&268435455)===0||ho(Wr,Xr)}function rf(i,a){var f=Vt;Vt|=2;var g=ww();(Wr!==i||Xr!==a)&&(ws=null,ua(i,a));do try{WI();break}catch(b){_w(i,b)}while(!0);if(kp(),Vt=f,Gh.current=g,Ar!==null)throw Error(t(261));return Wr=null,Xr=0,Dr}function WI(){for(;Ar!==null;)bw(Ar)}function qI(){for(;Ar!==null&&!Zc();)bw(Ar)}function bw(i){var a=xw(i.alternate,i,Qn);i.memoizedProps=i.pendingProps,a===null?Ew(i):Ar=a,lm.current=null}function Ew(i){var a=i;do{var f=a.alternate;if(i=a.return,(a.flags&32768)===0){if(f=FI(f,a,Qn),f!==null){Ar=f;return}}else{if(f=VI(f,a),f!==null){f.flags&=32767,Ar=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dr=6,Ar=null;return}}if(a=a.sibling,a!==null){Ar=a;return}Ar=a=i}while(a!==null);Dr===0&&(Dr=5)}function ca(i,a,f){var g=Ot,b=ni.transition;try{ni.transition=null,Ot=1,HI(i,a,f,g)}finally{ni.transition=b,Ot=g}return null}function HI(i,a,f,g){do Rl();while(uo!==null);if((Vt&6)!==0)throw Error(t(327));f=i.finishedWork;var b=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var I=f.lanes|f.childLanes;if(Yt(i,I),i===Wr&&(Ar=Wr=null,Xr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Xh||(Xh=!0,Aw(Yn,function(){return Rl(),null})),I=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||I){I=ni.transition,ni.transition=null;var U=Ot;Ot=1;var re=Vt;Vt|=4,lm.current=null,BI(i,f),fw(f,i),fI(yp),Xs=!!gp,yp=gp=null,i.current=f,jI(f),ep(),Vt=re,Ot=U,ni.transition=I}else i.current=f;if(Xh&&(Xh=!1,uo=i,Zh=b),I=i.pendingLanes,I===0&&(lo=null),rh(f.stateNode),Nn(i,Jt()),a!==null)for(g=i.onRecoverableError,f=0;f<a.length;f++)b=a[f],g(b.value,{componentStack:b.stack,digest:b.digest});if(Jh)throw Jh=!1,i=hm,hm=null,i;return(Zh&1)!==0&&i.tag!==0&&Rl(),I=i.pendingLanes,(I&1)!==0?i===fm?Xu++:(Xu=0,fm=i):Xu=0,io(),null}function Rl(){if(uo!==null){var i=Ys(Zh),a=ni.transition,f=Ot;try{if(ni.transition=null,Ot=16>i?16:i,uo===null)var g=!1;else{if(i=uo,uo=null,Zh=0,(Vt&6)!==0)throw Error(t(331));var b=Vt;for(Vt|=4,lt=i.current;lt!==null;){var I=lt,U=I.child;if((lt.flags&16)!==0){var re=I.deletions;if(re!==null){for(var he=0;he<re.length;he++){var Pe=re[he];for(lt=Pe;lt!==null;){var Qe=lt;switch(Qe.tag){case 0:case 11:case 15:Gu(8,Qe,I)}var Je=Qe.child;if(Je!==null)Je.return=Qe,lt=Je;else for(;lt!==null;){Qe=lt;var He=Qe.sibling,ot=Qe.return;if(aw(Qe),Qe===Pe){lt=null;break}if(He!==null){He.return=ot,lt=He;break}lt=ot}}}var ut=I.alternate;if(ut!==null){var ht=ut.child;if(ht!==null){ut.child=null;do{var br=ht.sibling;ht.sibling=null,ht=br}while(ht!==null)}}lt=I}}if((I.subtreeFlags&2064)!==0&&U!==null)U.return=I,lt=U;else e:for(;lt!==null;){if(I=lt,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Gu(9,I,I.return)}var Ce=I.sibling;if(Ce!==null){Ce.return=I.return,lt=Ce;break e}lt=I.return}}var ve=i.current;for(lt=ve;lt!==null;){U=lt;var Re=U.child;if((U.subtreeFlags&2064)!==0&&Re!==null)Re.return=U,lt=Re;else e:for(U=ve;lt!==null;){if(re=lt,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:Kh(9,re)}}catch(dt){gr(re,re.return,dt)}if(re===U){lt=null;break e}var tt=re.sibling;if(tt!==null){tt.return=re.return,lt=tt;break e}lt=re.return}}if(Vt=b,io(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Qo,i)}catch{}g=!0}return g}finally{Ot=f,ni.transition=a}}return!1}function Sw(i,a,f){a=xl(f,a),a=j_(i,a,1),i=oo(i,a,1),a=_n(),i!==null&&(Ks(i,1,a),Nn(i,a))}function gr(i,a,f){if(i.tag===3)Sw(i,i,f);else for(;a!==null;){if(a.tag===3){Sw(a,i,f);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(lo===null||!lo.has(g))){i=xl(f,i),i=$_(a,i,1),a=oo(a,i,1),i=_n(),a!==null&&(Ks(a,1,i),Nn(a,i));break}}a=a.return}}function QI(i,a,f){var g=i.pingCache;g!==null&&g.delete(a),a=_n(),i.pingedLanes|=i.suspendedLanes&f,Wr===i&&(Xr&f)===f&&(Dr===4||Dr===3&&(Xr&130023424)===Xr&&500>Jt()-cm?ua(i,0):um|=f),Nn(i,a)}function Tw(i,a){a===0&&((i.mode&1)===0?a=1:(a=Xa,Xa<<=1,(Xa&130023424)===0&&(Xa=4194304)));var f=_n();i=ys(i,a),i!==null&&(Ks(i,a,f),Nn(i,f))}function KI(i){var a=i.memoizedState,f=0;a!==null&&(f=a.retryLane),Tw(i,f)}function GI(i,a){var f=0;switch(i.tag){case 13:var g=i.stateNode,b=i.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),Tw(i,f)}var xw;xw=function(i,a,f){if(i!==null)if(i.memoizedProps!==a.pendingProps||Cn.current)kn=!0;else{if((i.lanes&f)===0&&(a.flags&128)===0)return kn=!1,MI(i,a,f);kn=(i.flags&131072)!==0}else kn=!1,sr&&(a.flags&1048576)!==0&&i_(a,Ph,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Hh(i,a),i=a.pendingProps;var b=yl(a,nn.current);Sl(a,f),b=jp(null,a,g,i,b,f);var I=$p();return a.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rn(g)?(I=!0,Ch(a)):I=!1,a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Dp(a),b.updater=Wh,a.stateNode=b,b._reactInternals=a,Kp(a,g,i,f),a=Xp(null,a,g,!0,I,f)):(a.tag=0,sr&&I&&Tp(a),vn(null,a,b,f),a=a.child),a;case 16:g=a.elementType;e:{switch(Hh(i,a),i=a.pendingProps,b=g._init,g=b(g._payload),a.type=g,b=a.tag=JI(g),i=_i(g,i),b){case 0:a=Jp(null,a,g,i,f);break e;case 1:a=J_(null,a,g,i,f);break e;case 11:a=H_(null,a,g,i,f);break e;case 14:a=Q_(null,a,g,_i(g.type,i),f);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,b=a.pendingProps,b=a.elementType===g?b:_i(g,b),Jp(i,a,g,b,f);case 1:return g=a.type,b=a.pendingProps,b=a.elementType===g?b:_i(g,b),J_(i,a,g,b,f);case 3:e:{if(X_(a),i===null)throw Error(t(387));g=a.pendingProps,I=a.memoizedState,b=I.element,d_(i,a),Fh(a,g,null,f);var U=a.memoizedState;if(g=U.element,I.isDehydrated)if(I={element:g,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},a.updateQueue.baseState=I,a.memoizedState=I,a.flags&256){b=xl(Error(t(423)),a),a=Z_(i,a,g,f,b);break e}else if(g!==b){b=xl(Error(t(424)),a),a=Z_(i,a,g,f,b);break e}else for(Hn=to(a.stateNode.containerInfo.firstChild),qn=a,sr=!0,vi=null,f=h_(a,null,g,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(wl(),g===b){a=_s(i,a,f);break e}vn(i,a,g,f)}a=a.child}return a;case 5:return g_(a),i===null&&Ip(a),g=a.type,b=a.pendingProps,I=i!==null?i.memoizedProps:null,U=b.children,vp(g,b)?U=null:I!==null&&vp(g,I)&&(a.flags|=32),Y_(i,a),vn(i,a,U,f),a.child;case 6:return i===null&&Ip(a),null;case 13:return ew(i,a,f);case 4:return Lp(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=bl(a,null,g,f):vn(i,a,g,f),a.child;case 11:return g=a.type,b=a.pendingProps,b=a.elementType===g?b:_i(g,b),H_(i,a,g,b,f);case 7:return vn(i,a,a.pendingProps,f),a.child;case 8:return vn(i,a,a.pendingProps.children,f),a.child;case 12:return vn(i,a,a.pendingProps.children,f),a.child;case 10:e:{if(g=a.type._context,b=a.pendingProps,I=a.memoizedProps,U=b.value,Xt(Dh,g._currentValue),g._currentValue=U,I!==null)if(yi(I.value,U)){if(I.children===b.children&&!Cn.current){a=_s(i,a,f);break e}}else for(I=a.child,I!==null&&(I.return=a);I!==null;){var re=I.dependencies;if(re!==null){U=I.child;for(var he=re.firstContext;he!==null;){if(he.context===g){if(I.tag===1){he=vs(-1,f&-f),he.tag=2;var Pe=I.updateQueue;if(Pe!==null){Pe=Pe.shared;var Qe=Pe.pending;Qe===null?he.next=he:(he.next=Qe.next,Qe.next=he),Pe.pending=he}}I.lanes|=f,he=I.alternate,he!==null&&(he.lanes|=f),Np(I.return,f,a),re.lanes|=f;break}he=he.next}}else if(I.tag===10)U=I.type===a.type?null:I.child;else if(I.tag===18){if(U=I.return,U===null)throw Error(t(341));U.lanes|=f,re=U.alternate,re!==null&&(re.lanes|=f),Np(U,f,a),U=I.sibling}else U=I.child;if(U!==null)U.return=I;else for(U=I;U!==null;){if(U===a){U=null;break}if(I=U.sibling,I!==null){I.return=U.return,U=I;break}U=U.return}I=U}vn(i,a,b.children,f),a=a.child}return a;case 9:return b=a.type,g=a.pendingProps.children,Sl(a,f),b=ti(b),g=g(b),a.flags|=1,vn(i,a,g,f),a.child;case 14:return g=a.type,b=_i(g,a.pendingProps),b=_i(g.type,b),Q_(i,a,g,b,f);case 15:return K_(i,a,a.type,a.pendingProps,f);case 17:return g=a.type,b=a.pendingProps,b=a.elementType===g?b:_i(g,b),Hh(i,a),a.tag=1,Rn(g)?(i=!0,Ch(a)):i=!1,Sl(a,f),U_(a,g,b),Kp(a,g,b,f),Xp(null,a,g,!0,i,f);case 19:return rw(i,a,f);case 22:return G_(i,a,f)}throw Error(t(156,a.tag))};function Aw(i,a){return Ya(i,a)}function YI(i,a,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,a,f,g){return new YI(i,a,f,g)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function JI(i){if(typeof i=="function")return vm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===N)return 11;if(i===ae)return 14}return 2}function fo(i,a){var f=i.alternate;return f===null?(f=ii(i.tag,a,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=a,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,a=i.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function nf(i,a,f,g,b,I){var U=2;if(g=i,typeof i=="function")vm(i)&&(U=1);else if(typeof i=="string")U=5;else e:switch(i){case P:return ha(f.children,b,I,a);case k:U=8,b|=8;break;case M:return i=ii(12,f,a,b|2),i.elementType=M,i.lanes=I,i;case V:return i=ii(13,f,a,b),i.elementType=V,i.lanes=I,i;case _e:return i=ii(19,f,a,b),i.elementType=_e,i.lanes=I,i;case ke:return sf(f,b,I,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:U=10;break e;case $:U=9;break e;case N:U=11;break e;case ae:U=14;break e;case De:U=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=ii(U,f,a,b),a.elementType=i,a.type=g,a.lanes=I,a}function ha(i,a,f,g){return i=ii(7,i,g,a),i.lanes=f,i}function sf(i,a,f,g){return i=ii(22,i,g,a),i.elementType=ke,i.lanes=f,i.stateNode={isHidden:!1},i}function _m(i,a,f){return i=ii(6,i,null,a),i.lanes=f,i}function wm(i,a,f){return a=ii(4,i.children!==null?i.children:[],i.key,a),a.lanes=f,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function XI(i,a,f,g,b){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function bm(i,a,f,g,b,I,U,re,he){return i=new XI(i,a,f,re,he),a===1?(a=1,I===!0&&(a|=8)):a=0,I=ii(3,null,null,a),i.current=I,I.stateNode=i,I.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(I),i}function ZI(i,a,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:i,containerInfo:a,implementation:f}}function Iw(i){if(!i)return no;i=i._reactInternals;e:{if(pn(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var f=i.type;if(Rn(f))return t_(i,f,a)}return a}function Cw(i,a,f,g,b,I,U,re,he){return i=bm(f,g,!0,i,b,I,U,re,he),i.context=Iw(null),f=i.current,g=_n(),b=co(f),I=vs(g,b),I.callback=a??null,oo(f,I,b),i.current.lanes=b,Ks(i,b,g),Nn(i,g),i}function of(i,a,f,g){var b=a.current,I=_n(),U=co(b);return f=Iw(f),a.context===null?a.context=f:a.pendingContext=f,a=vs(I,U),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=oo(b,a,U),i!==null&&(Ei(i,b,U,I),Mh(i,b,U)),U}function af(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Rw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<a?f:a}}function Em(i,a){Rw(i,a),(i=i.alternate)&&Rw(i,a)}function eC(){return null}var kw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sm(i){this._internalRoot=i}lf.prototype.render=Sm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));of(i,a,null,null)},lf.prototype.unmount=Sm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;la(function(){of(null,i,null,null)}),a[ds]=null}};function lf(i){this._internalRoot=i}lf.prototype.unstable_scheduleHydration=function(i){if(i){var a=ah();i={blockedOn:null,target:i,priority:a};for(var f=0;f<Mi.length&&a!==0&&a<Mi[f].priority;f++);Mi.splice(f,0,i),f===0&&ch(i)}};function Tm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function uf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Pw(){}function tC(i,a,f,g,b){if(b){if(typeof g=="function"){var I=g;g=function(){var Pe=af(U);I.call(Pe)}}var U=Cw(a,g,i,0,null,!1,!1,"",Pw);return i._reactRootContainer=U,i[ds]=U.current,Mu(i.nodeType===8?i.parentNode:i),la(),U}for(;b=i.lastChild;)i.removeChild(b);if(typeof g=="function"){var re=g;g=function(){var Pe=af(he);re.call(Pe)}}var he=bm(i,0,!1,null,null,!1,!1,"",Pw);return i._reactRootContainer=he,i[ds]=he.current,Mu(i.nodeType===8?i.parentNode:i),la(function(){of(a,he,f,g)}),he}function cf(i,a,f,g,b){var I=f._reactRootContainer;if(I){var U=I;if(typeof b=="function"){var re=b;b=function(){var he=af(U);re.call(he)}}of(a,U,i,b)}else U=tC(f,a,i,b,g);return af(U)}sh=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var f=Hs(a.pendingLanes);f!==0&&(Gs(a,f|1),Nn(a,Jt()),(Vt&6)===0&&(Cl=Jt()+500,io()))}break;case 13:la(function(){var g=ys(i,1);if(g!==null){var b=_n();Ei(g,i,1,b)}}),Em(i,1)}},Za=function(i){if(i.tag===13){var a=ys(i,134217728);if(a!==null){var f=_n();Ei(a,i,134217728,f)}Em(i,134217728)}},oh=function(i){if(i.tag===13){var a=co(i),f=ys(i,a);if(f!==null){var g=_n();Ei(f,i,a,g)}Em(i,a)}},ah=function(){return Ot},lh=function(i,a){var f=Ot;try{return Ot=i,a()}finally{Ot=f}},Tr=function(i,a,f){switch(a){case"input":if(Ie(i,f),a=f.name,f.type==="radio"&&a!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var g=f[a];if(g!==i&&g.form===i.form){var b=Ah(g);if(!b)throw Error(t(90));we(g),Ie(g,b)}}}break;case"textarea":ye(i,f);break;case"select":a=f.value,a!=null&&Y(i,!!f.multiple,a,!1)}},Gt=mm,wr=la;var rC={usingClientEntryPoint:!1,Events:[Uu,ml,Ah,Pt,mr,mm]},Zu={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nC={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Bn(i),i===null?null:i.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||eC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{Qo=hf.inject(nC),jn=hf}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rC,On.createPortal=function(i,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(a))throw Error(t(200));return ZI(i,a,null,f)},On.createRoot=function(i,a){if(!Tm(i))throw Error(t(299));var f=!1,g="",b=kw;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=bm(i,1,!1,null,null,f,!1,g,b),i[ds]=a.current,Mu(i.nodeType===8?i.parentNode:i),new Sm(a)},On.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Bn(a),i=i===null?null:i.stateNode,i},On.flushSync=function(i){return la(i)},On.hydrate=function(i,a,f){if(!uf(a))throw Error(t(200));return cf(null,i,a,!0,f)},On.hydrateRoot=function(i,a,f){if(!Tm(i))throw Error(t(405));var g=f!=null&&f.hydratedSources||null,b=!1,I="",U=kw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(I=f.identifierPrefix),f.onRecoverableError!==void 0&&(U=f.onRecoverableError)),a=Cw(a,null,i,1,f??null,b,!1,I,U),i[ds]=a.current,Mu(i),g)for(i=0;i<g.length;i++)f=g[i],b=f._getVersion,b=b(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,b]:a.mutableSourceEagerHydrationData.push(f,b);return new lf(a)},On.render=function(i,a,f){if(!uf(a))throw Error(t(200));return cf(null,i,a,!1,f)},On.unmountComponentAtNode=function(i){if(!uf(i))throw Error(t(40));return i._reactRootContainer?(la(function(){cf(null,null,i,!1,function(){i._reactRootContainer=null,i[ds]=null})}),!0):!1},On.unstable_batchedUpdates=mm,On.unstable_renderSubtreeIntoContainer=function(i,a,f,g){if(!uf(f))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return cf(i,a,f,!1,g)},On.version="18.3.1-next-f1338f8080-20240426",On}var Bw;function pC(){if(Bw)return Cm.exports;Bw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=dC(),Cm.exports}var jw;function mC(){if(jw)return ff;jw=1;var r=pC();return ff.createRoot=r.createRoot,ff.hydrateRoot=r.hydrateRoot,ff}var gC=mC(),tc={},$w;function yC(){if($w)return tc;$w=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.parse=l,tc.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,v){const w=new o,S=y.length;if(S<2)return w;const T=(v==null?void 0:v.decode)||d;let O=0;do{const x=y.indexOf("=",O);if(x===-1)break;const R=y.indexOf(";",O),z=R===-1?S:R;if(x>z){O=y.lastIndexOf(";",x-1)+1;continue}const H=u(y,O,x),j=c(y,x,H),P=y.slice(H,j);if(w[P]===void 0){let k=u(y,x+1,z),M=c(y,z,k);const F=T(y.slice(k,M));w[P]=F}O=z+1}while(O<S);return w}function u(y,v,w){do{const S=y.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<w);return w}function c(y,v,w){for(;v>w;){const S=y.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return w}function h(y,v,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=S(v);if(!e.test(T))throw new TypeError(`argument val is invalid: ${v}`);let O=y+"="+T;if(!w)return O;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);O+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);O+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);O+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);O+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(O+="; HttpOnly"),w.secure&&(O+="; Secure"),w.partitioned&&(O+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return O}function d(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return s.call(y)==="[object Date]"}return tc}yC();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zw="popstate";function vC(r={}){function e(n,s){let{pathname:o,search:l,hash:u}=n.location;return sg("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Sc(s)}return wC(e,t,null,r)}function Rr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ki(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _C(){return Math.random().toString(36).substring(2,10)}function Ww(r,e){return{usr:r.state,key:r.key,idx:e}}function sg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bc(e):e,state:t,key:e&&e.key||n||_C()}}function Sc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Bc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function wC(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u="POP",c=null,h=d();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function d(){return(l.state||{idx:null}).idx}function m(){u="POP";let T=d(),O=T==null?null:T-h;h=T,c&&c({action:u,location:S.location,delta:O})}function y(T,O){u="PUSH";let x=sg(S.location,T,O);h=d()+1;let R=Ww(x,h),z=S.createHref(x);try{l.pushState(R,"",z)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(z)}o&&c&&c({action:u,location:S.location,delta:1})}function v(T,O){u="REPLACE";let x=sg(S.location,T,O);h=d();let R=Ww(x,h),z=S.createHref(x);l.replaceState(R,"",z),o&&c&&c({action:u,location:S.location,delta:0})}function w(T){let O=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof T=="string"?T:Sc(T);return x=x.replace(/ $/,"%20"),Rr(O,`No window.location.(origin|href) available to create URL for href: ${x}`),new URL(x,O)}let S={get action(){return u},get location(){return r(s,l)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zw,m),c=T,()=>{s.removeEventListener(zw,m),c=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let O=w(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:v,go(T){return l.go(T)}};return S}function T1(r,e,t="/"){return bC(r,e,t,!1)}function bC(r,e,t,n){let s=typeof e=="string"?Bc(e):e,o=Ds(s.pathname||"/",t);if(o==null)return null;let l=x1(r);EC(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let h=OC(o);u=PC(l[c],h,n)}return u}function x1(r,e=[],t=[],n=""){let s=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Rr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let h=Ps([n,c.relativePath]),d=t.concat(c);o.children&&o.children.length>0&&(Rr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),x1(o.children,e,d,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:RC(h,o.index),routesMeta:d})};return r.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let c of A1(o.path))s(o,l,c)}),e}function A1(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=A1(n.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),s&&u.push(...l),u.map(c=>r.startsWith("/")&&c===""?"/":c)}function EC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:kC(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var SC=/^:[\w-]+$/,TC=3,xC=2,AC=1,IC=10,CC=-2,qw=r=>r==="*";function RC(r,e){let t=r.split("/"),n=t.length;return t.some(qw)&&(n+=CC),e&&(n+=xC),t.filter(s=>!qw(s)).reduce((s,o)=>s+(SC.test(o)?TC:o===""?AC:IC),n)}function kC(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function PC(r,e,t=!1){let{routesMeta:n}=r,s={},o="/",l=[];for(let u=0;u<n.length;++u){let c=n[u],h=u===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",m=Qf({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),y=c.route;if(!m&&h&&t&&!n[n.length-1].route.index&&(m=Qf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ps([o,m.pathname]),pathnameBase:FC(Ps([o,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(o=Ps([o,m.pathnameBase]))}return l}function Qf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=NC(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:d,isOptional:m},y)=>{if(d==="*"){let w=u[y]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[y];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function NC(r,e=!1,t=!0){ki(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function OC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ds(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function DC(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?Bc(r):r;return{pathname:t?t.startsWith("/")?t:LC(t,e):e,search:VC(n),hash:UC(s)}}function LC(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Pm(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _v(r){let e=MC(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function wv(r,e,t,n=!1){let s;typeof r=="string"?s=Bc(r):(s={...r},Rr(!s.pathname||!s.pathname.includes("?"),Pm("?","pathname","search",s)),Rr(!s.pathname||!s.pathname.includes("#"),Pm("#","pathname","hash",s)),Rr(!s.search||!s.search.includes("#"),Pm("#","search","hash",s)));let o=r===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}u=m>=0?e[m]:"/"}let c=DC(s,u),h=l&&l!=="/"&&l.endsWith("/"),d=(o||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var Ps=r=>r.join("/").replace(/\/\/+/g,"/"),FC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,UC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function BC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var jC=["GET",...I1];new Set(jC);var au=me.createContext(null);au.displayName="DataRouter";var Ed=me.createContext(null);Ed.displayName="DataRouterState";var C1=me.createContext({isTransitioning:!1});C1.displayName="ViewTransition";var $C=me.createContext(new Map);$C.displayName="Fetchers";var zC=me.createContext(null);zC.displayName="Await";var Pi=me.createContext(null);Pi.displayName="Navigation";var Sd=me.createContext(null);Sd.displayName="Location";var Ni=me.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var bv=me.createContext(null);bv.displayName="RouteError";function WC(r,{relative:e}={}){Rr(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=me.useContext(Pi),{hash:s,pathname:o,search:l}=jc(r,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Ps([t,o])),n.createHref({pathname:u,search:l,hash:s})}function lu(){return me.useContext(Sd)!=null}function $o(){return Rr(lu(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(Sd).location}var R1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k1(r){me.useContext(Pi).static||me.useLayoutEffect(r)}function os(){let{isDataRoute:r}=me.useContext(Ni);return r?iR():qC()}function qC(){Rr(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=me.useContext(au),{basename:e,navigator:t}=me.useContext(Pi),{matches:n}=me.useContext(Ni),{pathname:s}=$o(),o=JSON.stringify(_v(n)),l=me.useRef(!1);return k1(()=>{l.current=!0}),me.useCallback((c,h={})=>{if(ki(l.current,R1),!l.current)return;if(typeof c=="number"){t.go(c);return}let d=wv(c,JSON.parse(o),s,h.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ps([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,o,s,r])}me.createContext(null);function HC(){let{matches:r}=me.useContext(Ni),e=r[r.length-1];return e?e.params:{}}function jc(r,{relative:e}={}){let{matches:t}=me.useContext(Ni),{pathname:n}=$o(),s=JSON.stringify(_v(t));return me.useMemo(()=>wv(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function QC(r,e){return P1(r)}function P1(r,e,t,n){Rr(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=me.useContext(Pi),{matches:l}=me.useContext(Ni),u=l[l.length-1],c=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",m=u&&u.route;{let x=m&&m.path||"";N1(h,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let y=$o(),v;v=y;let w=v.pathname||"/",S=w;if(d!=="/"){let x=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=!o&&t&&t.matches&&t.matches.length>0?t.matches:T1(r,{pathname:S});return ki(m||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ki(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XC(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Ps([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Ps([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,t,n)}function KC(){let r=nR(),e=BC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=me.createElement(me.Fragment,null,me.createElement("p",null," Hey developer "),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:o},"ErrorBoundary")," or"," ",me.createElement("code",{style:o},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),t?me.createElement("pre",{style:s},t):null,l)}var GC=me.createElement(KC,null),YC=class extends me.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?me.createElement(Ni.Provider,{value:this.props.routeContext},me.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JC({routeContext:r,match:e,children:t}){let n=me.useContext(au);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),me.createElement(Ni.Provider,{value:r},t)}function XC(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=t==null?void 0:t.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Rr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(t)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:m}=t,y=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let m,y=!1,v=null,w=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||GC,l&&(u<0&&d===0?(N1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===d&&(y=!0,w=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,d+1)),T=()=>{let O;return m?O=v:y?O=w:h.route.Component?O=me.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=c,me.createElement(JC,{match:h,routeContext:{outlet:c,matches:S,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?me.createElement(YC,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function Ev(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(r){let e=me.useContext(au);return Rr(e,Ev(r)),e}function eR(r){let e=me.useContext(Ed);return Rr(e,Ev(r)),e}function tR(r){let e=me.useContext(Ni);return Rr(e,Ev(r)),e}function Sv(r){let e=tR(r),t=e.matches[e.matches.length-1];return Rr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function rR(){return Sv("useRouteId")}function nR(){var n;let r=me.useContext(bv),e=eR("useRouteError"),t=Sv("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function iR(){let{router:r}=ZC("useNavigate"),e=Sv("useNavigate"),t=me.useRef(!1);return k1(()=>{t.current=!0}),me.useCallback(async(s,o={})=>{ki(t.current,R1),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var Hw={};function N1(r,e,t){!e&&!Hw[r]&&(Hw[r]=!0,ki(!1,t))}me.memo(sR);function sR({routes:r,future:e,state:t}){return P1(r,void 0,t,e)}function oR({to:r,replace:e,state:t,relative:n}){Rr(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=me.useContext(Pi);ki(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=me.useContext(Ni),{pathname:l}=$o(),u=os(),c=wv(r,_v(o),l,n==="path"),h=JSON.stringify(c);return me.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:n})},[u,h,n,e,t]),null}function aR({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){Rr(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=me.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=Bc(t));let{pathname:c="/",search:h="",hash:d="",state:m=null,key:y="default"}=t,v=me.useMemo(()=>{let w=Ds(c,l);return w==null?null:{location:{pathname:w,search:h,hash:d,state:m,key:y},navigationType:n}},[l,c,h,d,m,y,n]);return ki(v!=null,`<Router basename="${l}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:me.createElement(Pi.Provider,{value:u},me.createElement(Sd.Provider,{children:e,value:v}))}var xf="get",Af="application/x-www-form-urlencoded";function Td(r){return r!=null&&typeof r.tagName=="string"}function lR(r){return Td(r)&&r.tagName.toLowerCase()==="button"}function uR(r){return Td(r)&&r.tagName.toLowerCase()==="form"}function cR(r){return Td(r)&&r.tagName.toLowerCase()==="input"}function hR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fR(r,e){return r.button===0&&(!e||e==="_self")&&!hR(r)}var df=null;function dR(){if(df===null)try{new FormData(document.createElement("form"),0),df=!1}catch{df=!0}return df}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!pR.has(r)?(ki(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):r}function mR(r,e){let t,n,s,o,l;if(uR(r)){let u=r.getAttribute("action");n=u?Ds(u,e):null,t=r.getAttribute("method")||xf,s=Nm(r.getAttribute("enctype"))||Af,o=new FormData(r)}else if(lR(r)||cR(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||u.getAttribute("action");if(n=c?Ds(c,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||xf,s=Nm(r.getAttribute("formenctype"))||Nm(u.getAttribute("enctype"))||Af,o=new FormData(u,r),!dR()){let{name:h,type:d,value:m}=r;if(d==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,m)}}else{if(Td(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xf,n=null,s=Af,l=r}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:l}}function Tv(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function gR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vR(r,e,t){let n=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await gR(o,t);return l.links?l.links():[]}return[]}));return ER(n.flat(1).filter(yR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qw(r,e,t,n,s,o){let l=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var d;return t[h].pathname!==c.pathname||((d=t[h].route.path)==null?void 0:d.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,h)=>l(c,h)||u(c,h)):o==="data"?e.filter((c,h)=>{var m;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function _R(r,e,{includeHydrateFallback:t}={}){return wR(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function wR(r){return[...new Set(r)]}function bR(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function ER(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let o=JSON.stringify(bR(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}function SR(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ds(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function O1(){let r=me.useContext(au);return Tv(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function TR(){let r=me.useContext(Ed);return Tv(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xv=me.createContext(void 0);xv.displayName="FrameworkContext";function D1(){let r=me.useContext(xv);return Tv(r,"You must render this element inside a <HydratedRouter> element"),r}function xR(r,e){let t=me.useContext(xv),[n,s]=me.useState(!1),[o,l]=me.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:m}=e,y=me.useRef(null);me.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let S=O=>{O.forEach(x=>{l(x.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[r]),me.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{s(!0)},w=()=>{s(!1),l(!1)};return t?r!=="intent"?[o,y,{}]:[o,y,{onFocus:rc(u,v),onBlur:rc(c,w),onMouseEnter:rc(h,v),onMouseLeave:rc(d,w),onTouchStart:rc(m,v)}]:[!1,y,{}]}function rc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function AR({page:r,...e}){let{router:t}=O1(),n=me.useMemo(()=>T1(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?me.createElement(CR,{page:r,matches:n,...e}):null}function IR(r){let{manifest:e,routeModules:t}=D1(),[n,s]=me.useState([]);return me.useEffect(()=>{let o=!1;return vR(r,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[r,e,t]),n}function CR({page:r,matches:e,...t}){let n=$o(),{manifest:s,routeModules:o}=D1(),{basename:l}=O1(),{loaderData:u,matches:c}=TR(),h=me.useMemo(()=>Qw(r,e,c,s,n,"data"),[r,e,c,s,n]),d=me.useMemo(()=>Qw(r,e,c,s,n,"assets"),[r,e,c,s,n]),m=me.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let w=new Set,S=!1;if(e.forEach(O=>{var R;let x=s.routes[O.route.id];!x||!x.hasLoader||(!h.some(z=>z.route.id===O.route.id)&&O.route.id in u&&((R=o[O.route.id])!=null&&R.shouldRevalidate)||x.hasClientLoader?S=!0:w.add(O.route.id))}),w.size===0)return[];let T=SR(r,l);return S&&w.size>0&&T.searchParams.set("_routes",e.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[T.pathname+T.search]},[l,u,n,s,h,e,r,o]),y=me.useMemo(()=>_R(d,s),[d,s]),v=IR(d);return me.createElement(me.Fragment,null,m.map(w=>me.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),y.map(w=>me.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),v.map(({key:w,link:S})=>me.createElement("link",{key:w,...S})))}function RR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var L1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L1&&(window.__reactRouterVersion="7.5.0")}catch{}function kR({basename:r,children:e,window:t}){let n=me.useRef();n.current==null&&(n.current=vC({window:t,v5Compat:!0}));let s=n.current,[o,l]=me.useState({action:s.action,location:s.location}),u=me.useCallback(c=>{me.startTransition(()=>l(c))},[l]);return me.useLayoutEffect(()=>s.listen(u),[s,u]),me.createElement(aR,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F1=me.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:u,target:c,to:h,preventScrollReset:d,viewTransition:m,...y},v){let{basename:w}=me.useContext(Pi),S=typeof h=="string"&&M1.test(h),T,O=!1;if(typeof h=="string"&&S&&(T=h,L1))try{let M=new URL(window.location.href),F=h.startsWith("//")?new URL(M.protocol+h):new URL(h),$=Ds(F.pathname,w);F.origin===M.origin&&$!=null?h=$+F.search+F.hash:O=!0}catch{ki(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=WC(h,{relative:s}),[R,z,H]=xR(n,y),j=DR(h,{replace:l,state:u,target:c,preventScrollReset:d,relative:s,viewTransition:m});function P(M){e&&e(M),M.defaultPrevented||j(M)}let k=me.createElement("a",{...y,...H,href:T||x,onClick:O||o?e:P,ref:RR(v,z),target:c,"data-discover":!S&&t==="render"?"true":void 0});return R&&!S?me.createElement(me.Fragment,null,k,me.createElement(AR,{page:x})):k});F1.displayName="Link";var PR=me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:u,children:c,...h},d){let m=jc(l,{relative:h.relative}),y=$o(),v=me.useContext(Ed),{navigator:w,basename:S}=me.useContext(Pi),T=v!=null&&UR(m)&&u===!0,O=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,x=y.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(x=x.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&S&&(R=Ds(R,S)||R);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let H=x===O||!s&&x.startsWith(O)&&x.charAt(z)==="/",j=R!=null&&(R===O||!s&&R.startsWith(O)&&R.charAt(O.length)==="/"),P={isActive:H,isPending:j,isTransitioning:T},k=H?e:void 0,M;typeof n=="function"?M=n(P):M=[n,H?"active":null,j?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(P):o;return me.createElement(F1,{...h,"aria-current":k,className:M,ref:d,style:F,to:l,viewTransition:u},typeof c=="function"?c(P):c)});PR.displayName="NavLink";var NR=me.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:l=xf,action:u,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:m,...y},v)=>{let w=FR(),S=VR(u,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&M1.test(u),x=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,H=(z==null?void 0:z.getAttribute("formmethod"))||l;w(z||R.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:o,relative:h,preventScrollReset:d,viewTransition:m})};return me.createElement("form",{ref:v,method:T,action:S,onSubmit:n?c:x,...y,"data-discover":!O&&r==="render"?"true":void 0})});NR.displayName="Form";function OR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V1(r){let e=me.useContext(au);return Rr(e,OR(r)),e}function DR(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=os(),c=$o(),h=jc(r,{relative:o});return me.useCallback(d=>{if(fR(d,e)){d.preventDefault();let m=t!==void 0?t:Sc(c)===Sc(h);u(r,{replace:m,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,h,t,n,e,r,s,o,l])}var LR=0,MR=()=>`__${String(++LR)}__`;function FR(){let{router:r}=V1("useSubmit"),{basename:e}=me.useContext(Pi),t=rR();return me.useCallback(async(n,s={})=>{let{action:o,method:l,encType:u,formData:c,body:h}=mR(n,e);if(s.navigate===!1){let d=s.fetcherKey||MR();await r.fetch(d,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function VR(r,{relative:e}={}){let{basename:t}=me.useContext(Pi),n=me.useContext(Ni);Rr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...jc(r||".",{relative:e})},l=$o();if(r==null){o.search=l.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();o.search=d?`?${d}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ps([t,o.pathname])),Sc(o)}function UR(r,e={}){let t=me.useContext(C1);Rr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V1("useViewTransitionState"),s=jc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ds(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Ds(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Qf(s.pathname,l)!=null||Qf(s.pathname,o)!=null}new TextEncoder;function U1(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=U1(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Pa(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=U1(r))&&(n&&(n+=" "),n+=e);return n}function BR(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}BR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $c=r=>typeof r=="number"&&!isNaN(r),Fa=r=>typeof r=="string",Ls=r=>typeof r=="function",jR=r=>Fa(r)||$c(r),og=r=>Fa(r)||Ls(r)?r:null,$R=(r,e)=>r===!1||$c(r)&&r>0?r:e,ag=r=>me.isValidElement(r)||Fa(r)||Ls(r)||$c(r);function zR(r,e,t=300){let{scrollHeight:n,style:s}=r;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function WR({enter:r,exit:e,appendPosition:t=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:o,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d,playToast:m}){let y=t?`${r}--${l}`:r,v=t?`${e}--${l}`:e,w=me.useRef(0);return me.useLayoutEffect(()=>{let S=h.current,T=y.split(" "),O=x=>{x.target===h.current&&(m(),S.removeEventListener("animationend",O),S.removeEventListener("animationcancel",O),w.current===0&&x.type!=="animationcancel"&&S.classList.remove(...T))};S.classList.add(...T),S.addEventListener("animationend",O),S.addEventListener("animationcancel",O)},[]),me.useEffect(()=>{let S=h.current,T=()=>{S.removeEventListener("animationend",T),n?zR(S,c,s):c()};d||(u?T():(w.current=1,S.className+=` ${v}`,S.addEventListener("animationend",T)))},[d]),Rt.createElement(Rt.Fragment,null,o)}}function Kw(r,e){return{content:B1(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function B1(r,e,t=!1){return me.isValidElement(r)&&!Fa(r.type)?me.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ls(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function qR({closeToast:r,theme:e,ariaLabel:t="close"}){return Rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),r(!0)},"aria-label":t},Rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function HR({delay:r,isRunning:e,closeToast:t,type:n="default",hide:s,className:o,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:d}){let m=s||l&&u===0,y={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};l&&(y.transform=`scaleX(${u})`);let v=Pa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),w=Ls(o)?o({rtl:c,type:n,defaultClassName:v}):Pa(v,o),S={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&t()}};return Rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),Rt.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:w,style:y,...S}))}var QR=1,j1=()=>`${QR++}`;function KR(r,e,t){let n=1,s=0,o=[],l=[],u=e,c=new Map,h=new Set,d=x=>(h.add(x),()=>h.delete(x)),m=()=>{l=Array.from(c.values()),h.forEach(x=>x())},y=({containerId:x,toastId:R,updateId:z})=>{let H=x?x!==r:r!==1,j=c.has(R)&&z==null;return H||j},v=(x,R)=>{c.forEach(z=>{var H;(R==null||R===z.props.toastId)&&((H=z.toggle)==null||H.call(z,x))})},w=x=>{var R,z;(z=(R=x.props)==null?void 0:R.onClose)==null||z.call(R,x.removalReason),x.isActive=!1},S=x=>{if(x==null)c.forEach(w);else{let R=c.get(x);R&&w(R)}m()},T=()=>{s-=o.length,o=[]},O=x=>{var R,z;let{toastId:H,updateId:j}=x.props,P=j==null;x.staleId&&c.delete(x.staleId),x.isActive=!0,c.set(H,x),m(),t(Kw(x,P?"added":"updated")),P&&((z=(R=x.props).onOpen)==null||z.call(R))};return{id:r,props:u,observe:d,toggle:v,removeToast:S,toasts:c,clearQueue:T,buildToast:(x,R)=>{if(y(R))return;let{toastId:z,updateId:H,data:j,staleId:P,delay:k}=R,M=H==null;M&&s++;let F={...u,style:u.toastStyle,key:n++,...Object.fromEntries(Object.entries(R).filter(([N,V])=>V!=null)),toastId:z,updateId:H,data:j,isIn:!1,className:og(R.className||u.toastClassName),progressClassName:og(R.progressClassName||u.progressClassName),autoClose:R.isLoading?!1:$R(R.autoClose,u.autoClose),closeToast(N){c.get(z).removalReason=N,S(z)},deleteToast(){let N=c.get(z);if(N!=null){if(t(Kw(N,"removed")),c.delete(z),s--,s<0&&(s=0),o.length>0){O(o.shift());return}m()}}};F.closeButton=u.closeButton,R.closeButton===!1||ag(R.closeButton)?F.closeButton=R.closeButton:R.closeButton===!0&&(F.closeButton=ag(u.closeButton)?u.closeButton:!0);let $={content:x,props:F,staleId:P};u.limit&&u.limit>0&&s>u.limit&&M?o.push($):$c(k)?setTimeout(()=>{O($)},k):O($)},setProps(x){u=x},setToggle:(x,R)=>{let z=c.get(x);z&&(z.toggle=R)},isToastActive:x=>{var R;return(R=c.get(x))==null?void 0:R.isActive},getSnapshot:()=>l}}var Sn=new Map,Tc=[],lg=new Set,GR=r=>lg.forEach(e=>e(r)),$1=()=>Sn.size>0;function YR(){Tc.forEach(r=>W1(r.content,r.options)),Tc=[]}var JR=(r,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(r)};function z1(r,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(r));let n=!1;return Sn.forEach(s=>{s.isToastActive(r)&&(n=!0)}),n}function XR(r){if(!$1()){Tc=Tc.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||jR(r))Sn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Sn.get(r.containerId);e?e.removeToast(r.id):Sn.forEach(t=>{t.removeToast(r.id)})}}var ZR=(r={})=>{Sn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function W1(r,e){ag(r)&&($1()||Tc.push({content:r,options:e}),Sn.forEach(t=>{t.buildToast(r,e)}))}function ek(r){var e;(e=Sn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function q1(r,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function tk(r){let e=r.containerId||1;return{subscribe(t){let n=KR(e,r,GR);Sn.set(e,n);let s=n.observe(t);return YR(),()=>{s(),Sn.delete(e)}},setProps(t){var n;(n=Sn.get(e))==null||n.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function rk(r){return lg.add(r),()=>{lg.delete(r)}}function nk(r){return r&&(Fa(r.toastId)||$c(r.toastId))?r.toastId:j1()}function zc(r,e){return W1(r,e),e.toastId}function xd(r,e){return{...e,type:e&&e.type||r,toastId:nk(e)}}function Ad(r){return(e,t)=>zc(e,xd(r,t))}function pt(r,e){return zc(r,xd("default",e))}pt.loading=(r,e)=>zc(r,xd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function ik(r,{pending:e,error:t,success:n},s){let o;e&&(o=Fa(e)?pt.loading(e,s):pt.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,d,m)=>{if(d==null){pt.dismiss(o);return}let y={type:h,...l,...s,data:m},v=Fa(d)?{render:d}:d;return o?pt.update(o,{...y,...v}):pt(v.render,{...y,...v}),m},c=Ls(r)?r():r;return c.then(h=>u("success",n,h)).catch(h=>u("error",t,h)),c}pt.promise=ik;pt.success=Ad("success");pt.info=Ad("info");pt.error=Ad("error");pt.warning=Ad("warning");pt.warn=pt.warning;pt.dark=(r,e)=>zc(r,xd("default",{theme:"dark",...e}));function sk(r){XR(r)}pt.dismiss=sk;pt.clearWaitingQueue=ZR;pt.isActive=z1;pt.update=(r,e={})=>{let t=JR(r,e);if(t){let{props:n,content:s}=t,o={delay:100,...n,...e,toastId:e.toastId||r,updateId:j1()};o.toastId!==r&&(o.staleId=r);let l=o.render||s;delete o.render,zc(l,o)}};pt.done=r=>{pt.update(r,{progress:1})};pt.onChange=rk;pt.play=r=>q1(!0,r);pt.pause=r=>q1(!1,r);function ok(r){var e;let{subscribe:t,getSnapshot:n,setProps:s}=me.useRef(tk(r)).current;s(r);let o=(e=me.useSyncExternalStore(t,n,n))==null?void 0:e.slice();function l(u){if(!o)return[];let c=new Map;return r.newestOnTop&&o.reverse(),o.forEach(h=>{let{position:d}=h.props;c.has(d)||c.set(d,[]),c.get(d).push(h)}),Array.from(c,h=>u(h[0],h[1]))}return{getToastToRender:l,isToastActive:z1,count:o==null?void 0:o.length}}function ak(r){let[e,t]=me.useState(!1),[n,s]=me.useState(!1),o=me.useRef(null),l=me.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:h,onClick:d,closeOnClick:m}=r;ek({id:r.toastId,containerId:r.containerId,fn:t}),me.useEffect(()=>{if(r.pauseOnFocusLoss)return y(),()=>{v()}},[r.pauseOnFocusLoss]);function y(){document.hasFocus()||O(),window.addEventListener("focus",T),window.addEventListener("blur",O)}function v(){window.removeEventListener("focus",T),window.removeEventListener("blur",O)}function w(P){if(r.draggable===!0||r.draggable===P.pointerType){x();let k=o.current;l.canCloseOnClick=!0,l.canDrag=!0,k.style.transition="none",r.draggableDirection==="x"?(l.start=P.clientX,l.removalDistance=k.offsetWidth*(r.draggablePercent/100)):(l.start=P.clientY,l.removalDistance=k.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function S(P){let{top:k,bottom:M,left:F,right:$}=o.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&r.pauseOnHover&&P.clientX>=F&&P.clientX<=$&&P.clientY>=k&&P.clientY<=M?O():T()}function T(){t(!0)}function O(){t(!1)}function x(){l.didMove=!1,document.addEventListener("pointermove",z),document.addEventListener("pointerup",H)}function R(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",H)}function z(P){let k=o.current;if(l.canDrag&&k){l.didMove=!0,e&&O(),r.draggableDirection==="x"?l.delta=P.clientX-l.start:l.delta=P.clientY-l.start,l.start!==P.clientX&&(l.canCloseOnClick=!1);let M=r.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;k.style.transform=`translate3d(${M},0)`,k.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function H(){R();let P=o.current;if(l.canDrag&&l.didMove&&P){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),r.closeToast(!0),r.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let j={onPointerDown:w,onPointerUp:S};return u&&c&&(j.onMouseEnter=O,r.stacked||(j.onMouseLeave=T)),m&&(j.onClick=P=>{d&&d(P),l.canCloseOnClick&&h(!0)}),{playToast:T,pauseToast:O,isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:j}}var lk=typeof window<"u"?me.useLayoutEffect:me.useEffect,Id=({theme:r,type:e,isLoading:t,...n})=>Rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function uk(r){return Rt.createElement(Id,{...r},Rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ck(r){return Rt.createElement(Id,{...r},Rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function hk(r){return Rt.createElement(Id,{...r},Rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function fk(r){return Rt.createElement(Id,{...r},Rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function dk(){return Rt.createElement("div",{className:"Toastify__spinner"})}var ug={info:ck,warning:uk,success:hk,error:fk,spinner:dk},pk=r=>r in ug;function mk({theme:r,type:e,isLoading:t,icon:n}){let s=null,o={theme:r,type:e};return n===!1||(Ls(n)?s=n({...o,isLoading:t}):me.isValidElement(n)?s=me.cloneElement(n,o):t?s=ug.spinner():pk(e)&&(s=ug[e](o))),s}var gk=r=>{let{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:s,playToast:o}=ak(r),{closeButton:l,children:u,autoClose:c,onClick:h,type:d,hideProgressBar:m,closeToast:y,transition:v,position:w,className:S,style:T,progressClassName:O,updateId:x,role:R,progress:z,rtl:H,toastId:j,deleteToast:P,isIn:k,isLoading:M,closeOnClick:F,theme:$,ariaLabel:N}=r,V=Pa("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":H},{"Toastify__toast--close-on-click":F}),_e=Ls(S)?S({rtl:H,position:w,type:d,defaultClassName:V}):Pa(V,S),ae=mk(r),De=!!z||!c,ke={closeToast:y,type:d,theme:$},fe=null;return l===!1||(Ls(l)?fe=l(ke):me.isValidElement(l)?fe=me.cloneElement(l,ke):fe=qR(ke)),Rt.createElement(v,{isIn:k,done:P,position:w,preventExitTransition:t,nodeRef:n,playToast:o},Rt.createElement("div",{id:j,tabIndex:0,onClick:h,"data-in":k,className:_e,...s,style:T,ref:n,...k&&{role:R,"aria-label":N}},ae!=null&&Rt.createElement("div",{className:Pa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},ae),B1(u,r,!e),fe,!r.customProgressBar&&Rt.createElement(HR,{...x&&!De?{key:`p-${x}`}:{},rtl:H,theme:$,delay:c,isRunning:e,isIn:k,closeToast:y,hide:m,type:d,className:O,controlledProgress:De,progress:z||0})))},yk=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),vk=WR(yk("bounce",!0)),_k={position:"top-right",transition:vk,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function wk(r){let e={..._k,...r},t=r.stacked,[n,s]=me.useState(!0),o=me.useRef(null),{getToastToRender:l,isToastActive:u,count:c}=ok(e),{className:h,style:d,rtl:m,containerId:y,hotKeys:v}=e;function w(T){let O=Pa("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":m});return Ls(h)?h({position:T,rtl:m,defaultClassName:O}):Pa(O,og(h))}function S(){t&&(s(!0),pt.play())}return lk(()=>{var T;if(t){let O=o.current.querySelectorAll('[data-in="true"]'),x=12,R=(T=e.position)==null?void 0:T.includes("top"),z=0,H=0;Array.from(O).reverse().forEach((j,P)=>{let k=j;k.classList.add("Toastify__toast--stacked"),P>0&&(k.dataset.collapsed=`${n}`),k.dataset.pos||(k.dataset.pos=R?"top":"bot");let M=z*(n?.2:1)+(n?0:x*P);k.style.setProperty("--y",`${R?M:M*-1}px`),k.style.setProperty("--g",`${x}`),k.style.setProperty("--s",`${1-(n?H:0)}`),z+=k.offsetHeight,H+=.025})}},[n,c,t]),me.useEffect(()=>{function T(O){var x;let R=o.current;v(O)&&((x=R.querySelector('[tabIndex="0"]'))==null||x.focus(),s(!1),pt.pause()),O.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(s(!0),pt.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[v]),Rt.createElement("section",{ref:o,className:"Toastify",id:y,onMouseEnter:()=>{t&&(s(!1),pt.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((T,O)=>{let x=O.length?{...d}:{...d,pointerEvents:"none"};return Rt.createElement("div",{tabIndex:-1,className:w(T),"data-stacked":t,style:x,key:`c-${T}`},O.map(({content:R,props:z})=>Rt.createElement(gk,{...z,stacked:t,collapseAll:S,isIn:u(z.toastId,z.containerId),key:`t-${z.key}`},R)))}))}var uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Va=typeof window>"u"||"Deno"in globalThis;function li(){}function bk(r,e){return typeof r=="function"?r(e):r}function cg(r){return typeof r=="number"&&r>=0&&r!==1/0}function H1(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Fl(r,e){return typeof r=="function"?r(e):r}function Ii(r,e){return typeof r=="function"?r(e):r}function Gw(r,e){const{type:t="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=r;if(l){if(n){if(e.queryHash!==Av(l,e.options))return!1}else if(!xc(e.queryKey,l))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function Yw(r,e){const{exact:t,status:n,predicate:s,mutationKey:o}=r;if(o){if(!e.options.mutationKey)return!1;if(t){if(Ua(e.options.mutationKey)!==Ua(o))return!1}else if(!xc(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Av(r,e){return((e==null?void 0:e.queryKeyHashFn)||Ua)(r)}function Ua(r){return JSON.stringify(r,(e,t)=>hg(t)?Object.keys(t).sort().reduce((n,s)=>(n[s]=t[s],n),{}):t)}function xc(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!xc(r[t],e[t])):!1}function Q1(r,e){if(r===e)return r;const t=Jw(r)&&Jw(e);if(t||hg(r)&&hg(e)){const n=t?r:Object.keys(r),s=n.length,o=t?e:Object.keys(e),l=o.length,u=t?[]:{};let c=0;for(let h=0;h<l;h++){const d=t?h:o[h];(!t&&n.includes(d)||t)&&r[d]===void 0&&e[d]===void 0?(u[d]=void 0,c++):(u[d]=Q1(r[d],e[d]),u[d]===r[d]&&r[d]!==void 0&&c++)}return s===l&&c===s?r:u}return e}function Kf(r,e){if(!e||Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}function Jw(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function hg(r){if(!Xw(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Xw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Xw(r){return Object.prototype.toString.call(r)==="[object Object]"}function Ek(r){return new Promise(e=>{setTimeout(e,r)})}function fg(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?Q1(r,e):e}function Sk(r,e,t=0){const n=[...r,e];return t&&n.length>t?n.slice(1):n}function Tk(r,e,t=0){const n=[e,...r];return t&&n.length>t?n.slice(0,-1):n}var Iv=Symbol();function K1(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Iv?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Sa,Eo,Bl,d1,xk=(d1=class extends uu{constructor(){super();nt(this,Sa);nt(this,Eo);nt(this,Bl);Ue(this,Bl,e=>{if(!Va&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){L(this,Eo)||this.setEventListener(L(this,Bl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Eo))==null||e.call(this),Ue(this,Eo,void 0))}setEventListener(e){var t;Ue(this,Bl,e),(t=L(this,Eo))==null||t.call(this),Ue(this,Eo,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){L(this,Sa)!==e&&(Ue(this,Sa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof L(this,Sa)=="boolean"?L(this,Sa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Sa=new WeakMap,Eo=new WeakMap,Bl=new WeakMap,d1),Cv=new xk,jl,So,$l,p1,Ak=(p1=class extends uu{constructor(){super();nt(this,jl,!0);nt(this,So);nt(this,$l);Ue(this,$l,e=>{if(!Va&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){L(this,So)||this.setEventListener(L(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,So))==null||e.call(this),Ue(this,So,void 0))}setEventListener(e){var t;Ue(this,$l,e),(t=L(this,So))==null||t.call(this),Ue(this,So,e(this.setOnline.bind(this)))}setOnline(e){L(this,jl)!==e&&(Ue(this,jl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return L(this,jl)}},jl=new WeakMap,So=new WeakMap,$l=new WeakMap,p1),Gf=new Ak;function dg(){let r,e;const t=new Promise((s,o)=>{r=s,e=o});t.status="pending",t.catch(()=>{});function n(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{n({status:"fulfilled",value:s}),r(s)},t.reject=s=>{n({status:"rejected",reason:s}),e(s)},t}function Ik(r){return Math.min(1e3*2**r,3e4)}function G1(r){return(r??"online")==="online"?Gf.isOnline():!0}var Y1=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function Om(r){return r instanceof Y1}function J1(r){let e=!1,t=0,n=!1,s;const o=dg(),l=S=>{var T;n||(y(new Y1(S)),(T=r.abort)==null||T.call(r))},u=()=>{e=!0},c=()=>{e=!1},h=()=>Cv.isFocused()&&(r.networkMode==="always"||Gf.isOnline())&&r.canRun(),d=()=>G1(r.networkMode)&&r.canRun(),m=S=>{var T;n||(n=!0,(T=r.onSuccess)==null||T.call(r,S),s==null||s(),o.resolve(S))},y=S=>{var T;n||(n=!0,(T=r.onError)==null||T.call(r,S),s==null||s(),o.reject(S))},v=()=>new Promise(S=>{var T;s=O=>{(n||h())&&S(O)},(T=r.onPause)==null||T.call(r)}).then(()=>{var S;s=void 0,n||(S=r.onContinue)==null||S.call(r)}),w=()=>{if(n)return;let S;const T=t===0?r.initialPromise:void 0;try{S=T??r.fn()}catch(O){S=Promise.reject(O)}Promise.resolve(S).then(m).catch(O=>{var j;if(n)return;const x=r.retry??(Va?0:3),R=r.retryDelay??Ik,z=typeof R=="function"?R(t,O):R,H=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,O);if(e||!H){y(O);return}t++,(j=r.onFail)==null||j.call(r,t,O),Ek(z).then(()=>h()?void 0:v()).then(()=>{e?y(O):w()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?w():v().then(w),o)}}var Ck=r=>setTimeout(r,0);function Rk(){let r=[],e=0,t=u=>{u()},n=u=>{u()},s=Ck;const o=u=>{e?r.push(u):s(()=>{t(u)})},l=()=>{const u=r;r=[],u.length&&s(()=>{n(()=>{u.forEach(c=>{t(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||l()}return c},batchCalls:u=>(...c)=>{o(()=>{u(...c)})},schedule:o,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var Mr=Rk(),Ta,m1,X1=(m1=class{constructor(){nt(this,Ta)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cg(this.gcTime)&&Ue(this,Ta,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Va?1/0:5*60*1e3))}clearGcTimeout(){L(this,Ta)&&(clearTimeout(L(this,Ta)),Ue(this,Ta,void 0))}},Ta=new WeakMap,m1),zl,Wl,ai,xa,cn,Mc,Aa,xi,Ss,g1,kk=(g1=class extends X1{constructor(t){super();nt(this,xi);nt(this,zl);nt(this,Wl);nt(this,ai);nt(this,xa);nt(this,cn);nt(this,Mc);nt(this,Aa);Ue(this,Aa,!1),Ue(this,Mc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ue(this,xa,t.client),Ue(this,ai,L(this,xa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ue(this,zl,Pk(this.options)),this.state=t.state??L(this,zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,cn))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Mc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,ai).remove(this)}setData(t,n){const s=fg(this.state.data,t,this.options);return We(this,xi,Ss).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){We(this,xi,Ss).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,o;const n=(s=L(this,cn))==null?void 0:s.promise;return(o=L(this,cn))==null||o.cancel(t),n?n.then(li).catch(li):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,zl))}isActive(){return this.observers.some(t=>Ii(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!H1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=L(this,cn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=L(this,cn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,ai).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(L(this,cn)&&(L(this,Aa)?L(this,cn).cancel({revert:!0}):L(this,cn).cancelRetry()),this.scheduleGc()),L(this,ai).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,xi,Ss).call(this,{type:"invalidate"})}fetch(t,n){var h,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,cn))return L(this,cn).continueRetry(),L(this,cn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,o=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Ue(this,Aa,!0),s.signal)})},l=()=>{const y=K1(this.options,n),v={client:L(this,xa),queryKey:this.queryKey,meta:this.meta};return o(v),Ue(this,Aa,!1),this.options.persister?this.options.persister(y,v,this):y(v)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:L(this,xa),state:this.state,fetchFn:l};o(u),(h=this.options.behavior)==null||h.onFetch(u,this),Ue(this,Wl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=u.fetchOptions)==null?void 0:d.meta))&&We(this,xi,Ss).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const c=y=>{var v,w,S,T;Om(y)&&y.silent||We(this,xi,Ss).call(this,{type:"error",error:y}),Om(y)||((w=(v=L(this,ai).config).onError)==null||w.call(v,y,this),(T=(S=L(this,ai).config).onSettled)==null||T.call(S,this.state.data,y,this)),this.scheduleGc()};return Ue(this,cn,J1({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var v,w,S,T;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(O){c(O);return}(w=(v=L(this,ai).config).onSuccess)==null||w.call(v,y,this),(T=(S=L(this,ai).config).onSettled)==null||T.call(S,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,v)=>{We(this,xi,Ss).call(this,{type:"failed",failureCount:y,error:v})},onPause:()=>{We(this,xi,Ss).call(this,{type:"pause"})},onContinue:()=>{We(this,xi,Ss).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),L(this,cn).start()}},zl=new WeakMap,Wl=new WeakMap,ai=new WeakMap,xa=new WeakMap,cn=new WeakMap,Mc=new WeakMap,Aa=new WeakMap,xi=new WeakSet,Ss=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Z1(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Om(o)&&o.revert&&L(this,Wl)?{...L(this,Wl),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Mr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),L(this,ai).notify({query:this,type:"updated",action:t})})},g1);function Z1(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G1(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Pk(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,n=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ki,y1,Nk=(y1=class extends uu{constructor(e={}){super();nt(this,Ki);this.config=e,Ue(this,Ki,new Map)}build(e,t,n){const s=t.queryKey,o=t.queryHash??Av(s,t);let l=this.get(o);return l||(l=new kk({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){L(this,Ki).has(e.queryHash)||(L(this,Ki).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=L(this,Ki).get(e.queryHash);t&&(e.destroy(),t===e&&L(this,Ki).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Ki).get(e)}getAll(){return[...L(this,Ki).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Gw(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Gw(e,n)):t}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ki=new WeakMap,y1),Gi,wn,Ia,Yi,mo,v1,Ok=(v1=class extends X1{constructor(t){super();nt(this,Yi);nt(this,Gi);nt(this,wn);nt(this,Ia);this.mutationId=t.mutationId,Ue(this,wn,t.mutationCache),Ue(this,Gi,[]),this.state=t.state||eS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,Gi).includes(t)||(L(this,Gi).push(t),this.clearGcTimeout(),L(this,wn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ue(this,Gi,L(this,Gi).filter(n=>n!==t)),this.scheduleGc(),L(this,wn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,Gi).length||(this.state.status==="pending"?this.scheduleGc():L(this,wn).remove(this))}continue(){var t;return((t=L(this,Ia))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,c,h,d,m,y,v,w,S,T,O,x,R,z,H,j,P,k;Ue(this,Ia,J1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{We(this,Yi,mo).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{We(this,Yi,mo).call(this,{type:"pause"})},onContinue:()=>{We(this,Yi,mo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,wn).canRun(this)}));const n=this.state.status==="pending",s=!L(this,Ia).canStart();try{if(!n){We(this,Yi,mo).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(o=L(this,wn).config).onMutate)==null?void 0:l.call(o,t,this));const F=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t));F!==this.state.context&&We(this,Yi,mo).call(this,{type:"pending",context:F,variables:t,isPaused:s})}const M=await L(this,Ia).start();return await((d=(h=L(this,wn).config).onSuccess)==null?void 0:d.call(h,M,t,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,M,t,this.state.context)),await((w=(v=L(this,wn).config).onSettled)==null?void 0:w.call(v,M,null,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,M,null,t,this.state.context)),We(this,Yi,mo).call(this,{type:"success",data:M}),M}catch(M){try{throw await((x=(O=L(this,wn).config).onError)==null?void 0:x.call(O,M,t,this.state.context,this)),await((z=(R=this.options).onError)==null?void 0:z.call(R,M,t,this.state.context)),await((j=(H=L(this,wn).config).onSettled)==null?void 0:j.call(H,void 0,M,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,M,t,this.state.context)),M}finally{We(this,Yi,mo).call(this,{type:"error",error:M})}}finally{L(this,wn).runNext(this)}}},Gi=new WeakMap,wn=new WeakMap,Ia=new WeakMap,Yi=new WeakSet,mo=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mr.batch(()=>{L(this,Gi).forEach(s=>{s.onMutationUpdate(t)}),L(this,wn).notify({mutation:this,type:"updated",action:t})})},v1);function eS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rs,Ai,Fc,_1,Dk=(_1=class extends uu{constructor(e={}){super();nt(this,Rs);nt(this,Ai);nt(this,Fc);this.config=e,Ue(this,Rs,new Set),Ue(this,Ai,new Map),Ue(this,Fc,0)}build(e,t,n){const s=new Ok({mutationCache:this,mutationId:++fa(this,Fc)._,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){L(this,Rs).add(e);const t=pf(e);if(typeof t=="string"){const n=L(this,Ai).get(t);n?n.push(e):L(this,Ai).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(L(this,Rs).delete(e)){const t=pf(e);if(typeof t=="string"){const n=L(this,Ai).get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&L(this,Ai).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=pf(e);if(typeof t=="string"){const n=L(this,Ai).get(t),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const t=pf(e);if(typeof t=="string"){const s=(n=L(this,Ai).get(t))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mr.batch(()=>{L(this,Rs).forEach(e=>{this.notify({type:"removed",mutation:e})}),L(this,Rs).clear(),L(this,Ai).clear()})}getAll(){return Array.from(L(this,Rs))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Yw(t,n))}findAll(e={}){return this.getAll().filter(t=>Yw(e,t))}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mr.batch(()=>Promise.all(e.map(t=>t.continue().catch(li))))}},Rs=new WeakMap,Ai=new WeakMap,Fc=new WeakMap,_1);function pf(r){var e;return(e=r.options.scope)==null?void 0:e.id}function Zw(r){return{onFetch:(e,t)=>{var d,m,y,v,w;const n=e.options,s=(y=(m=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],l=((w=e.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const h=async()=>{let S=!1;const T=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},O=K1(e.options,e.fetchOptions),x=async(R,z,H)=>{if(S)return Promise.reject();if(z==null&&R.pages.length)return Promise.resolve(R);const j={client:e.client,queryKey:e.queryKey,pageParam:z,direction:H?"backward":"forward",meta:e.options.meta};T(j);const P=await O(j),{maxPages:k}=e.options,M=H?Tk:Sk;return{pages:M(R.pages,P,k),pageParams:M(R.pageParams,z,k)}};if(s&&o.length){const R=s==="backward",z=R?Lk:eb,H={pages:o,pageParams:l},j=z(n,H);u=await x(H,j,R)}else{const R=r??o.length;do{const z=c===0?l[0]??n.initialPageParam:eb(n,u);if(c>0&&z==null)break;u=await x(u,z),c++}while(c<R)}return u};e.options.persister?e.fetchFn=()=>{var S,T;return(T=(S=e.options).persister)==null?void 0:T.call(S,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function eb(r,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?r.getNextPageParam(e[n],e,t[n],t):void 0}function Lk(r,{pages:e,pageParams:t}){var n;return e.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,e[0],e,t[0],t):void 0}var vr,To,xo,ql,Hl,Ao,Ql,Kl,w1,Mk=(w1=class{constructor(r={}){nt(this,vr);nt(this,To);nt(this,xo);nt(this,ql);nt(this,Hl);nt(this,Ao);nt(this,Ql);nt(this,Kl);Ue(this,vr,r.queryCache||new Nk),Ue(this,To,r.mutationCache||new Dk),Ue(this,xo,r.defaultOptions||{}),Ue(this,ql,new Map),Ue(this,Hl,new Map),Ue(this,Ao,0)}mount(){fa(this,Ao)._++,L(this,Ao)===1&&(Ue(this,Ql,Cv.subscribe(async r=>{r&&(await this.resumePausedMutations(),L(this,vr).onFocus())})),Ue(this,Kl,Gf.subscribe(async r=>{r&&(await this.resumePausedMutations(),L(this,vr).onOnline())})))}unmount(){var r,e;fa(this,Ao)._--,L(this,Ao)===0&&((r=L(this,Ql))==null||r.call(this),Ue(this,Ql,void 0),(e=L(this,Kl))==null||e.call(this),Ue(this,Kl,void 0))}isFetching(r){return L(this,vr).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return L(this,To).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=L(this,vr).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=L(this,vr).build(this,e),n=t.state.data;return n===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(Fl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(r){return L(this,vr).findAll(r).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(r,e,t){const n=this.defaultQueryOptions({queryKey:r}),s=L(this,vr).get(n.queryHash),o=s==null?void 0:s.state.data,l=bk(e,o);if(l!==void 0)return L(this,vr).build(this,n).setData(l,{...t,manual:!0})}setQueriesData(r,e,t){return Mr.batch(()=>L(this,vr).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=L(this,vr).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=L(this,vr);Mr.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=L(this,vr);return Mr.batch(()=>(t.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},n=Mr.batch(()=>L(this,vr).findAll(r).map(s=>s.cancel(t)));return Promise.all(n).then(li).catch(li)}invalidateQueries(r,e={}){return Mr.batch(()=>(L(this,vr).findAll(r).forEach(t=>{t.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},n=Mr.batch(()=>L(this,vr).findAll(r).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,t);return t.throwOnError||(o=o.catch(li)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(li)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=L(this,vr).build(this,e);return t.isStaleByTime(Fl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(li).catch(li)}fetchInfiniteQuery(r){return r.behavior=Zw(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(li).catch(li)}ensureInfiniteQueryData(r){return r.behavior=Zw(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Gf.isOnline()?L(this,To).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,vr)}getMutationCache(){return L(this,To)}getDefaultOptions(){return L(this,xo)}setDefaultOptions(r){Ue(this,xo,r)}setQueryDefaults(r,e){L(this,ql).set(Ua(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...L(this,ql).values()],t={};return e.forEach(n=>{xc(r,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(r,e){L(this,Hl).set(Ua(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...L(this,Hl).values()],t={};return e.forEach(n=>{xc(r,n.mutationKey)&&Object.assign(t,n.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...L(this,xo).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Av(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iv&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...L(this,xo).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){L(this,vr).clear(),L(this,To).clear()}},vr=new WeakMap,To=new WeakMap,xo=new WeakMap,ql=new WeakMap,Hl=new WeakMap,Ao=new WeakMap,Ql=new WeakMap,Kl=new WeakMap,w1),Dn,Dt,Vc,bn,Ca,Gl,Io,Ji,Uc,Yl,Jl,Ra,ka,Co,Xl,$t,ac,pg,mg,gg,yg,vg,_g,wg,tS,b1,Fk=(b1=class extends uu{constructor(e,t){super();nt(this,$t);nt(this,Dn);nt(this,Dt);nt(this,Vc);nt(this,bn);nt(this,Ca);nt(this,Gl);nt(this,Io);nt(this,Ji);nt(this,Uc);nt(this,Yl);nt(this,Jl);nt(this,Ra);nt(this,ka);nt(this,Co);nt(this,Xl,new Set);this.options=t,Ue(this,Dn,e),Ue(this,Ji,null),Ue(this,Io,dg()),this.options.experimental_prefetchInRender||L(this,Io).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Dt).addObserver(this),tb(L(this,Dt),this.options)?We(this,$t,ac).call(this):this.updateResult(),We(this,$t,yg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bg(L(this,Dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bg(L(this,Dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,$t,vg).call(this),We(this,$t,_g).call(this),L(this,Dt).removeObserver(this)}setOptions(e){const t=this.options,n=L(this,Dt);if(this.options=L(this,Dn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ii(this.options.enabled,L(this,Dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,$t,wg).call(this),L(this,Dt).setOptions(this.options),t._defaulted&&!Kf(this.options,t)&&L(this,Dn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Dt),observer:this});const s=this.hasListeners();s&&rb(L(this,Dt),n,this.options,t)&&We(this,$t,ac).call(this),this.updateResult(),s&&(L(this,Dt)!==n||Ii(this.options.enabled,L(this,Dt))!==Ii(t.enabled,L(this,Dt))||Fl(this.options.staleTime,L(this,Dt))!==Fl(t.staleTime,L(this,Dt)))&&We(this,$t,pg).call(this);const o=We(this,$t,mg).call(this);s&&(L(this,Dt)!==n||Ii(this.options.enabled,L(this,Dt))!==Ii(t.enabled,L(this,Dt))||o!==L(this,Co))&&We(this,$t,gg).call(this,o)}getOptimisticResult(e){const t=L(this,Dn).getQueryCache().build(L(this,Dn),e),n=this.createResult(t,e);return Uk(this,n)&&(Ue(this,bn,n),Ue(this,Gl,this.options),Ue(this,Ca,L(this,Dt).state)),n}getCurrentResult(){return L(this,bn)}trackResult(e,t){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t==null||t(s),e[s])})}),n}trackProp(e){L(this,Xl).add(e)}getCurrentQuery(){return L(this,Dt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=L(this,Dn).defaultQueryOptions(e),n=L(this,Dn).getQueryCache().build(L(this,Dn),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return We(this,$t,ac).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,bn)))}createResult(e,t){var k;const n=L(this,Dt),s=this.options,o=L(this,bn),l=L(this,Ca),u=L(this,Gl),h=e!==n?e.state:L(this,Vc),{state:d}=e;let m={...d},y=!1,v;if(t._optimisticResults){const M=this.hasListeners(),F=!M&&tb(e,t),$=M&&rb(e,n,t,s);(F||$)&&(m={...m,...Z1(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:T}=m;if(t.select&&m.data!==void 0)if(o&&m.data===(l==null?void 0:l.data)&&t.select===L(this,Uc))v=L(this,Yl);else try{Ue(this,Uc,t.select),v=t.select(m.data),v=fg(o==null?void 0:o.data,v,t),Ue(this,Yl,v),Ue(this,Ji,null)}catch(M){Ue(this,Ji,M)}else v=m.data;if(t.placeholderData!==void 0&&v===void 0&&T==="pending"){let M;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))M=o.data;else if(M=typeof t.placeholderData=="function"?t.placeholderData((k=L(this,Jl))==null?void 0:k.state.data,L(this,Jl)):t.placeholderData,t.select&&M!==void 0)try{M=t.select(M),Ue(this,Ji,null)}catch(F){Ue(this,Ji,F)}M!==void 0&&(T="success",v=fg(o==null?void 0:o.data,M,t),y=!0)}L(this,Ji)&&(w=L(this,Ji),v=L(this,Yl),S=Date.now(),T="error");const O=m.fetchStatus==="fetching",x=T==="pending",R=T==="error",z=x&&O,H=v!==void 0,P={status:T,fetchStatus:m.fetchStatus,isPending:x,isSuccess:T==="success",isError:R,isInitialLoading:z,isLoading:z,data:v,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:O,isRefetching:O&&!x,isLoadingError:R&&!H,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:R&&H,isStale:Rv(e,t),refetch:this.refetch,promise:L(this,Io)};if(this.options.experimental_prefetchInRender){const M=N=>{P.status==="error"?N.reject(P.error):P.data!==void 0&&N.resolve(P.data)},F=()=>{const N=Ue(this,Io,P.promise=dg());M(N)},$=L(this,Io);switch($.status){case"pending":e.queryHash===n.queryHash&&M($);break;case"fulfilled":(P.status==="error"||P.data!==$.value)&&F();break;case"rejected":(P.status!=="error"||P.error!==$.reason)&&F();break}}return P}updateResult(){const e=L(this,bn),t=this.createResult(L(this,Dt),this.options);if(Ue(this,Ca,L(this,Dt).state),Ue(this,Gl,this.options),L(this,Ca).data!==void 0&&Ue(this,Jl,L(this,Dt)),Kf(t,e))return;Ue(this,bn,t);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!L(this,Xl).size)return!0;const l=new Set(o??L(this,Xl));return this.options.throwOnError&&l.add("error"),Object.keys(L(this,bn)).some(u=>{const c=u;return L(this,bn)[c]!==e[c]&&l.has(c)})};We(this,$t,tS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,$t,yg).call(this)}},Dn=new WeakMap,Dt=new WeakMap,Vc=new WeakMap,bn=new WeakMap,Ca=new WeakMap,Gl=new WeakMap,Io=new WeakMap,Ji=new WeakMap,Uc=new WeakMap,Yl=new WeakMap,Jl=new WeakMap,Ra=new WeakMap,ka=new WeakMap,Co=new WeakMap,Xl=new WeakMap,$t=new WeakSet,ac=function(e){We(this,$t,wg).call(this);let t=L(this,Dt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(li)),t},pg=function(){We(this,$t,vg).call(this);const e=Fl(this.options.staleTime,L(this,Dt));if(Va||L(this,bn).isStale||!cg(e))return;const n=H1(L(this,bn).dataUpdatedAt,e)+1;Ue(this,Ra,setTimeout(()=>{L(this,bn).isStale||this.updateResult()},n))},mg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Dt)):this.options.refetchInterval)??!1},gg=function(e){We(this,$t,_g).call(this),Ue(this,Co,e),!(Va||Ii(this.options.enabled,L(this,Dt))===!1||!cg(L(this,Co))||L(this,Co)===0)&&Ue(this,ka,setInterval(()=>{(this.options.refetchIntervalInBackground||Cv.isFocused())&&We(this,$t,ac).call(this)},L(this,Co)))},yg=function(){We(this,$t,pg).call(this),We(this,$t,gg).call(this,We(this,$t,mg).call(this))},vg=function(){L(this,Ra)&&(clearTimeout(L(this,Ra)),Ue(this,Ra,void 0))},_g=function(){L(this,ka)&&(clearInterval(L(this,ka)),Ue(this,ka,void 0))},wg=function(){const e=L(this,Dn).getQueryCache().build(L(this,Dn),this.options);if(e===L(this,Dt))return;const t=L(this,Dt);Ue(this,Dt,e),Ue(this,Vc,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},tS=function(e){Mr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(L(this,bn))}),L(this,Dn).getQueryCache().notify({query:L(this,Dt),type:"observerResultsUpdated"})})},b1);function Vk(r,e){return Ii(e.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&e.retryOnMount===!1)}function tb(r,e){return Vk(r,e)||r.state.data!==void 0&&bg(r,e,e.refetchOnMount)}function bg(r,e,t){if(Ii(e.enabled,r)!==!1){const n=typeof t=="function"?t(r):t;return n==="always"||n!==!1&&Rv(r,e)}return!1}function rb(r,e,t,n){return(r!==e||Ii(n.enabled,r)===!1)&&(!t.suspense||r.state.status!=="error")&&Rv(r,t)}function Rv(r,e){return Ii(e.enabled,r)!==!1&&r.isStaleByTime(Fl(e.staleTime,r))}function Uk(r,e){return!Kf(r.getCurrentResult(),e)}var Ro,ko,Ln,ks,Os,If,Eg,E1,Bk=(E1=class extends uu{constructor(t,n){super();nt(this,Os);nt(this,Ro);nt(this,ko);nt(this,Ln);nt(this,ks);Ue(this,Ro,t),this.setOptions(n),this.bindMethods(),We(this,Os,If).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const n=this.options;this.options=L(this,Ro).defaultMutationOptions(t),Kf(this.options,n)||L(this,Ro).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Ln),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ua(n.mutationKey)!==Ua(this.options.mutationKey)?this.reset():((s=L(this,Ln))==null?void 0:s.state.status)==="pending"&&L(this,Ln).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=L(this,Ln))==null||t.removeObserver(this)}onMutationUpdate(t){We(this,Os,If).call(this),We(this,Os,Eg).call(this,t)}getCurrentResult(){return L(this,ko)}reset(){var t;(t=L(this,Ln))==null||t.removeObserver(this),Ue(this,Ln,void 0),We(this,Os,If).call(this),We(this,Os,Eg).call(this)}mutate(t,n){var s;return Ue(this,ks,n),(s=L(this,Ln))==null||s.removeObserver(this),Ue(this,Ln,L(this,Ro).getMutationCache().build(L(this,Ro),this.options)),L(this,Ln).addObserver(this),L(this,Ln).execute(t)}},Ro=new WeakMap,ko=new WeakMap,Ln=new WeakMap,ks=new WeakMap,Os=new WeakSet,If=function(){var n;const t=((n=L(this,Ln))==null?void 0:n.state)??eS();Ue(this,ko,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Eg=function(t){Mr.batch(()=>{var n,s,o,l,u,c,h,d;if(L(this,ks)&&this.hasListeners()){const m=L(this,ko).variables,y=L(this,ko).context;(t==null?void 0:t.type)==="success"?((s=(n=L(this,ks)).onSuccess)==null||s.call(n,t.data,m,y),(l=(o=L(this,ks)).onSettled)==null||l.call(o,t.data,null,m,y)):(t==null?void 0:t.type)==="error"&&((c=(u=L(this,ks)).onError)==null||c.call(u,t.error,m,y),(d=(h=L(this,ks)).onSettled)==null||d.call(h,void 0,t.error,m,y))}this.listeners.forEach(m=>{m(L(this,ko))})})},E1),rS=me.createContext(void 0),kv=r=>{const e=me.useContext(rS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jk=({client:r,children:e})=>(me.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),B(rS.Provider,{value:r,children:e})),nS=me.createContext(!1),$k=()=>me.useContext(nS);nS.Provider;function zk(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Wk=me.createContext(zk()),qk=()=>me.useContext(Wk);function iS(r,e){return typeof r=="function"?r(...e):!!r}function Sg(){}var Hk=(r,e)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(e.isReset()||(r.retryOnMount=!1))},Qk=r=>{me.useEffect(()=>{r.clearReset()},[r])},Kk=({result:r,errorResetBoundary:e,throwOnError:t,query:n,suspense:s})=>r.isError&&!e.isReset()&&!r.isFetching&&n&&(s&&r.data===void 0||iS(t,[r.error,n])),Gk=r=>{const e=r.staleTime;r.suspense&&(r.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},Yk=(r,e)=>r.isLoading&&r.isFetching&&!e,Jk=(r,e)=>(r==null?void 0:r.suspense)&&e.isPending,nb=(r,e,t)=>e.fetchOptimistic(r).catch(()=>{t.clearReset()});function Xk(r,e,t){var m,y,v,w,S;const n=kv(),s=$k(),o=qk(),l=n.defaultQueryOptions(r);(y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,l),l._optimisticResults=s?"isRestoring":"optimistic",Gk(l),Hk(l,o),Qk(o);const u=!n.getQueryCache().get(l.queryHash),[c]=me.useState(()=>new e(n,l)),h=c.getOptimisticResult(l),d=!s&&r.subscribed!==!1;if(me.useSyncExternalStore(me.useCallback(T=>{const O=d?c.subscribe(Mr.batchCalls(T)):Sg;return c.updateResult(),O},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),me.useEffect(()=>{c.setOptions(l)},[l,c]),Jk(l,h))throw nb(l,c,o);if(Kk({result:h,errorResetBoundary:o,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;if((w=(v=n.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,l,h),l.experimental_prefetchInRender&&!Va&&Yk(h,s)){const T=u?nb(l,c,o):(S=n.getQueryCache().get(l.queryHash))==null?void 0:S.promise;T==null||T.catch(Sg).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?h:c.trackResult(h)}function Wc(r,e){return Xk(r,Fk)}function Yf(r,e){const t=kv(),[n]=me.useState(()=>new Bk(t,r));me.useEffect(()=>{n.setOptions(r)},[n,r]);const s=me.useSyncExternalStore(me.useCallback(l=>n.subscribe(Mr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=me.useCallback((l,u)=>{n.mutate(l,u).catch(Sg)},[n]);if(s.error&&iS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function sS(r,e){return function(){return r.apply(e,arguments)}}const{toString:Zk}=Object.prototype,{getPrototypeOf:Pv}=Object,Cd=(r=>e=>{const t=Zk.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Oi=r=>(r=r.toLowerCase(),e=>Cd(e)===r),Rd=r=>e=>typeof e===r,{isArray:cu}=Array,Ac=Rd("undefined");function eP(r){return r!==null&&!Ac(r)&&r.constructor!==null&&!Ac(r.constructor)&&Gn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const oS=Oi("ArrayBuffer");function tP(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&oS(r.buffer),e}const rP=Rd("string"),Gn=Rd("function"),aS=Rd("number"),kd=r=>r!==null&&typeof r=="object",nP=r=>r===!0||r===!1,Cf=r=>{if(Cd(r)!=="object")return!1;const e=Pv(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},iP=Oi("Date"),sP=Oi("File"),oP=Oi("Blob"),aP=Oi("FileList"),lP=r=>kd(r)&&Gn(r.pipe),uP=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Gn(r.append)&&((e=Cd(r))==="formdata"||e==="object"&&Gn(r.toString)&&r.toString()==="[object FormData]"))},cP=Oi("URLSearchParams"),[hP,fP,dP,pP]=["ReadableStream","Request","Response","Headers"].map(Oi),mP=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qc(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),cu(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,r[u],u,r)}}function lS(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uS=r=>!Ac(r)&&r!==va;function Tg(){const{caseless:r}=uS(this)&&this||{},e={},t=(n,s)=>{const o=r&&lS(e,s)||s;Cf(e[o])&&Cf(n)?e[o]=Tg(e[o],n):Cf(n)?e[o]=Tg({},n):cu(n)?e[o]=n.slice():e[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&qc(arguments[n],t);return e}const gP=(r,e,t,{allOwnKeys:n}={})=>(qc(e,(s,o)=>{t&&Gn(s)?r[o]=sS(s,t):r[o]=s},{allOwnKeys:n}),r),yP=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),vP=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},_P=(r,e,t,n)=>{let s,o,l;const u={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),o=s.length;o-- >0;)l=s[o],(!n||n(l,r,e))&&!u[l]&&(e[l]=r[l],u[l]=!0);r=t!==!1&&Pv(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},wP=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},bP=r=>{if(!r)return null;if(cu(r))return r;let e=r.length;if(!aS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},EP=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Pv(Uint8Array)),SP=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(r,o[0],o[1])}},TP=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},xP=Oi("HTMLFormElement"),AP=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),ib=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),IP=Oi("RegExp"),cS=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};qc(t,(s,o)=>{let l;(l=e(s,o,r))!==!1&&(n[o]=l||s)}),Object.defineProperties(r,n)},CP=r=>{cS(r,(e,t)=>{if(Gn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Gn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},RP=(r,e)=>{const t={},n=s=>{s.forEach(o=>{t[o]=!0})};return cu(r)?n(r):n(String(r).split(e)),t},kP=()=>{},PP=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function NP(r){return!!(r&&Gn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const OP=r=>{const e=new Array(10),t=(n,s)=>{if(kd(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const o=cu(n)?[]:{};return qc(n,(l,u)=>{const c=t(l,s+1);!Ac(c)&&(o[u]=c)}),e[s]=void 0,o}}return n};return t(r,0)},DP=Oi("AsyncFunction"),LP=r=>r&&(kd(r)||Gn(r))&&Gn(r.then)&&Gn(r.catch),hS=((r,e)=>r?setImmediate:e?((t,n)=>(va.addEventListener("message",({source:s,data:o})=>{s===va&&o===t&&n.length&&n.shift()()},!1),s=>{n.push(s),va.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Gn(va.postMessage)),MP=typeof queueMicrotask<"u"?queueMicrotask.bind(va):typeof process<"u"&&process.nextTick||hS,Fe={isArray:cu,isArrayBuffer:oS,isBuffer:eP,isFormData:uP,isArrayBufferView:tP,isString:rP,isNumber:aS,isBoolean:nP,isObject:kd,isPlainObject:Cf,isReadableStream:hP,isRequest:fP,isResponse:dP,isHeaders:pP,isUndefined:Ac,isDate:iP,isFile:sP,isBlob:oP,isRegExp:IP,isFunction:Gn,isStream:lP,isURLSearchParams:cP,isTypedArray:EP,isFileList:aP,forEach:qc,merge:Tg,extend:gP,trim:mP,stripBOM:yP,inherits:vP,toFlatObject:_P,kindOf:Cd,kindOfTest:Oi,endsWith:wP,toArray:bP,forEachEntry:SP,matchAll:TP,isHTMLForm:xP,hasOwnProperty:ib,hasOwnProp:ib,reduceDescriptors:cS,freezeMethods:CP,toObjectSet:RP,toCamelCase:AP,noop:kP,toFiniteNumber:PP,findKey:lS,global:va,isContextDefined:uS,isSpecCompliantForm:NP,toJSONObject:OP,isAsyncFn:DP,isThenable:LP,setImmediate:hS,asap:MP};function At(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Fe.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const fS=At.prototype,dS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{dS[r]={value:r}});Object.defineProperties(At,dS);Object.defineProperty(fS,"isAxiosError",{value:!0});At.from=(r,e,t,n,s,o)=>{const l=Object.create(fS);return Fe.toFlatObject(r,l,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),At.call(l,r.message,e,t,n,s),l.cause=r,l.name=r.name,o&&Object.assign(l,o),l};const FP=null;function xg(r){return Fe.isPlainObject(r)||Fe.isArray(r)}function pS(r){return Fe.endsWith(r,"[]")?r.slice(0,-2):r}function sb(r,e,t){return r?r.concat(e).map(function(s,o){return s=pS(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function VP(r){return Fe.isArray(r)&&!r.some(xg)}const UP=Fe.toFlatObject(Fe,{},null,function(e){return/^is[A-Z]/.test(e)});function Pd(r,e,t){if(!Fe.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Fe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!Fe.isUndefined(T[S])});const n=t.metaTokens,s=t.visitor||d,o=t.dots,l=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(e);if(!Fe.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(Fe.isDate(w))return w.toISOString();if(!c&&Fe.isBlob(w))throw new At("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(w)||Fe.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,S,T){let O=w;if(w&&!T&&typeof w=="object"){if(Fe.endsWith(S,"{}"))S=n?S:S.slice(0,-2),w=JSON.stringify(w);else if(Fe.isArray(w)&&VP(w)||(Fe.isFileList(w)||Fe.endsWith(S,"[]"))&&(O=Fe.toArray(w)))return S=pS(S),O.forEach(function(R,z){!(Fe.isUndefined(R)||R===null)&&e.append(l===!0?sb([S],z,o):l===null?S:S+"[]",h(R))}),!1}return xg(w)?!0:(e.append(sb(T,S,o),h(w)),!1)}const m=[],y=Object.assign(UP,{defaultVisitor:d,convertValue:h,isVisitable:xg});function v(w,S){if(!Fe.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(w),Fe.forEach(w,function(O,x){(!(Fe.isUndefined(O)||O===null)&&s.call(e,O,Fe.isString(x)?x.trim():x,S,y))===!0&&v(O,S?S.concat(x):[x])}),m.pop()}}if(!Fe.isObject(r))throw new TypeError("data must be an object");return v(r),e}function ob(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Nv(r,e){this._pairs=[],r&&Pd(r,this,e)}const mS=Nv.prototype;mS.append=function(e,t){this._pairs.push([e,t])};mS.toString=function(e){const t=e?function(n){return e.call(this,n,ob)}:ob;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function BP(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gS(r,e,t){if(!e)return r;const n=t&&t.encode||BP;Fe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=Fe.isURLSearchParams(e)?e.toString():new Nv(e,t).toString(n),o){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class ab{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Fe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const yS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jP=typeof URLSearchParams<"u"?URLSearchParams:Nv,$P=typeof FormData<"u"?FormData:null,zP=typeof Blob<"u"?Blob:null,WP={isBrowser:!0,classes:{URLSearchParams:jP,FormData:$P,Blob:zP},protocols:["http","https","file","blob","url","data"]},Ov=typeof window<"u"&&typeof document<"u",Ag=typeof navigator=="object"&&navigator||void 0,qP=Ov&&(!Ag||["ReactNative","NativeScript","NS"].indexOf(Ag.product)<0),HP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QP=Ov&&window.location.href||"http://localhost",KP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ov,hasStandardBrowserEnv:qP,hasStandardBrowserWebWorkerEnv:HP,navigator:Ag,origin:QP},Symbol.toStringTag,{value:"Module"})),dn={...KP,...WP};function GP(r,e){return Pd(r,new dn.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,o){return dn.isNode&&Fe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function YP(r){return Fe.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JP(r){const e={},t=Object.keys(r);let n;const s=t.length;let o;for(n=0;n<s;n++)o=t[n],e[o]=r[o];return e}function vS(r){function e(t,n,s,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),c=o>=t.length;return l=!l&&Fe.isArray(s)?s.length:l,c?(Fe.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!Fe.isObject(s[l]))&&(s[l]=[]),e(t,n,s[l],o)&&Fe.isArray(s[l])&&(s[l]=JP(s[l])),!u)}if(Fe.isFormData(r)&&Fe.isFunction(r.entries)){const t={};return Fe.forEachEntry(r,(n,s)=>{e(YP(n),s,t,0)}),t}return null}function XP(r,e,t){if(Fe.isString(r))try{return(e||JSON.parse)(r),Fe.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Hc={transitional:yS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,o=Fe.isObject(e);if(o&&Fe.isHTMLForm(e)&&(e=new FormData(e)),Fe.isFormData(e))return s?JSON.stringify(vS(e)):e;if(Fe.isArrayBuffer(e)||Fe.isBuffer(e)||Fe.isStream(e)||Fe.isFile(e)||Fe.isBlob(e)||Fe.isReadableStream(e))return e;if(Fe.isArrayBufferView(e))return e.buffer;if(Fe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return GP(e,this.formSerializer).toString();if((u=Fe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pd(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),XP(e)):e}],transformResponse:[function(e){const t=this.transitional||Hc.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Fe.isResponse(e)||Fe.isReadableStream(e))return e;if(e&&Fe.isString(e)&&(n&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?At.from(u,At.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],r=>{Hc.headers[r]={}});const ZP=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e2=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!t||e[t]&&ZP[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},lb=Symbol("internals");function nc(r){return r&&String(r).trim().toLowerCase()}function Rf(r){return r===!1||r==null?r:Fe.isArray(r)?r.map(Rf):String(r)}function t2(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const r2=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Dm(r,e,t,n,s){if(Fe.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!Fe.isString(e)){if(Fe.isString(n))return e.indexOf(n)!==-1;if(Fe.isRegExp(n))return n.test(e)}}function n2(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function i2(r,e){const t=Fe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,o,l){return this[n].call(this,e,s,o,l)},configurable:!0})})}let Vn=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function o(u,c,h){const d=nc(c);if(!d)throw new Error("header name must be a non-empty string");const m=Fe.findKey(s,d);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||c]=Rf(u))}const l=(u,c)=>Fe.forEach(u,(h,d)=>o(h,d,c));if(Fe.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Fe.isString(e)&&(e=e.trim())&&!r2(e))l(e2(e),t);else if(Fe.isHeaders(e))for(const[u,c]of e.entries())o(c,u,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=nc(e),e){const n=Fe.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return t2(s);if(Fe.isFunction(t))return t.call(this,s,n);if(Fe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nc(e),e){const n=Fe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Dm(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function o(l){if(l=nc(l),l){const u=Fe.findKey(n,l);u&&(!t||Dm(n,n[u],u,t))&&(delete n[u],s=!0)}}return Fe.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const o=t[n];(!e||Dm(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,n={};return Fe.forEach(this,(s,o)=>{const l=Fe.findKey(n,o);if(l){t[l]=Rf(s),delete t[o];return}const u=e?n2(o):String(o).trim();u!==o&&delete t[o],t[u]=Rf(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Fe.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&Fe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[lb]=this[lb]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=nc(l);n[u]||(i2(s,l),n[u]=!0)}return Fe.isArray(e)?e.forEach(o):o(e),this}};Vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(Vn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Fe.freezeMethods(Vn);function Lm(r,e){const t=this||Hc,n=e||t,s=Vn.from(n.headers);let o=n.data;return Fe.forEach(r,function(u){o=u.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function _S(r){return!!(r&&r.__CANCEL__)}function hu(r,e,t){At.call(this,r??"canceled",At.ERR_CANCELED,e,t),this.name="CanceledError"}Fe.inherits(hu,At,{__CANCEL__:!0});function wS(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new At("Request failed with status code "+t.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function s2(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function o2(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),d=n[o];l||(l=h),t[s]=c,n[s]=h;let m=o,y=0;for(;m!==s;)y+=t[m++],m=m%r;if(s=(s+1)%r,s===o&&(o=(o+1)%r),h-l<e)return;const v=d&&h-d;return v?Math.round(y*1e3/v):void 0}}function a2(r,e){let t=0,n=1e3/e,s,o;const l=(h,d=Date.now())=>{t=d,s=null,o&&(clearTimeout(o),o=null),r.apply(null,h)};return[(...h)=>{const d=Date.now(),m=d-t;m>=n?l(h,d):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},n-m)))},()=>s&&l(s)]}const Jf=(r,e,t=3)=>{let n=0;const s=o2(50,250);return a2(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,c=l-n,h=s(c),d=l<=u;n=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:c,rate:h||void 0,estimated:h&&u&&d?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};r(m)},t)},ub=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},cb=r=>(...e)=>Fe.asap(()=>r(...e)),l2=dn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,dn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,u2=dn.hasStandardBrowserEnv?{write(r,e,t,n,s,o){const l=[r+"="+encodeURIComponent(e)];Fe.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Fe.isString(n)&&l.push("path="+n),Fe.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function c2(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function h2(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function bS(r,e,t){let n=!c2(e);return r&&n||t==!1?h2(r,e):e}const hb=r=>r instanceof Vn?{...r}:r;function Ba(r,e){e=e||{};const t={};function n(h,d,m,y){return Fe.isPlainObject(h)&&Fe.isPlainObject(d)?Fe.merge.call({caseless:y},h,d):Fe.isPlainObject(d)?Fe.merge({},d):Fe.isArray(d)?d.slice():d}function s(h,d,m,y){if(Fe.isUndefined(d)){if(!Fe.isUndefined(h))return n(void 0,h,m,y)}else return n(h,d,m,y)}function o(h,d){if(!Fe.isUndefined(d))return n(void 0,d)}function l(h,d){if(Fe.isUndefined(d)){if(!Fe.isUndefined(h))return n(void 0,h)}else return n(void 0,d)}function u(h,d,m){if(m in e)return n(h,d);if(m in r)return n(void 0,h)}const c={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,d,m)=>s(hb(h),hb(d),m,!0)};return Fe.forEach(Object.keys(Object.assign({},r,e)),function(d){const m=c[d]||s,y=m(r[d],e[d],d);Fe.isUndefined(y)&&m!==u||(t[d]=y)}),t}const ES=r=>{const e=Ba({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Vn.from(l),e.url=gS(bS(e.baseURL,e.url),r.params,r.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(Fe.isFormData(t)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[h,...d]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...d].join("; "))}}if(dn.hasStandardBrowserEnv&&(n&&Fe.isFunction(n)&&(n=n(e)),n||n!==!1&&l2(e.url))){const h=s&&o&&u2.read(o);h&&l.set(s,h)}return e},f2=typeof XMLHttpRequest<"u",d2=f2&&function(r){return new Promise(function(t,n){const s=ES(r);let o=s.data;const l=Vn.from(s.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:h}=s,d,m,y,v,w;function S(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let T=new XMLHttpRequest;T.open(s.method.toUpperCase(),s.url,!0),T.timeout=s.timeout;function O(){if(!T)return;const R=Vn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),H={data:!u||u==="text"||u==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:R,config:r,request:T};wS(function(P){t(P),S()},function(P){n(P),S()},H),T=null}"onloadend"in T?T.onloadend=O:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(O)},T.onabort=function(){T&&(n(new At("Request aborted",At.ECONNABORTED,r,T)),T=null)},T.onerror=function(){n(new At("Network Error",At.ERR_NETWORK,r,T)),T=null},T.ontimeout=function(){let z=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const H=s.transitional||yS;s.timeoutErrorMessage&&(z=s.timeoutErrorMessage),n(new At(z,H.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,r,T)),T=null},o===void 0&&l.setContentType(null),"setRequestHeader"in T&&Fe.forEach(l.toJSON(),function(z,H){T.setRequestHeader(H,z)}),Fe.isUndefined(s.withCredentials)||(T.withCredentials=!!s.withCredentials),u&&u!=="json"&&(T.responseType=s.responseType),h&&([y,w]=Jf(h,!0),T.addEventListener("progress",y)),c&&T.upload&&([m,v]=Jf(c),T.upload.addEventListener("progress",m),T.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=R=>{T&&(n(!R||R.type?new hu(null,r,T):R),T.abort(),T=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=s2(s.url);if(x&&dn.protocols.indexOf(x)===-1){n(new At("Unsupported protocol "+x+":",At.ERR_BAD_REQUEST,r));return}T.send(o||null)})},p2=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,s;const o=function(h){if(!s){s=!0,u();const d=h instanceof Error?h:this.reason;n.abort(d instanceof At?d:new hu(d instanceof Error?d.message:d))}};let l=e&&setTimeout(()=>{l=null,o(new At(`timeout ${e} of ms exceeded`,At.ETIMEDOUT))},e);const u=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),r=null)};r.forEach(h=>h.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>Fe.asap(u),c}},m2=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,s;for(;n<t;)s=n+e,yield r.slice(n,s),n=s},g2=async function*(r,e){for await(const t of y2(r))yield*m2(t,e)},y2=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},fb=(r,e,t,n)=>{const s=g2(r,e);let o=0,l,u=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await s.next();if(h){u(),c.close();return}let m=d.byteLength;if(t){let y=o+=m;t(y)}c.enqueue(new Uint8Array(d))}catch(h){throw u(h),h}},cancel(c){return u(c),s.return()}},{highWaterMark:2})},Nd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",SS=Nd&&typeof ReadableStream=="function",v2=Nd&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),TS=(r,...e)=>{try{return!!r(...e)}catch{return!1}},_2=SS&&TS(()=>{let r=!1;const e=new Request(dn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),db=64*1024,Ig=SS&&TS(()=>Fe.isReadableStream(new Response("").body)),Xf={stream:Ig&&(r=>r.body)};Nd&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xf[e]&&(Xf[e]=Fe.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new At(`Response type '${e}' is not supported`,At.ERR_NOT_SUPPORT,n)})})})(new Response);const w2=async r=>{if(r==null)return 0;if(Fe.isBlob(r))return r.size;if(Fe.isSpecCompliantForm(r))return(await new Request(dn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(r)||Fe.isArrayBuffer(r))return r.byteLength;if(Fe.isURLSearchParams(r)&&(r=r+""),Fe.isString(r))return(await v2(r)).byteLength},b2=async(r,e)=>{const t=Fe.toFiniteNumber(r.getContentLength());return t??w2(e)},E2=Nd&&(async r=>{let{url:e,method:t,data:n,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:c,responseType:h,headers:d,withCredentials:m="same-origin",fetchOptions:y}=ES(r);h=h?(h+"").toLowerCase():"text";let v=p2([s,o&&o.toAbortSignal()],l),w;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let T;try{if(c&&_2&&t!=="get"&&t!=="head"&&(T=await b2(d,n))!==0){let H=new Request(e,{method:"POST",body:n,duplex:"half"}),j;if(Fe.isFormData(n)&&(j=H.headers.get("content-type"))&&d.setContentType(j),H.body){const[P,k]=ub(T,Jf(cb(c)));n=fb(H.body,db,P,k)}}Fe.isString(m)||(m=m?"include":"omit");const O="credentials"in Request.prototype;w=new Request(e,{...y,signal:v,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:O?m:void 0});let x=await fetch(w);const R=Ig&&(h==="stream"||h==="response");if(Ig&&(u||R&&S)){const H={};["status","statusText","headers"].forEach(M=>{H[M]=x[M]});const j=Fe.toFiniteNumber(x.headers.get("content-length")),[P,k]=u&&ub(j,Jf(cb(u),!0))||[];x=new Response(fb(x.body,db,P,()=>{k&&k(),S&&S()}),H)}h=h||"text";let z=await Xf[Fe.findKey(Xf,h)||"text"](x,r);return!R&&S&&S(),await new Promise((H,j)=>{wS(H,j,{data:z,headers:Vn.from(x.headers),status:x.status,statusText:x.statusText,config:r,request:w})})}catch(O){throw S&&S(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,r,w),{cause:O.cause||O}):At.from(O,O&&O.code,r,w)}}),Cg={http:FP,xhr:d2,fetch:E2};Fe.forEach(Cg,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const pb=r=>`- ${r}`,S2=r=>Fe.isFunction(r)||r===null||r===!1,xS={getAdapter:r=>{r=Fe.isArray(r)?r:[r];const{length:e}=r;let t,n;const s={};for(let o=0;o<e;o++){t=r[o];let l;if(n=t,!S2(t)&&(n=Cg[(l=String(t)).toLowerCase()],n===void 0))throw new At(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+o]=n}if(!n){const o=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(pb).join(`
`):" "+pb(o[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Cg};function Mm(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new hu(null,r)}function mb(r){return Mm(r),r.headers=Vn.from(r.headers),r.data=Lm.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),xS.getAdapter(r.adapter||Hc.adapter)(r).then(function(n){return Mm(r),n.data=Lm.call(r,r.transformResponse,n),n.headers=Vn.from(n.headers),n},function(n){return _S(n)||(Mm(r),n&&n.response&&(n.response.data=Lm.call(r,r.transformResponse,n.response),n.response.headers=Vn.from(n.response.headers))),Promise.reject(n)})}const AS="1.8.1",Od={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Od[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const gb={};Od.transitional=function(e,t,n){function s(o,l){return"[Axios v"+AS+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new At(s(l," has been removed"+(t?" in "+t:"")),At.ERR_DEPRECATED);return t&&!gb[l]&&(gb[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Od.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function T2(r,e,t){if(typeof r!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const o=n[s],l=e[o];if(l){const u=r[o],c=u===void 0||l(u,o,r);if(c!==!0)throw new At("option "+o+" must be "+c,At.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new At("Unknown option "+o,At.ERR_BAD_OPTION)}}const kf={assertOptions:T2,validators:Od},Wi=kf.validators;let Na=class{constructor(e){this.defaults=e,this.interceptors={request:new ab,response:new ab}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ba(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:o}=t;n!==void 0&&kf.assertOptions(n,{silentJSONParsing:Wi.transitional(Wi.boolean),forcedJSONParsing:Wi.transitional(Wi.boolean),clarifyTimeoutError:Wi.transitional(Wi.boolean)},!1),s!=null&&(Fe.isFunction(s)?t.paramsSerializer={serialize:s}:kf.assertOptions(s,{encode:Wi.function,serialize:Wi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kf.assertOptions(t,{baseUrl:Wi.spelling("baseURL"),withXsrfToken:Wi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&Fe.merge(o.common,o[t.method]);o&&Fe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=Vn.concat(l,o);const u=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(c=c&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let d,m=0,y;if(!c){const w=[mb.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,h),y=w.length,d=Promise.resolve(t);m<y;)d=d.then(w[m++],w[m++]);return d}y=u.length;let v=t;for(m=0;m<y;){const w=u[m++],S=u[m++];try{v=w(v)}catch(T){S.call(this,T);break}}try{d=mb.call(this,v)}catch(w){return Promise.reject(w)}for(m=0,y=h.length;m<y;)d=d.then(h[m++],h[m++]);return d}getUri(e){e=Ba(this.defaults,e);const t=bS(e.baseURL,e.url,e.allowAbsoluteUrls);return gS(t,e.params,e.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(e){Na.prototype[e]=function(t,n){return this.request(Ba(n||{},{method:e,url:t,data:(n||{}).data}))}});Fe.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,u){return this.request(Ba(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Na.prototype[e]=t(),Na.prototype[e+"Form"]=t(!0)});let x2=class IS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new hu(o,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new IS(function(s){e=s}),cancel:e}}};function A2(r){return function(t){return r.apply(null,t)}}function I2(r){return Fe.isObject(r)&&r.isAxiosError===!0}const Rg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rg).forEach(([r,e])=>{Rg[e]=r});function CS(r){const e=new Na(r),t=sS(Na.prototype.request,e);return Fe.extend(t,Na.prototype,e,{allOwnKeys:!0}),Fe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return CS(Ba(r,s))},t}const Bt=CS(Hc);Bt.Axios=Na;Bt.CanceledError=hu;Bt.CancelToken=x2;Bt.isCancel=_S;Bt.VERSION=AS;Bt.toFormData=Pd;Bt.AxiosError=At;Bt.Cancel=Bt.CanceledError;Bt.all=function(e){return Promise.all(e)};Bt.spread=A2;Bt.isAxiosError=I2;Bt.mergeConfig=Ba;Bt.AxiosHeaders=Vn;Bt.formToJSON=r=>vS(Fe.isHTMLForm(r)?new FormData(r):r);Bt.getAdapter=xS.getAdapter;Bt.HttpStatusCode=Rg;Bt.default=Bt;const{Axios:t3,AxiosError:r3,CanceledError:n3,isCancel:i3,CancelToken:s3,VERSION:o3,all:a3,Cancel:l3,isAxiosError:u3,spread:c3,toFormData:h3,AxiosHeaders:f3,HttpStatusCode:d3,formToJSON:p3,getAdapter:m3,mergeConfig:g3}=Bt,C2=async r=>{const e=r.length>0?`https://devapi.uniscore.vn/uri/api/products/search?name=${r}`:"https://devapi.uniscore.vn/uri/api/products",{data:t}=await Bt.get(e);return Array.isArray(t.data)?t.data:[]},R2=()=>{const r=os(),[e,t]=me.useState(""),[n,s]=me.useState(!1),{data:o=[],isLoading:l,error:u}=Wc({queryKey:["products",e],queryFn:()=>C2(e)}),c=h=>{const d=JSON.parse(localStorage.getItem("cart")||"[]"),m=d.find(y=>y.id===h.id);if(m)m.quantity+=1;else{const y={id:h.id,name:h.name,price:h.price,image:h.images[0],quantity:1,color:"red",size:null};d.push(y)}localStorage.setItem("cart",JSON.stringify(d)),pt.success("Product added to cart!",{position:"top-right",autoClose:1500}),setTimeout(()=>{window.location.reload()},1500)};return Array.isArray(o)?Te("div",{className:"mx-auto py-12 w-full px-4",children:[B("h2",{className:"text-[36px] font-semibold mb-6 font-[Inter]",children:"Explore Our Products"}),Te("div",{className:"relative w-full max-w-md mb-6",children:[Te("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden shadow-sm",children:[B("span",{className:"px-3",children:B("img",{src:"/R2S-Client/SearchIcon.svg",alt:"Search",className:"w-4 h-4 cursor-pointer"})}),B("input",{type:"text",placeholder:"Search products...",value:e,onChange:h=>{t(h.target.value),s(h.target.value.length>0)},onBlur:()=>setTimeout(()=>s(!1),200),className:"w-full p-2 outline-none"})]}),n&&e.length>0&&o.length>0&&B("ul",{className:"absolute w-full mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-10",children:o.map(h=>B("li",{onClick:()=>{t(h.name),s(!1)},className:"p-3 hover:bg-gray-100 cursor-pointer transition",children:h.name},h.id))})]}),B("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 min-h-[100px]",children:l?B("p",{className:"col-span-4 text-center",children:"Loading..."}):u?B("p",{className:"col-span-4 text-center text-red-500",children:"Error loading products"}):o.length>0?o.slice().sort((h,d)=>h.id-d.id).map(h=>Te("div",{className:"group rounded-lg bg-white transition duration-300 sm:w-full md:max-w-[270px] lg:max-w-[270px] xl:max-w-[270px] 2xl:max-w-[270px]",onClick:()=>r(`/detail/${h.id}`),children:[Te("div",{className:"w-full h-[250px] bg-[#F5F5F5] flex flex-col items-center overflow-hidden rounded-md relative",children:[B("div",{className:"flex-grow flex items-center justify-center",children:B("img",{src:h.images[0],alt:h.name,className:"max-h-[180px] object-contain"})}),Te("div",{className:"absolute top-2 right-2 flex flex-col gap-2 items-center",children:[B("img",{src:"/R2S-Client/Heart.svg",alt:"Heart",className:"w-[34px] h-[34px] cursor-pointer"}),B("img",{src:"/R2S-Client/Eye.svg",alt:"Eye",className:"w-[34px] h-[34px] cursor-pointer"})]}),B("button",{onClick:d=>{d.stopPropagation(),c(h)},className:"absolute bottom-0 left-0 w-full bg-black text-white py-3 text-center opacity-0 translate-y-2 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0",children:"Add To Cart"})]}),B("h3",{className:"text-[16px] font-medium mt-3",children:h.name}),Te("div",{className:"flex items-center gap-3",children:[Te("a",{className:"text-red-500 text-[16px] font-medium",children:["$",h.price]}),Te("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((d,m)=>m<(h.rate||4)?B("img",{src:"/R2S-Client/Star.svg",alt:"Star",className:"w-[20px] h-[20px]"},m):B("img",{src:"/R2S-Client/GrayStar.svg",alt:"Star",className:"w-[20px] h-[20px]"},m)),Te("span",{className:"text-gray-500 text-[14px] font-medium",children:["(",h.stock||50,")"]})]})]})]},h.id)):B("div",{className:"col-span-4 flex items-center justify-center",children:"No products found"})}),Te("div",{className:"flex flex-row justify-center items-center gap-6 sm:gap-4 md:gap-20 lg:gap-20 xl:gap-20 2xl:gap-20 mt-20",children:[Te("div",{className:"flex flex-col items-center text-center",children:[B("div",{className:"w-[80px] h-[80px] flex items-center justify-center bg-gray-300 rounded-full",children:B("div",{className:"w-[58px] h-[58px] flex items-center justify-center bg-black rounded-full",children:B("img",{src:"/R2S-Client/icon-delivery.svg",alt:"Delivery",className:"w-[40px] h-[40px]"})})}),B("h3",{className:"text-[16px] sm:text-[20px] font-semibold mt-4",children:"FREE AND FAST DELIVERY"}),B("p",{className:"text-gray-600 text-[12px] sm:text-[14px]",children:"Free delivery for all orders over $140"})]}),Te("div",{className:"flex flex-col items-center text-center",children:[B("div",{className:"w-[80px] h-[80px] flex items-center justify-center bg-gray-300 rounded-full",children:B("div",{className:"w-[58px] h-[58px] flex items-center justify-center bg-black rounded-full",children:B("img",{src:"/R2S-Client/CustomerService.svg",alt:"CService",className:"w-[40px] h-[40px]"})})}),B("h3",{className:"text-[16px] sm:text-[20px] font-semibold mt-4",children:"24/7 CUSTOMER SERVICE"}),B("p",{className:"text-gray-600 text-[12px] sm:text-[14px]",children:"Friendly 24/7 customer support"})]}),Te("div",{className:"flex flex-col items-center text-center",children:[B("div",{className:"w-[80px] h-[80px] flex items-center justify-center bg-gray-300 rounded-full",children:B("div",{className:"w-[58px] h-[58px] flex items-center justify-center bg-black rounded-full",children:B("img",{src:"/R2S-Client/Icon-secure.svg",alt:"Icon-secure",className:"w-[40px] h-[40px]"})})}),B("h3",{className:"text-[16px] sm:text-[20px] font-semibold mt-4",children:"MONEY BACK GUARANTEE"}),B("p",{className:"text-gray-600 text-[12px] sm:text-[14px]",children:"We return money within 30 days"})]})]}),B("div",{className:"flex flex-col md:flex-row justify-center items-center gap-8 mt-10 border-t border-gray-300 pt-2"})]}):B("p",{children:"No products available"})},k2=()=>B("div",{children:B(R2,{})}),P2=()=>{const[r,e]=me.useState({name:"",address:"",email:"",password:""}),[t,n]=me.useState(!1),s=m=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/.test(m),o=os(),l=m=>{e({...r,[m.target.name]:m.target.value})},u=async m=>{if(!s(m.password))return pt.error("Password must be 8+ characters with an uppercase, lowercase, and number.",{position:"top-right",autoClose:3e3}),Promise.reject(new Error("Invalid password format"));try{return(await Bt.post("https://devapi.uniscore.vn/uri/api/auth/register",m)).data}catch(y){return Promise.reject(y)}},{mutate:c,isPending:h}=Yf({mutationFn:u,onSuccess:()=>{pt.success("Account created successfully!",{autoClose:1500}),setTimeout(()=>{o("/login")},1500)},onError:m=>{m.message==="Invalid password format"||pt.error("Email is already in use!")}});return B("div",{className:"flex h-[500px] md:h-[600px] justify-center mt-10 md:mt-20 bg-white",children:Te("div",{className:"flex bg-white overflow-hidden w-[1000px] h-[500px]",children:[B("div",{className:"w-1/2 hidden md:block rounded",children:B("img",{src:"/R2S-Client/SideImage.svg",alt:"Sign Up",className:"w-full h-full object-cover rounded"})}),Te("div",{className:"w-full md:w-1/2 p-2 md:p-8 lg:p-12",children:[B("h2",{className:"text-[36px] mb-1 font-[Inter]",children:"Create an account"}),B("p",{className:"mb-8 text-gray-600 text-[16px]",children:"Enter your details below"}),Te("form",{onSubmit:m=>{if(m.preventDefault(),!r.email||!r.password||!r.name){pt.error("One or more fields are empty!");return}c(r)},children:[B("div",{className:"flex gap-4 mb-4",children:B("input",{type:"text",name:"name",placeholder:"Full Name",value:r.name,onChange:l,className:"w-full border-b border-gray-400 text-gray-600 text-[16px] outline-none"})}),B("input",{type:"text",name:"address",placeholder:"Address",value:r.address,onChange:l,className:"w-full mb-4 border-b border-gray-400 text-gray-600 text-[16px] outline-none"}),B("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:l,className:"w-full mb-4 border-b border-gray-400 text-gray-600 text-[16px] outline-none"}),Te("div",{className:"relative mb-4",children:[B("input",{type:t?"text":"password",name:"password",placeholder:"Password",value:r.password,onChange:l,className:"w-full mb-4 border-b border-gray-400 text-gray-600 text-[16px] outline-none"}),B("button",{type:"button",onClick:()=>n(!t),className:"absolute right-2 top-1/4 transform -translate-y-1/2 text-gray-500",children:t?B("img",{src:"/R2S-Client/ShowPass.svg",alt:"Show Password",className:"w-[20px] h-[20px] cursor-pointer"}):B("img",{src:"/R2S-Client/hide.png",alt:"Hide Password",className:"w-[20px] h-[20px] cursor-pointer"})})]}),B("button",{type:"submit",disabled:h,className:"w-full bg-red-500 text-white py-2 rounded text-[16px]",children:h?"Creating...":"Create Account"})]}),Te("button",{className:"flex items-center justify-center w-full h-[56px] mt-4 border border-black/40 rounded-[4px]",children:[B("img",{src:"/R2S-Client/Google.svg",alt:"Google",className:"w-[24px] h-[24px]"}),B("span",{className:"ml-4 text-[16px]",children:"Sign up with Google"})]}),Te("p",{className:"mt-4 text-center text-gray-700",children:["Already have an account?",B("a",{href:"/login",className:"text-black ml-4 hover:border-b-2 hover:border-black",children:"Log in"})]})]})]})})},N2=()=>{const[r,e]=me.useState({email:"",password:""}),[t,n]=me.useState(!1),s=os(),o=d=>{e({...r,[d.target.name]:d.target.value})},l=async({email:d,password:m})=>(await Bt.post("https://devapi.uniscore.vn/uri/api/auth/login",{email:d,password:m})).data,{mutate:u,isPending:c}=Yf({mutationFn:l,onSuccess:d=>{console.log("Login success:",d),localStorage.setItem("accessToken",d.tokens.accessToken),console.log("Access Token:",d.tokens.accessToken),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(d.user)),pt.success("Logged in successfully!",{autoClose:1500}),setTimeout(()=>{const m=d.user.roles[0];s(m==="ADMIN"?"/productmanage":"/"),window.location.reload()},1500)},onError:()=>{pt.error("Login failed! Please try again.")}});return B("div",{className:"flex h-[400px] md:h-[600px] justify-center mt-20 bg-white",children:Te("div",{className:"flex bg-white overflow-hidden w-[1000px] h-[300px] md:h-[500px]",children:[B("div",{className:"w-1/2 hidden md:block rounded",children:B("img",{src:"/R2S-Client/SideImage.svg",alt:"Sign Up",className:"w-full h-full object-cover rounded"})}),Te("div",{className:"w-full md:w-1/2 p-2 md:p-8 md:mt-4 lg:mt-0 lg:p-12",children:[B("h2",{className:"text-[36px] mb-1 font-[Inter]",children:"Log in to Exclusive"}),B("p",{className:"mb-8 text-gray-600 text-[16px]",children:"Enter your details below"}),Te("form",{onSubmit:d=>{if(d.preventDefault(),!r.email||!r.password){pt.error("Please enter email and password.");return}u(r)},children:[B("input",{type:"text",name:"email",placeholder:"Email",value:r.email,onChange:o,className:"w-full mb-4 border-b border-gray-400 text-gray-600 text-[16px] outline-none"}),Te("div",{className:"relative mb-4",children:[B("input",{type:t?"text":"password",name:"password",placeholder:"Password",value:r.password,onChange:o,className:"w-full mb-4 border-b border-gray-400 text-gray-600 text-[16px] outline-none"}),B("button",{type:"button",onClick:()=>n(!t),className:"absolute right-2 top-1/4 transform -translate-y-1/2 text-gray-500",children:t?B("img",{src:"/R2S-Client/ShowPass.svg",alt:"Show Password",className:"w-[20px] h-[20px] cursor-pointer"}):B("img",{src:"/R2S-Client/hide.png",alt:"Hide Password",className:"w-[20px] h-[20px] cursor-pointer"})})]}),Te("div",{className:"flex justify-between items-center",children:[B("button",{type:"submit",disabled:c,className:"w-[143px] bg-red-500 text-white py-2 rounded text-[16px]",children:c?"Logging in...":"Log In"}),B("a",{href:"/forgot-password",className:"text-red-500 md:ml-8 lg:ml-0",children:"Forgot Password?"})]})]})]})]})})},O2=async r=>{try{const{data:e}=await Bt.get(`https://devapi.uniscore.vn/uri/api/products/${r}`);return console.log("datadata:",e),e.data[0]||null}catch(e){return console.error("Error fetching product:",e),null}},D2=r=>Wc({queryKey:["product",r],queryFn:()=>O2(r),enabled:!!r,staleTime:6e5,refetchOnWindowFocus:!1,retry:!1}),L2=async()=>{const{data:r}=await Bt.get("https://devapi.uniscore.vn/uri/api/products");return Array.isArray(r.data)?r.data:[]},M2=()=>Wc({queryKey:["products"],queryFn:L2,staleTime:6e5,refetchOnWindowFocus:!1,retry:!1}),F2=({currentProductId:r})=>{const{data:e,isLoading:t,error:n}=M2(),s=os(),o=c=>{const h=JSON.parse(localStorage.getItem("cart")||"[]"),d=h.find(m=>m.id===c.id);if(d)d.quantity+=1;else{const m={id:c.id,name:c.name,price:c.price,image:c.images[0],quantity:1,color:"red",size:null};h.push(m)}localStorage.setItem("cart",JSON.stringify(h)),pt.success("Product added to cart!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"}),setTimeout(()=>{window.location.reload()},1500)};if(t)return B("p",{children:"Loading..."});if(n)return B("p",{children:"Error loading products"});if(!Array.isArray(e))return B("p",{children:"No products available"});const u=(c=>e.filter(h=>h.id!==c).sort(()=>Math.random()-.5).slice(0,4))(r);return Te("div",{className:"container mx-auto py-12",children:[Te("div",{className:"flex items-center gap-3 mb-6",children:[B("div",{className:"w-[20px] h-[40px] rounded bg-red-500"}),B("span",{className:"text-[16px] text-red-500 font-semibold font-[Inter]",children:"Related Item"})]}),B("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:u.map(c=>Te("div",{className:"group rounded-lg bg-white transition duration-300 w-[270px]",onClick:()=>s(`/detail/${c.id}`),children:[Te("div",{className:"w-[270px] h-[250px] bg-[#F5F5F5] flex flex-col items-center overflow-hidden rounded-md relative",children:[B("div",{className:"flex-grow flex items-center justify-center",children:B("img",{src:c.images[0],alt:c.name,className:"max-h-[180px] object-contain"})}),Te("div",{className:"absolute top-2 right-2 flex flex-col gap-2 items-center",children:[B("img",{src:"/R2S-Client/Heart.svg",alt:"Heart",className:"w-[34px] h-[34px] cursor-pointer"}),B("img",{src:"/R2S-Client/Eye.svg",alt:"Eye",className:"w-[34px] h-[34px] cursor-pointer"})]}),B("button",{onClick:h=>{h.stopPropagation(),o(c)},className:"absolute bottom-0 left-0 w-full bg-black text-white py-3 text-center opacity-0 translate-y-2 transition-all duration-300 group-hover:opacity-100 group-hover:translate-y-0",children:"Add To Cart"})]}),B("h3",{className:"text-[16px] font-medium mt-3",children:c.name}),Te("div",{className:"flex items-center gap-3",children:[Te("a",{className:"text-red-500 text-[16px] font-medium",children:["$",c.price]}),Te("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,d)=>d<(c.rate||4)?B("img",{src:"/R2S-Client/Star.svg",alt:"Star",className:"w-[20px] h-[20px]"},d):B("img",{src:"/R2S-Client/GrayStar.svg",alt:"Star",className:"w-[20px] h-[20px]"},d)),Te("span",{className:"text-gray-500 text-[14px] font-medium",children:["(",c.stock||50,")"]})]})]})]},c.id))})]})},V2=()=>{const{id:r}=HC(),{data:e,isLoading:t,error:n}=D2(Number(r)),[s,o]=me.useState(""),[l,u]=me.useState(1),[c,h]=me.useState("red"),d=[{name:"Red",color:"bg-red-500"},{name:"Blue",color:"bg-blue-500"},{name:"Gray",color:"bg-gray-400"}],[m,y]=me.useState(null),v=me.useMemo(()=>e!=null&&e.id?B(F2,{currentProductId:e.id}):null,[e==null?void 0:e.id]);if(me.useEffect(()=>{var S;(S=e==null?void 0:e.images)!=null&&S.length&&o(e.images[0])},[e]),me.useEffect(()=>{window.scrollTo(0,0),u(1),h("red"),y(null)},[r]),t)return B("div",{className:"min-h-[100vh] flex justify-center items-center",children:B("p",{className:"text-gray-500 text-lg animate-pulse",children:"Loading..."})});if(n||!e)return B("p",{children:"Product not found"});const w=()=>{const S=JSON.parse(localStorage.getItem("cart")||"[]"),T={id:e.id,name:e.name,price:e.price,image:s,quantity:l,color:c,size:m},O=S.find(x=>x.id===e.id);O?O.quantity+=l:S.push(T),localStorage.setItem("cart",JSON.stringify(S)),pt.success("Product added to cart!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"}),setTimeout(()=>{window.location.reload()},1500)};return Te("div",{children:[Te("div",{className:"container mx-auto py-12 grid grid-cols-1 md:grid-cols-[60%_40%] gap-10",children:[Te("div",{className:"flex gap-4 items-start w-full",children:[B("div",{className:"flex flex-col gap-2",children:Array(4).fill(null).map((S,T)=>{var x;const O=(x=e.images)==null?void 0:x[T];return B("div",{className:"bg-[#F5F5F5] rounded w-[170px] h-[138px] flex items-center justify-center",children:O?B("img",{src:O,alt:`Thumbnail ${T}`,className:`h-[120px] p-1 cursor-pointer ${s===O?"border-blue-500":"border-gray-300"}`,onClick:()=>o(O)}):B("span",{className:"text-gray-400",children:"No Image"})},T)})}),B("div",{className:"bg-[#F5F5F5] rounded w-[450px] h-[576px] w-full p-4 flex items-center justify-center",children:s&&B("img",{src:s,alt:e.name,className:"w-full h-full object-contain"})})]}),Te("div",{className:"w-full ml-auto",children:[B("h1",{className:"text-[24px] font-semibold font-[Inter]",children:e.name}),Te("div",{className:"flex items-center gap-2 my-2",children:[[...Array(5)].map((S,T)=>T<(e.rate||4)?B("img",{src:"/R2S-Client/Star.svg",alt:"Star",className:"w-[20px] h-[20px]"},T):B("img",{src:"/R2S-Client/GrayStar.svg",alt:"Star",className:"w-[20px] h-[20px]"},T)),B("span",{className:"text-gray-500 text-[14px]",children:"(100 Reviews)"}),Te("span",{className:"text-gray-500 text-[14px]",children:["(",e.stock||50," in stock)"]})]}),Te("p",{className:"text-[24px] text-black font-[Inter]",children:["$",e.price]}),B("p",{className:"text-[14px] text-black my-4",children:e.description}),Te("div",{className:"my-4 flex items-center gap-4",children:[B("h3",{className:"text-[20px] font-[Inter]",children:"Colours:"}),B("div",{className:"flex gap-4",children:d.map(({name:S,color:T})=>B("div",{className:`w-4 h-4 rounded-full cursor-pointer ${T}
                        ${c===S?"border-2 border-white outline outline-2 outline-black":"border-2 border-white"}`,onClick:()=>h(S)},S))})]}),Te("div",{className:"my-4 flex items-center gap-4",children:[B("h3",{className:"text-[20px] font-[Inter]",children:"Size:"}),B("div",{className:"flex gap-2",children:["XS","S","M","L","XL"].map(S=>B("button",{className:`w-[32px] h-[32px] items-center justify-center text-[14px] border border-gray-400 rounded ${m===S?"bg-red-500 text-white border border-red-500":""}`,onClick:()=>y(S),children:S},S))})]}),Te("div",{className:"flex items-center gap-4 my-6",children:[Te("div",{className:"flex border border-gray-400 w-[159px] h-[44px] items-center rounded",children:[B("button",{className:"flex items-center justify-center text-black w-[45px] h-[40px]",onClick:()=>u(S=>Math.max(1,S-1)),children:"-"}),B("span",{className:"flex items-center justify-center text-center w-[69px] h-[44px] text-[20px] border border-gray-400",children:l}),B("button",{className:"flex items-center justify-center text-black w-[45px] h-[40px]",onClick:()=>u(S=>S+1),children:"+"})]}),B("button",{onClick:w,className:"bg-red-500 text-white w-[165px] h-[44px] flex items-center justify-center rounded",children:"Buy Now"}),B("button",{className:"border border-gray-400 rounded w-[40px] h-[40px] flex items-center justify-center",children:B("img",{src:"/R2S-Client/Wishlist2.svg",alt:"Wishlist2",className:"w-[32px] h-[32px]"})})]}),Te("div",{className:"border border-gray-400 rounded",children:[Te("div",{className:"p-4 flex items-start gap-3",children:[B("img",{src:"/R2S-Client/icon-delivery2.svg",alt:"icon-delivery2",className:"w-[40px] h-[40px] object-contain"}),Te("div",{children:[B("h3",{className:"font-medium text-[16px]",children:"Free Delivery"}),B("button",{className:"font-medium text-[12px] text-black hover:border-b hover:border-black",children:"Enter your postal code for Delivery Availability"})]})]}),Te("div",{className:"border-t border-t-gray-400 p-4 flex items-start gap-3",children:[B("img",{src:"/R2S-Client/Icon-return.svg",alt:"Icon-return",className:"w-[40px] h-[40px] object-contain"}),Te("div",{children:[B("h3",{className:"font-medium text-[16px]",children:"Return Delivery"}),B("span",{className:"font-medium text-[12px] text-black mr-1",children:"Free 30 Days Delivery Returns."}),B("button",{className:"font-medium text-[12px] text-black hover:border-b hover:border-black",children:"Details"})]})]})]})]})]}),B("div",{className:"mt-5 mb-10",children:v})]})},U2=()=>{const[r,e]=me.useState([]),[t,n]=me.useState([]),[s,o]=me.useState(!1);me.useEffect(()=>{const y=JSON.parse(localStorage.getItem("cart")||"[]");e(y),n(y);const v=localStorage.getItem("user");if(v){const w=JSON.parse(v);w.roles&&w.roles[0]==="ADMIN"&&o(!0)}},[]);const l=y=>{const v=r.filter(w=>w.id!==y);e(v),localStorage.setItem("cart",JSON.stringify(v)),window.location.reload()},u=(y,v)=>{const w=Math.max(1,parseInt(v)||1),S=r.map(T=>T.id===y?{...T,quantity:w}:T);n(S)},c=()=>{e(t),localStorage.setItem("cart",JSON.stringify(t))},h=os(),d=!!localStorage.getItem("user"),m=()=>{h(d?"/checkout":"/login")};return Te("div",{className:"container mx-auto py-12",children:[Te("div",{className:"flex items-center space-x-2 text-gray-500 text-[14px]",children:[B("a",{href:s?"/productmanage":"/",className:"hover:underline",children:"Home"}),B("img",{src:"/R2S-Client/CrossLine.svg",alt:"CrossLine",className:"w-[7px]"}),B("span",{className:"font-normal text-black",children:"Cart"})]}),B("div",{children:Te("div",{className:"mt-10",children:[B("div",{className:"w-full",children:Te("table",{className:"min-w-full border-separate border-spacing-y-4",children:[B("thead",{className:"shadow-md rounded",children:Te("tr",{children:[B("th",{className:"p-4 text-[16px]",children:"Product"}),B("th",{className:"p-4 text-left text-[16px]",children:"Price"}),B("th",{className:"p-4 text-left text-[16px]",children:"Quantity"}),B("th",{className:"p-4 text-left text-[16px]",children:"Subtotal"}),B("th",{className:"p-4 text-[16px]",children:"Action"})]})}),B("tbody",{children:t.length>0?t.map(y=>Te("tr",{className:"shadow-md rounded",children:[Te("td",{className:"p-4 sm:flex items-center gap-2 text-[16px]",children:[B("img",{src:y.image,alt:y.name,className:"hidden sm:flex w-16 h-16"}),y.name]}),Te("td",{className:"p-2 text-[16px]",children:["$",y.price]}),B("td",{className:"p-4 text-left",children:B("div",{className:"flex items-left gap-2",children:B("input",{type:"number",className:"w-14 h-10 text-center rounded-lg",value:y.quantity,onChange:v=>u(y.id,v.target.value),min:"1"})})}),Te("td",{className:"p-4 text-[16px]",children:["$",(y.price*y.quantity).toFixed(2)]}),B("td",{className:"p-2 text-center",children:B("button",{className:"text-[16px] text-red-500 hover:underline",onClick:()=>l(y.id),children:"Remove"})})]},y.id)):Te("tr",{className:"shadow-md rounded",children:[B("td",{className:"p-4 flex items-center gap-2 text-[16px]",children:"Your cart is empty."}),B("td",{className:"p-4 text-[16px]",children:"$0"}),B("td",{className:"p-4 text-[16px]",children:B("input",{type:"number",value:0,className:"w-16 border border-gray-300 p-1 text-center text-[16px]",min:"1",readOnly:!0})}),B("td",{className:"p-4 text-[16px]",children:"$0"}),B("td",{className:"p-4 text-center"})]})})]})}),Te("div",{className:"flex justify-between mt-6",children:[B("a",{href:s?"/productmanage":"/",className:"px-4 py-2 bg-gray-200 text-black rounded text-[16px]",children:"Return To Shop"}),r.length>0&&B("button",{className:"px-4 py-2 bg-red-500 text-white rounded text-[16px]",onClick:c,children:"Update Cart"})]})]})}),r.length>0&&Te("div",{className:"grid grid-cols-[60%_40%] lg:gap-10 mt-10",children:[B("div",{className:"justify-between",children:Te("div",{className:"flex",children:[B("input",{type:"text",placeholder:"Coupon Code",className:"border border-black px-4 py-2 w-full max-w-[250px] h-[56px] text-gray-500 text-[14px] md:text-[16px] rounded"}),B("button",{className:"bg-red-500 text-white px-6 py-2 mx-4 text-[14px] md:text-[16px] w-full lg:w-[211px] h-[56px] rounded",children:"Apply Coupon"})]})}),Te("div",{className:"border border-black p-6 rounded w-full lg:w-[300px] xl:w-[400px]",children:[B("h2",{className:"text-[20px] font-medium mb-4",children:"Cart Total"}),Te("div",{className:"flex justify-between mb-4 text-[14px] md:text-[16px] border-b border-gray-400",children:[B("span",{children:"Subtotal:"}),Te("span",{children:["$",r.reduce((y,v)=>y+v.price*v.quantity,0).toFixed(2)]})]}),Te("div",{className:"flex justify-between mb-4 text-[14px] md:text-[16px] border-b border-gray-400",children:[B("span",{children:"Shipping:"}),B("span",{children:"Free"})]}),Te("div",{className:"flex justify-between text-[14px] md:text-[16px]",children:[B("span",{children:"Total:"}),Te("span",{children:["$",r.reduce((y,v)=>y+v.price*v.quantity,0).toFixed(2)]})]}),B("button",{onClick:m,className:"w-full mt-4 w-full lg:w-[260px] xl:ml-12 h-[56px] bg-red-500 text-white rounded",children:"Proceed to checkout"})]})]})]})},B2=()=>{const[r,e]=me.useState(null),[t,n]=me.useState(!1),s=os();me.useEffect(()=>{const u=JSON.parse(localStorage.getItem("user")||"null");if(u){e(u);const c=localStorage.getItem("user");if(c){const h=JSON.parse(c);h.roles&&h.roles[0]==="ADMIN"&&n(!0)}}else s("/login")},[s]);const o=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),localStorage.removeItem("checkoutInfo"),s("/login"),window.location.reload(),window.scrollTo(0,0)},l=async()=>{if(!r){pt.error("Profile data is missing!");return}const{name:u,address:c}=r;if(!u||!c){pt.error("One or more fields are empty.");return}console.log("Sending update request with data:",{name:u,address:c});try{if(!u||u.length<3||!c||c.length<3){pt.error("Name and address must be at least 3 characters long.");return}const h=await fetch("https://devapi.uniscore.vn/uri/api/auth/update-profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({name:u,address:c})});if(!h.ok){const y=await h.json().catch(()=>({}));console.error("API error:",y),pt.error(y.message||"Update failed! Please try again.");return}pt.success("Profile updated successfully!");const m={...JSON.parse(localStorage.getItem("user")||"{}"),name:u,address:c};localStorage.setItem("user",JSON.stringify(m)),e(m)}catch(h){console.error("Update failed:",h),pt.error("Something went wrong. Please try again later.")}};return Te("div",{className:"container mx-auto py-12",children:[Te("div",{className:"flex items-center space-x-2 text-gray-500 text-[14px]",children:[B("a",{href:t?"/productmanage":"/",className:"hover:underline",children:"Home"}),B("img",{src:"/R2S-Client/CrossLine.svg",alt:"CrossLine",className:"w-[7px]"}),B("span",{className:"font-normal text-black",children:"My Account"})]}),Te("div",{className:"flex min-h-screen mt-10",children:[Te("aside",{className:"hidden md:block w-1/3 bg-white rounded-lg",children:[B("h2",{className:"text-[14px] lg:text-[16px] font-medium mb-4",children:"Manage My Account"}),Te("ul",{className:"space-y-3 ml-8",children:[B("li",{className:"text-[14px] lg:text-[16px] text-gray-600 hover:text-red-500 cursor-pointer",children:"My Profile"}),B("li",{className:"text-[14px] lg:text-[16px] text-gray-600 hover:text-red-500 cursor-pointer",children:"Address Book"}),B("li",{className:"text-[14px] lg:text-[16px] text-gray-600 hover:text-red-500 cursor-pointer",children:"My Payment Options"})]}),B("h2",{className:"text-[14px] lg:text-[16px] font-medium mt-6 mb-4",children:"My Orders"}),Te("ul",{className:"space-y-3 ml-8",children:[B("li",{className:"text-[14px] lg:text-[16px] text-gray-600 hover:text-red-500 cursor-pointer",children:"My Returns"}),B("li",{className:"text-[14px] lg:text-[16px] text-gray-600 hover:text-red-500 cursor-pointer",children:"My Cancellations"})]}),B("h2",{className:"text-[14px] lg:text-[16px] font-medium mt-6 mb-4",children:"My Wishlist"}),B("button",{onClick:o,className:"mt-4 bg-red-500 text-[16px] text-white py-2 px-4 rounded-lg hover:bg-red-600",children:"Logout"})]}),Te("div",{className:"w-full h-full p-8 bg-white shadow-lg rounded-l md:ml-16",children:[B("h2",{className:"text-[20px] font-medium text-red-500 mb-6",children:"Edit Your Profile"}),Te("div",{className:"md:grid lg:grid-cols-[1.5fr_1fr] gap-6",children:[Te("div",{children:[Te("label",{className:"block text-[16px] mb-1",children:["Full Name",B("a",{className:"text-red-500",children:"*"})]}),B("input",{type:"text",value:(r==null?void 0:r.name)||"",onChange:u=>e(c=>c?{...c,name:u.target.value}:null),className:"w-full p-2 border border-gray-300 rounded bg-white text-[16px] text-gray-600 mb-4 md:mb-0"})]}),Te("div",{children:[Te("label",{className:"flex items-center text-[16px] mb-1",children:["Email",B("img",{src:"/R2S-Client/lock.png",alt:"Lock",className:"w-4 h-4 ml-2 relative -translate-y-[2px]"})]}),B("input",{type:"email",value:(r==null?void 0:r.email)||"",className:"w-full p-2 border border-gray-300 rounded bg-gray-100 text-[16px] text-gray-600 mb-4 md:mb-0",disabled:!0})]}),Te("div",{className:"col-span-2",children:[Te("label",{className:"block text-[16px] mb-1",children:["Address",B("a",{className:"text-red-500",children:"*"})]}),B("input",{type:"text",value:(r==null?void 0:r.address)||"",onChange:u=>e(c=>c?{...c,address:u.target.value}:null),className:"w-full p-2 border border-gray-300 rounded bg-white text-[16px] text-gray-600"})]})]}),B("h3",{className:"text-[16px] mt-6 mb-4",children:"Password Changes"}),Te("div",{className:"grid grid-cols-1 gap-4",children:[B("input",{type:"password",placeholder:"Current Password",className:"w-full p-2 border border-gray-300 rounded bg-white text-[16px] placeholder:text-gray-600"}),B("input",{type:"password",placeholder:"New Password",className:"w-full p-2 border border-gray-300 rounded bg-white text-[16px] placeholder:text-gray-600"}),B("input",{type:"password",placeholder:"Confirm New Password",className:"w-full p-2 border border-gray-300 rounded bg-white text-[16px] placeholder:text-gray-600"})]}),Te("div",{className:"flex justify-end mt-6 space-x-4",children:[B("button",{onClick:()=>{const u=JSON.parse(localStorage.getItem("user")||"null");u&&e(u)},className:"px-4 py-2 text-black text-[16px]",children:"Cancel"}),B("button",{onClick:l,className:"px-6 py-2 bg-red-500 text-white rounded-lg text-[16px]",children:"Save Changes"})]})]})]})]})},j2=()=>{};var yb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},$2=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[t++],l=r[t++],u=r[t++],c=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},kS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],l=s+1<r.length,u=l?r[s+1]:0,c=s+2<r.length,h=c?r[s+2]:0,d=o>>2,m=(o&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;c||(v=64,l||(y=64)),n.push(t[d],t[m],t[y],t[v])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(RS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=t[r.charAt(s++)],u=s<r.length?t[r.charAt(s)]:0;++s;const h=s<r.length?t[r.charAt(s)]:64;++s;const m=s<r.length?t[r.charAt(s)]:64;if(++s,o==null||u==null||h==null||m==null)throw new z2;const y=o<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),m!==64){const w=h<<6&192|m;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W2=function(r){const e=RS(r);return kS.encodeByteArray(e,!0)},Zf=function(r){return W2(r).replace(/\./g,"")},q2=function(r){try{return kS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=()=>H2().__FIREBASE_DEFAULTS__,K2=()=>{if(typeof process>"u"||typeof yb>"u")return;const r=yb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},G2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&q2(r[1]);return e&&JSON.parse(e)},Dv=()=>{try{return j2()||Q2()||K2()||G2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y2=r=>{var e,t;return(t=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},J2=r=>{const e=Y2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},PS=()=>{var r;return(r=Dv())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Zf(JSON.stringify(t)),Zf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){var r;const e=(r=Dv())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nN(){try{return typeof indexedDB=="object"}catch{return!1}}function iN(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="FirebaseError";class fu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=sN,Object.setPrototypeOf(this,fu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,NS.prototype.create)}}class NS{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?oN(o,n):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new fu(s,u,n)}}function oN(r,e){return r.replace(aN,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const aN=/\{\$([^}]+)}/g;function ed(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=r[s],l=e[s];if(vb(o)&&vb(l)){if(!ed(o,l))return!1}else if(o!==l)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function vb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){return r&&r._delegate?r._delegate:r}class Ic{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new X2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cN(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&l.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:uN(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uN(r){return r===ga?void 0:r}function cN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ft||(Ft={}));const fN={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},dN=Ft.INFO,pN={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},mN=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=pN[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OS{constructor(e){this.name=e,this._logLevel=dN,this._logHandler=mN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const gN=(r,e)=>e.some(t=>r instanceof t);let _b,wb;function yN(){return _b||(_b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vN(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,kg=new WeakMap,LS=new WeakMap,Fm=new WeakMap,Lv=new WeakMap;function _N(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(No(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DS.set(t,r)}).catch(()=>{}),Lv.set(e,r),e}function wN(r){if(kg.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});kg.set(r,e)}let Pg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return kg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||LS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return No(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bN(r){Pg=r(Pg)}function EN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Vm(this),e,...t);return LS.set(n,e.sort?e.sort():[e]),No(n)}:vN().includes(r)?function(...e){return r.apply(Vm(this),e),No(DS.get(this))}:function(...e){return No(r.apply(Vm(this),e))}}function SN(r){return typeof r=="function"?EN(r):(r instanceof IDBTransaction&&wN(r),gN(r,yN())?new Proxy(r,Pg):r)}function No(r){if(r instanceof IDBRequest)return _N(r);if(Fm.has(r))return Fm.get(r);const e=SN(r);return e!==r&&(Fm.set(r,e),Lv.set(e,r)),e}const Vm=r=>Lv.get(r);function TN(r,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const l=indexedDB.open(r,e),u=No(l);return n&&l.addEventListener("upgradeneeded",c=>{n(No(l.result),c.oldVersion,c.newVersion,No(l.transaction),c)}),t&&l.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const xN=["get","getKey","getAll","getAllKeys","count"],AN=["put","add","delete","clear"],Um=new Map;function bb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=AN.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||xN.includes(t)))return;const o=async function(l,...u){const c=this.transaction(l,s?"readwrite":"readonly");let h=c.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),s&&c.done]))[0]};return Um.set(e,o),o}bN(r=>({...r,get:(e,t,n)=>bb(e,t)||r.get(e,t,n),has:(e,t)=>!!bb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CN(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function CN(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ng="@firebase/app",Eb="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new OS("@firebase/app"),RN="@firebase/app-compat",kN="@firebase/analytics-compat",PN="@firebase/analytics",NN="@firebase/app-check-compat",ON="@firebase/app-check",DN="@firebase/auth",LN="@firebase/auth-compat",MN="@firebase/database",FN="@firebase/data-connect",VN="@firebase/database-compat",UN="@firebase/functions",BN="@firebase/functions-compat",jN="@firebase/installations",$N="@firebase/installations-compat",zN="@firebase/messaging",WN="@firebase/messaging-compat",qN="@firebase/performance",HN="@firebase/performance-compat",QN="@firebase/remote-config",KN="@firebase/remote-config-compat",GN="@firebase/storage",YN="@firebase/storage-compat",JN="@firebase/firestore",XN="@firebase/vertexai",ZN="@firebase/firestore-compat",eO="firebase",tO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",rO={[Ng]:"fire-core",[RN]:"fire-core-compat",[PN]:"fire-analytics",[kN]:"fire-analytics-compat",[ON]:"fire-app-check",[NN]:"fire-app-check-compat",[DN]:"fire-auth",[LN]:"fire-auth-compat",[MN]:"fire-rtdb",[FN]:"fire-data-connect",[VN]:"fire-rtdb-compat",[UN]:"fire-fn",[BN]:"fire-fn-compat",[jN]:"fire-iid",[$N]:"fire-iid-compat",[zN]:"fire-fcm",[WN]:"fire-fcm-compat",[qN]:"fire-perf",[HN]:"fire-perf-compat",[QN]:"fire-rc",[KN]:"fire-rc-compat",[GN]:"fire-gcs",[YN]:"fire-gcs-compat",[JN]:"fire-fst",[ZN]:"fire-fst-compat",[XN]:"fire-vertex","fire-js":"fire-js",[eO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,nO=new Map,Dg=new Map;function Sb(r,e){try{r.container.addComponent(e)}catch(t){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function rd(r){const e=r.name;if(Dg.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,r);for(const t of td.values())Sb(t,r);for(const t of nO.values())Sb(t,r);return!0}function iO(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function sO(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new NS("app","Firebase",oO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ic("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=tO;function MS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Oo.create("bad-app-name",{appName:String(s)});if(t||(t=PS()),!t)throw Oo.create("no-options");const o=td.get(s);if(o){if(ed(t,o.options)&&ed(n,o.config))return o;throw Oo.create("duplicate-app",{appName:s})}const l=new hN(s);for(const c of Dg.values())l.addComponent(c);const u=new aO(t,n,l);return td.set(s,u),u}function uO(r=Og){const e=td.get(r);if(!e&&r===Og&&PS())return MS();if(!e)throw Oo.create("no-app",{appName:r});return e}function Vl(r,e,t){var n;let s=(n=rO[r])!==null&&n!==void 0?n:r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(u.join(" "));return}rd(new Ic(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebase-heartbeat-database",hO=1,Cc="firebase-heartbeat-store";let Bm=null;function FS(){return Bm||(Bm=TN(cO,hO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Oo.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function fO(r){try{const t=(await FS()).transaction(Cc),n=await t.objectStore(Cc).get(VS(r));return await t.done,n}catch(e){if(e instanceof fu)Ms.warn(e.message);else{const t=Oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(t.message)}}}async function Tb(r,e){try{const n=(await FS()).transaction(Cc,"readwrite");await n.objectStore(Cc).put(e,VS(r)),await n.done}catch(t){if(t instanceof fu)Ms.warn(t.message);else{const n=Oo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(n.message)}}}function VS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1024,pO=30;class mO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yO(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>pO){const l=vO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ms.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xb(),{heartbeatsToSend:n,unsentEntries:s}=gO(this._heartbeatsCache.heartbeats),o=Zf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ms.warn(t),""}}}function xb(){return new Date().toISOString().substring(0,10)}function gO(r,e=dO){const t=[];let n=r.slice();for(const s of r){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),Ab(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ab(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class yO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nN()?iN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ab(r){return Zf(JSON.stringify({version:2,heartbeats:r})).length}function vO(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r){rd(new Ic("platform-logger",e=>new IN(e),"PRIVATE")),rd(new Ic("heartbeat",e=>new mO(e),"PRIVATE")),Vl(Ng,Eb,r),Vl(Ng,Eb,"esm2017"),Vl("fire-js","")}_O("");var wO="firebase",bO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vl(wO,bO,"app");var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,US;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,k){function M(){}M.prototype=k.prototype,P.D=k.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(F,$,N){for(var V=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)V[_e-2]=arguments[_e];return k.prototype[$].apply(F,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,k,M){M||(M=0);var F=Array(16);if(typeof k=="string")for(var $=0;16>$;++$)F[$]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for($=0;16>$;++$)F[$]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=P.g[0],M=P.g[1],$=P.g[2];var N=P.g[3],V=k+(N^M&($^N))+F[0]+3614090360&4294967295;k=M+(V<<7&4294967295|V>>>25),V=N+($^k&(M^$))+F[1]+3905402710&4294967295,N=k+(V<<12&4294967295|V>>>20),V=$+(M^N&(k^M))+F[2]+606105819&4294967295,$=N+(V<<17&4294967295|V>>>15),V=M+(k^$&(N^k))+F[3]+3250441966&4294967295,M=$+(V<<22&4294967295|V>>>10),V=k+(N^M&($^N))+F[4]+4118548399&4294967295,k=M+(V<<7&4294967295|V>>>25),V=N+($^k&(M^$))+F[5]+1200080426&4294967295,N=k+(V<<12&4294967295|V>>>20),V=$+(M^N&(k^M))+F[6]+2821735955&4294967295,$=N+(V<<17&4294967295|V>>>15),V=M+(k^$&(N^k))+F[7]+4249261313&4294967295,M=$+(V<<22&4294967295|V>>>10),V=k+(N^M&($^N))+F[8]+1770035416&4294967295,k=M+(V<<7&4294967295|V>>>25),V=N+($^k&(M^$))+F[9]+2336552879&4294967295,N=k+(V<<12&4294967295|V>>>20),V=$+(M^N&(k^M))+F[10]+4294925233&4294967295,$=N+(V<<17&4294967295|V>>>15),V=M+(k^$&(N^k))+F[11]+2304563134&4294967295,M=$+(V<<22&4294967295|V>>>10),V=k+(N^M&($^N))+F[12]+1804603682&4294967295,k=M+(V<<7&4294967295|V>>>25),V=N+($^k&(M^$))+F[13]+4254626195&4294967295,N=k+(V<<12&4294967295|V>>>20),V=$+(M^N&(k^M))+F[14]+2792965006&4294967295,$=N+(V<<17&4294967295|V>>>15),V=M+(k^$&(N^k))+F[15]+1236535329&4294967295,M=$+(V<<22&4294967295|V>>>10),V=k+($^N&(M^$))+F[1]+4129170786&4294967295,k=M+(V<<5&4294967295|V>>>27),V=N+(M^$&(k^M))+F[6]+3225465664&4294967295,N=k+(V<<9&4294967295|V>>>23),V=$+(k^M&(N^k))+F[11]+643717713&4294967295,$=N+(V<<14&4294967295|V>>>18),V=M+(N^k&($^N))+F[0]+3921069994&4294967295,M=$+(V<<20&4294967295|V>>>12),V=k+($^N&(M^$))+F[5]+3593408605&4294967295,k=M+(V<<5&4294967295|V>>>27),V=N+(M^$&(k^M))+F[10]+38016083&4294967295,N=k+(V<<9&4294967295|V>>>23),V=$+(k^M&(N^k))+F[15]+3634488961&4294967295,$=N+(V<<14&4294967295|V>>>18),V=M+(N^k&($^N))+F[4]+3889429448&4294967295,M=$+(V<<20&4294967295|V>>>12),V=k+($^N&(M^$))+F[9]+568446438&4294967295,k=M+(V<<5&4294967295|V>>>27),V=N+(M^$&(k^M))+F[14]+3275163606&4294967295,N=k+(V<<9&4294967295|V>>>23),V=$+(k^M&(N^k))+F[3]+4107603335&4294967295,$=N+(V<<14&4294967295|V>>>18),V=M+(N^k&($^N))+F[8]+1163531501&4294967295,M=$+(V<<20&4294967295|V>>>12),V=k+($^N&(M^$))+F[13]+2850285829&4294967295,k=M+(V<<5&4294967295|V>>>27),V=N+(M^$&(k^M))+F[2]+4243563512&4294967295,N=k+(V<<9&4294967295|V>>>23),V=$+(k^M&(N^k))+F[7]+1735328473&4294967295,$=N+(V<<14&4294967295|V>>>18),V=M+(N^k&($^N))+F[12]+2368359562&4294967295,M=$+(V<<20&4294967295|V>>>12),V=k+(M^$^N)+F[5]+4294588738&4294967295,k=M+(V<<4&4294967295|V>>>28),V=N+(k^M^$)+F[8]+2272392833&4294967295,N=k+(V<<11&4294967295|V>>>21),V=$+(N^k^M)+F[11]+1839030562&4294967295,$=N+(V<<16&4294967295|V>>>16),V=M+($^N^k)+F[14]+4259657740&4294967295,M=$+(V<<23&4294967295|V>>>9),V=k+(M^$^N)+F[1]+2763975236&4294967295,k=M+(V<<4&4294967295|V>>>28),V=N+(k^M^$)+F[4]+1272893353&4294967295,N=k+(V<<11&4294967295|V>>>21),V=$+(N^k^M)+F[7]+4139469664&4294967295,$=N+(V<<16&4294967295|V>>>16),V=M+($^N^k)+F[10]+3200236656&4294967295,M=$+(V<<23&4294967295|V>>>9),V=k+(M^$^N)+F[13]+681279174&4294967295,k=M+(V<<4&4294967295|V>>>28),V=N+(k^M^$)+F[0]+3936430074&4294967295,N=k+(V<<11&4294967295|V>>>21),V=$+(N^k^M)+F[3]+3572445317&4294967295,$=N+(V<<16&4294967295|V>>>16),V=M+($^N^k)+F[6]+76029189&4294967295,M=$+(V<<23&4294967295|V>>>9),V=k+(M^$^N)+F[9]+3654602809&4294967295,k=M+(V<<4&4294967295|V>>>28),V=N+(k^M^$)+F[12]+3873151461&4294967295,N=k+(V<<11&4294967295|V>>>21),V=$+(N^k^M)+F[15]+530742520&4294967295,$=N+(V<<16&4294967295|V>>>16),V=M+($^N^k)+F[2]+3299628645&4294967295,M=$+(V<<23&4294967295|V>>>9),V=k+($^(M|~N))+F[0]+4096336452&4294967295,k=M+(V<<6&4294967295|V>>>26),V=N+(M^(k|~$))+F[7]+1126891415&4294967295,N=k+(V<<10&4294967295|V>>>22),V=$+(k^(N|~M))+F[14]+2878612391&4294967295,$=N+(V<<15&4294967295|V>>>17),V=M+(N^($|~k))+F[5]+4237533241&4294967295,M=$+(V<<21&4294967295|V>>>11),V=k+($^(M|~N))+F[12]+1700485571&4294967295,k=M+(V<<6&4294967295|V>>>26),V=N+(M^(k|~$))+F[3]+2399980690&4294967295,N=k+(V<<10&4294967295|V>>>22),V=$+(k^(N|~M))+F[10]+4293915773&4294967295,$=N+(V<<15&4294967295|V>>>17),V=M+(N^($|~k))+F[1]+2240044497&4294967295,M=$+(V<<21&4294967295|V>>>11),V=k+($^(M|~N))+F[8]+1873313359&4294967295,k=M+(V<<6&4294967295|V>>>26),V=N+(M^(k|~$))+F[15]+4264355552&4294967295,N=k+(V<<10&4294967295|V>>>22),V=$+(k^(N|~M))+F[6]+2734768916&4294967295,$=N+(V<<15&4294967295|V>>>17),V=M+(N^($|~k))+F[13]+1309151649&4294967295,M=$+(V<<21&4294967295|V>>>11),V=k+($^(M|~N))+F[4]+4149444226&4294967295,k=M+(V<<6&4294967295|V>>>26),V=N+(M^(k|~$))+F[11]+3174756917&4294967295,N=k+(V<<10&4294967295|V>>>22),V=$+(k^(N|~M))+F[2]+718787259&4294967295,$=N+(V<<15&4294967295|V>>>17),V=M+(N^($|~k))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+k&4294967295,P.g[1]=P.g[1]+($+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+$&4294967295,P.g[3]=P.g[3]+N&4294967295}n.prototype.u=function(P,k){k===void 0&&(k=P.length);for(var M=k-this.blockSize,F=this.B,$=this.h,N=0;N<k;){if($==0)for(;N<=M;)s(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<k;)if(F[$++]=P.charCodeAt(N++),$==this.blockSize){s(this,F),$=0;break}}else for(;N<k;)if(F[$++]=P[N++],$==this.blockSize){s(this,F),$=0;break}}this.h=$,this.o+=k},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var k=1;k<P.length-8;++k)P[k]=0;var M=8*this.o;for(k=P.length-8;k<P.length;++k)P[k]=M&255,M/=256;for(this.u(P),P=Array(16),k=M=0;4>k;++k)for(var F=0;32>F;F+=8)P[M++]=this.g[k]>>>F&255;return P};function o(P,k){var M=u;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=k(P)}function l(P,k){this.h=k;for(var M=[],F=!0,$=P.length-1;0<=$;$--){var N=P[$]|0;F&&N==k||(M[$]=N,F=!1)}this.g=M}var u={};function c(P){return-128<=P&&128>P?o(P,function(k){return new l([k|0],0>k?-1:0)}):new l([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return T(h(-P));for(var k=[],M=1,F=0;P>=M;F++)k[F]=P/M|0,M*=4294967296;return new l(k,0)}function d(P,k){if(P.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P.charAt(0)=="-")return T(d(P.substring(1),k));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(k,8)),F=m,$=0;$<P.length;$+=8){var N=Math.min(8,P.length-$),V=parseInt(P.substring($,$+N),k);8>N?(N=h(Math.pow(k,N)),F=F.j(N).add(h(V))):(F=F.j(M),F=F.add(h(V)))}return F}var m=c(0),y=c(1),v=c(16777216);r=l.prototype,r.m=function(){if(S(this))return-T(this).m();for(var P=0,k=1,M=0;M<this.g.length;M++){var F=this.i(M);P+=(0<=F?F:4294967296+F)*k,k*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(S(this))return"-"+T(this).toString(P);for(var k=h(Math.pow(P,6)),M=this,F="";;){var $=z(M,k).g;M=O(M,$.j(k));var N=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=$,w(M))return N+F;for(;6>N.length;)N="0"+N;F=N+F}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var k=0;k<P.g.length;k++)if(P.g[k]!=0)return!1;return!0}function S(P){return P.h==-1}r.l=function(P){return P=O(this,P),S(P)?-1:w(P)?0:1};function T(P){for(var k=P.g.length,M=[],F=0;F<k;F++)M[F]=~P.g[F];return new l(M,~P.h).add(y)}r.abs=function(){return S(this)?T(this):this},r.add=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0,$=0;$<=k;$++){var N=F+(this.i($)&65535)+(P.i($)&65535),V=(N>>>16)+(this.i($)>>>16)+(P.i($)>>>16);F=V>>>16,N&=65535,V&=65535,M[$]=V<<16|N}return new l(M,M[M.length-1]&-2147483648?-1:0)};function O(P,k){return P.add(T(k))}r.j=function(P){if(w(this)||w(P))return m;if(S(this))return S(P)?T(this).j(T(P)):T(T(this).j(P));if(S(P))return T(this.j(T(P)));if(0>this.l(v)&&0>P.l(v))return h(this.m()*P.m());for(var k=this.g.length+P.g.length,M=[],F=0;F<2*k;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<P.g.length;$++){var N=this.i(F)>>>16,V=this.i(F)&65535,_e=P.i($)>>>16,ae=P.i($)&65535;M[2*F+2*$]+=V*ae,x(M,2*F+2*$),M[2*F+2*$+1]+=N*ae,x(M,2*F+2*$+1),M[2*F+2*$+1]+=V*_e,x(M,2*F+2*$+1),M[2*F+2*$+2]+=N*_e,x(M,2*F+2*$+2)}for(F=0;F<k;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=k;F<2*k;F++)M[F]=0;return new l(M,0)};function x(P,k){for(;(P[k]&65535)!=P[k];)P[k+1]+=P[k]>>>16,P[k]&=65535,k++}function R(P,k){this.g=P,this.h=k}function z(P,k){if(w(k))throw Error("division by zero");if(w(P))return new R(m,m);if(S(P))return k=z(T(P),k),new R(T(k.g),T(k.h));if(S(k))return k=z(P,T(k)),new R(T(k.g),k.h);if(30<P.g.length){if(S(P)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var M=y,F=k;0>=F.l(P);)M=H(M),F=H(F);var $=j(M,1),N=j(F,1);for(F=j(F,2),M=j(M,2);!w(F);){var V=N.add(F);0>=V.l(P)&&($=$.add(M),N=V),F=j(F,1),M=j(M,1)}return k=O(P,$.j(k)),new R($,k)}for($=m;0<=P.l(k);){for(M=Math.max(1,Math.floor(P.m()/k.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),N=h(M),V=N.j(k);S(V)||0<V.l(P);)M-=F,N=h(M),V=N.j(k);w(N)&&(N=y),$=$.add(N),P=O(P,V)}return new R($,P)}r.A=function(P){return z(this,P).h},r.and=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0;F<k;F++)M[F]=this.i(F)&P.i(F);return new l(M,this.h&P.h)},r.or=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0;F<k;F++)M[F]=this.i(F)|P.i(F);return new l(M,this.h|P.h)},r.xor=function(P){for(var k=Math.max(this.g.length,P.g.length),M=[],F=0;F<k;F++)M[F]=this.i(F)^P.i(F);return new l(M,this.h^P.h)};function H(P){for(var k=P.g.length+1,M=[],F=0;F<k;F++)M[F]=P.i(F)<<1|P.i(F-1)>>>31;return new l(M,P.h)}function j(P,k){var M=k>>5;k%=32;for(var F=P.g.length-M,$=[],N=0;N<F;N++)$[N]=0<k?P.i(N+M)>>>k|P.i(N+M+1)<<32-k:P.i(N+M);return new l($,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,US=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=d,Do=l}).apply(typeof Ib<"u"?Ib:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS,lc,jS,Pf,Lg,$S,zS,WS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,A,D){return p==Array.prototype||p==Object.prototype||(p[A]=D.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var A=0;A<p.length;++A){var D=p[A];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var n=t(this);function s(p,A){if(A)e:{var D=n;p=p.split(".");for(var K=0;K<p.length-1;K++){var xe=p[K];if(!(xe in D))break e;D=D[xe]}p=p[p.length-1],K=D[p],A=A(K),A!=K&&A!=null&&e(D,p,{configurable:!0,writable:!0,value:A})}}function o(p,A){p instanceof String&&(p+="");var D=0,K=!1,xe={next:function(){if(!K&&D<p.length){var Oe=D++;return{value:A(Oe,p[Oe]),done:!1}}return K=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}s("Array.prototype.values",function(p){return p||function(){return o(this,function(A,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function c(p){var A=typeof p;return A=A!="object"?A:p?Array.isArray(p)?"array":A:"null",A=="array"||A=="object"&&typeof p.length=="number"}function h(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function d(p,A,D){return p.call.apply(p.bind,arguments)}function m(p,A,D){if(!p)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,K),p.apply(A,xe)}}return function(){return p.apply(A,arguments)}}function y(p,A,D){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,y.apply(null,arguments)}function v(p,A){var D=Array.prototype.slice.call(arguments,1);return function(){var K=D.slice();return K.push.apply(K,arguments),p.apply(this,K)}}function w(p,A){function D(){}D.prototype=A.prototype,p.aa=A.prototype,p.prototype=new D,p.prototype.constructor=p,p.Qb=function(K,xe,Oe){for(var it=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)it[qt-2]=arguments[qt];return A.prototype[xe].apply(K,it)}}function S(p){const A=p.length;if(0<A){const D=Array(A);for(let K=0;K<A;K++)D[K]=p[K];return D}return[]}function T(p,A){for(let D=1;D<arguments.length;D++){const K=arguments[D];if(c(K)){const xe=p.length||0,Oe=K.length||0;p.length=xe+Oe;for(let it=0;it<Oe;it++)p[xe+it]=K[it]}else p.push(K)}}class O{constructor(A,D){this.i=A,this.j=D,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function x(p){return/^[\s\xa0]*$/.test(p)}function R(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var H=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function j(p,A,D){for(const K in p)A.call(D,p[K],K,p)}function P(p,A){for(const D in p)A.call(void 0,p[D],D,p)}function k(p){const A={};for(const D in p)A[D]=p[D];return A}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,A){let D,K;for(let xe=1;xe<arguments.length;xe++){K=arguments[xe];for(D in K)p[D]=K[D];for(let Oe=0;Oe<M.length;Oe++)D=M[Oe],Object.prototype.hasOwnProperty.call(K,D)&&(p[D]=K[D])}}function $(p){var A=1;p=p.split(":");const D=[];for(;0<A&&p.length;)D.push(p.shift()),A--;return p.length&&D.push(p.join(":")),D}function N(p){u.setTimeout(()=>{throw p},0)}function V(){var p=Ne;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class _e{constructor(){this.h=this.g=null}add(A,D){const K=ae.get();K.set(A,D),this.h?this.h.next=K:this.g=K,this.h=K}}var ae=new O(()=>new De,p=>p.reset());class De{constructor(){this.next=this.g=this.h=null}set(A,D){this.h=A,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,fe=!1,Ne=new _e,ie=()=>{const p=u.Promise.resolve(void 0);ke=()=>{p.then(J)}};var J=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(D){N(D)}var A=ae;A.j(p),100>A.h&&(A.h++,p.next=A.g,A.g=p)}fe=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const D=()=>{};u.addEventListener("test",D,A),u.removeEventListener("test",D,A)}catch{}return p}();function oe(p,A){if(Ee.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var D=this.type=p.type,K=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget){if(H){e:{try{z(A.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(A=null)}}else D=="mouseover"?A=p.fromElement:D=="mouseout"&&(A=p.toElement);this.relatedTarget=A,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:qe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&oe.aa.h.call(this)}}w(oe,Ee);var qe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),te=0;function Ae(p,A,D,K,xe){this.listener=p,this.proxy=null,this.src=A,this.type=D,this.capture=!!K,this.ha=xe,this.key=++te,this.da=this.fa=!1}function de(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ge(p){this.src=p,this.g={},this.h=0}ge.prototype.add=function(p,A,D,K,xe){var Oe=p.toString();p=this.g[Oe],p||(p=this.g[Oe]=[],this.h++);var it=Ve(p,A,K,xe);return-1<it?(A=p[it],D||(A.fa=!1)):(A=new Ae(A,this.src,Oe,!!K,xe),A.fa=D,p.push(A)),A};function we(p,A){var D=A.type;if(D in p.g){var K=p.g[D],xe=Array.prototype.indexOf.call(K,A,void 0),Oe;(Oe=0<=xe)&&Array.prototype.splice.call(K,xe,1),Oe&&(de(A),p.g[D].length==0&&(delete p.g[D],p.h--))}}function Ve(p,A,D,K){for(var xe=0;xe<p.length;++xe){var Oe=p[xe];if(!Oe.da&&Oe.listener==A&&Oe.capture==!!D&&Oe.ha==K)return xe}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),se={};function ue(p,A,D,K,xe){if(Array.isArray(A)){for(var Oe=0;Oe<A.length;Oe++)ue(p,A[Oe],D,K,xe);return null}return D=Xe(D),p&&p[ce]?p.K(A,D,h(K)?!!K.capture:!1,xe):Ie(p,A,D,!1,K,xe)}function Ie(p,A,D,K,xe,Oe){if(!A)throw Error("Invalid event type");var it=h(xe)?!!xe.capture:!!xe,qt=be(p);if(qt||(p[Me]=qt=new ge(p)),D=qt.add(A,D,K,it,Oe),D.proxy)return D;if(K=Q(),D.proxy=K,K.src=p,K.listener=D,p.addEventListener)Le||(xe=it),xe===void 0&&(xe=!1),p.addEventListener(A.toString(),K,xe);else if(p.attachEvent)p.attachEvent(Y(A.toString()),K);else if(p.addListener&&p.removeListener)p.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Q(){function p(D){return A.call(p.src,p.listener,D)}const A=pe;return p}function X(p,A,D,K,xe){if(Array.isArray(A))for(var Oe=0;Oe<A.length;Oe++)X(p,A[Oe],D,K,xe);else K=h(K)?!!K.capture:!!K,D=Xe(D),p&&p[ce]?(p=p.i,A=String(A).toString(),A in p.g&&(Oe=p.g[A],D=Ve(Oe,D,K,xe),-1<D&&(de(Oe[D]),Array.prototype.splice.call(Oe,D,1),Oe.length==0&&(delete p.g[A],p.h--)))):p&&(p=be(p))&&(A=p.g[A.toString()],p=-1,A&&(p=Ve(A,D,K,xe)),(D=-1<p?A[p]:null)&&ne(D))}function ne(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[ce])we(A.i,p);else{var D=p.type,K=p.proxy;A.removeEventListener?A.removeEventListener(D,K,p.capture):A.detachEvent?A.detachEvent(Y(D),K):A.addListener&&A.removeListener&&A.removeListener(K),(D=be(A))?(we(D,p),D.h==0&&(D.src=null,A[Me]=null)):de(p)}}}function Y(p){return p in se?se[p]:se[p]="on"+p}function pe(p,A){if(p.da)p=!0;else{A=new oe(A,this);var D=p.listener,K=p.ha||p.src;p.fa&&ne(p),p=D.call(K,A)}return p}function be(p){return p=p[Me],p instanceof ge?p:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(p){return typeof p=="function"?p:(p[ye]||(p[ye]=function(A){return p.handleEvent(A)}),p[ye])}function _(){W.call(this),this.i=new ge(this),this.M=this,this.F=null}w(_,W),_.prototype[ce]=!0,_.prototype.removeEventListener=function(p,A,D,K){X(this,p,A,D,K)};function E(p,A){var D,K=p.F;if(K)for(D=[];K;K=K.F)D.push(K);if(p=p.M,K=A.type||A,typeof A=="string")A=new Ee(A,p);else if(A instanceof Ee)A.target=A.target||p;else{var xe=A;A=new Ee(K,p),F(A,xe)}if(xe=!0,D)for(var Oe=D.length-1;0<=Oe;Oe--){var it=A.g=D[Oe];xe=C(it,K,!0,A)&&xe}if(it=A.g=p,xe=C(it,K,!0,A)&&xe,xe=C(it,K,!1,A)&&xe,D)for(Oe=0;Oe<D.length;Oe++)it=A.g=D[Oe],xe=C(it,K,!1,A)&&xe}_.prototype.N=function(){if(_.aa.N.call(this),this.i){var p=this.i,A;for(A in p.g){for(var D=p.g[A],K=0;K<D.length;K++)de(D[K]);delete p.g[A],p.h--}}this.F=null},_.prototype.K=function(p,A,D,K){return this.i.add(String(p),A,!1,D,K)},_.prototype.L=function(p,A,D,K){return this.i.add(String(p),A,!0,D,K)};function C(p,A,D,K){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();for(var xe=!0,Oe=0;Oe<A.length;++Oe){var it=A[Oe];if(it&&!it.da&&it.capture==D){var qt=it.listener,Nr=it.ha||it.src;it.fa&&we(p.i,it),xe=qt.call(Nr,K)!==!1&&xe}}return xe&&!K.defaultPrevented}function q(p,A,D){if(typeof p=="function")D&&(p=y(p,D));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(p,A||0)}function ee(p){p.g=q(()=>{p.g=null,p.i&&(p.i=!1,ee(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class le extends W{constructor(A,D){super(),this.m=A,this.l=D,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(p){W.call(this),this.h=p,this.g={}}w(Se,W);var Ze=[];function et(p){j(p.g,function(A,D){this.g.hasOwnProperty(D)&&ne(A)},p),p.g={}}Se.prototype.N=function(){Se.aa.N.call(this),et(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=u.JSON.stringify,bt=u.JSON.parse,gt=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Br(){}Br.prototype.h=null;function _r(p){return p.h||(p.h=p.i())}function Tr(){}var kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wt(){Ee.call(this,"d")}w(Wt,Ee);function mt(){Ee.call(this,"c")}w(mt,Ee);var Pt={},mr=null;function Gt(){return mr=mr||new _}Pt.La="serverreachability";function wr(p){Ee.call(this,Pt.La,p)}w(wr,Ee);function jr(p){const A=Gt();E(A,new wr(A))}Pt.STAT_EVENT="statevent";function G(p,A){Ee.call(this,Pt.STAT_EVENT,p),this.stat=A}w(G,Ee);function Z(p){const A=Gt();E(A,new G(A,p))}Pt.Ma="timingevent";function Ge(p,A){Ee.call(this,Pt.Ma,p),this.size=A}w(Ge,Ee);function rt(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},A)}function st(){this.g=!0}st.prototype.xa=function(){this.g=!1};function nr(p,A,D,K,xe,Oe){p.info(function(){if(p.g)if(Oe)for(var it="",qt=Oe.split("&"),Nr=0;Nr<qt.length;Nr++){var Lt=qt[Nr].split("=");if(1<Lt.length){var $r=Lt[0];Lt=Lt[1];var xr=$r.split("_");it=2<=xr.length&&xr[1]=="type"?it+($r+"="+Lt+"&"):it+($r+"=redacted&")}}else it=null;else it=Oe;return"XMLHTTP REQ ("+K+") [attempt "+xe+"]: "+A+`
`+D+`
`+it})}function kr(p,A,D,K,xe,Oe,it){p.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+xe+"]: "+A+`
`+D+`
`+Oe+" "+it})}function Pr(p,A,D,K){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+wu(p,D)+(K?" "+K:"")})}function Ws(p,A){p.info(function(){return"TIMEOUT: "+A})}st.prototype.info=function(){};function wu(p,A){if(!p.g)return A;if(!A)return null;try{var D=JSON.parse(A);if(D){for(p=0;p<D.length;p++)if(Array.isArray(D[p])){var K=D[p];if(!(2>K.length)){var xe=K[1];if(Array.isArray(xe)&&!(1>xe.length)){var Oe=xe[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var it=1;it<xe.length;it++)xe[it]=""}}}}return ft(D)}catch{return A}}var as={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function hi(){}w(hi,Br),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},pn=new hi;function mn(p,A,D,K){this.j=p,this.i=A,this.l=D,this.R=K||1,this.U=new Se(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var Bn={},rn={};function Ya(p,A,D){p.L=1,p.v=Gs($n(A)),p.m=D,p.P=!0,bu(p,null)}function bu(p,A){p.F=Date.now(),Jt(p),p.A=$n(p.v);var D=p.A,K=p.R;Array.isArray(K)||(K=[String(K)]),Js(D.i,"t",K),p.C=0,D=p.j.J,p.h=new Di,p.g=gh(p.j,D?A:null,!p.m),0<p.O&&(p.M=new le(y(p.Y,p,p.g),p.O)),A=p.U,D=p.g,K=p.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(Ze[0]=xe.toString()),xe=Ze);for(var Oe=0;Oe<xe.length;Oe++){var it=ue(D,xe[Oe],K||A.handleEvent,!1,A.h||A);if(!it)break;A.g[it.key]=it}A=p.H?k(p.H):{},p.m?(p.u||(p.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,A)):(p.u="GET",p.g.ea(p.A,p.u,null,A)),jr(),nr(p.i,p.u,p.A,p.l,p.R,p.m)}mn.prototype.ca=function(p){p=p.target;const A=this.M;A&&In(p)==3?A.j():this.Y(p)},mn.prototype.Y=function(p){try{if(p==this.g)e:{const xr=In(this.g);var A=this.g.Ba();const Xn=this.g.Z();if(!(3>xr)&&(xr!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||xr!=4||A==7||(A==8||0>=Xn?jr(3):jr(2)),Ho(this);var D=this.g.Z();this.X=D;t:if(Zc(this)){var K=Iu(this.g);p="";var xe=K.length,Oe=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),qs(this);var it="";break t}this.h.i=new u.TextDecoder}for(A=0;A<xe;A++)this.h.h=!0,p+=this.h.i.decode(K[A],{stream:!(Oe&&A==xe-1)});K.length=0,this.h.g+=p,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=D==200,kr(this.i,this.u,this.A,this.l,this.R,xr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,Nr=this.g;if((qt=Nr.g?Nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(qt)){var Lt=qt;break t}}Lt=null}if(D=Lt)Pr(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eu(this,D);else{this.o=!1,this.s=3,Z(12),Yn(this),qs(this);break e}}if(this.P){D=!0;let Wn;for(;!this.J&&this.C<it.length;)if(Wn=ep(this,it),Wn==rn){xr==4&&(this.s=4,Z(14),D=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Bn){this.s=4,Z(15),Pr(this.i,this.l,it,"[Invalid Chunk]"),D=!1;break}else Pr(this.i,this.l,Wn,null),Eu(this,Wn);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xr!=4||it.length!=0||this.h.h||(this.s=1,Z(16),D=!1),this.o=this.o&&D,!D)Pr(this.i,this.l,it,"[Invalid Chunked Response]"),Yn(this),qs(this);else if(0<it.length&&!this.W){this.W=!0;var $r=this.j;$r.g==this&&$r.ba&&!$r.M&&($r.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),Ru($r),$r.M=!0,Z(11))}}else Pr(this.i,this.l,it,null),Eu(this,it);xr==4&&Yn(this),this.o&&!this.J&&(xr==4?al(this.j,this):(this.o=!1,Jt(this)))}else rl(this.g),D==400&&0<it.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Yn(this),qs(this)}}}catch{}finally{}};function Zc(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ep(p,A){var D=p.C,K=A.indexOf(`
`,D);return K==-1?rn:(D=Number(A.substring(D,K)),isNaN(D)?Bn:(K+=1,K+D>A.length?rn:(A=A.slice(K,K+D),p.C=K+D,A)))}mn.prototype.cancel=function(){this.J=!0,Yn(this)};function Jt(p){p.S=Date.now()+p.I,eh(p,p.I)}function eh(p,A){if(p.B!=null)throw Error("WatchDog timer not null");p.B=rt(y(p.ba,p),A)}function Ho(p){p.B&&(u.clearTimeout(p.B),p.B=null)}mn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ws(this.i,this.A),this.L!=2&&(jr(),Z(17)),Yn(this),this.s=2,qs(this)):eh(this,this.S-p)};function qs(p){p.j.G==0||p.J||al(p.j,p)}function Yn(p){Ho(p);var A=p.M;A&&typeof A.ma=="function"&&A.ma(),p.M=null,et(p.U),p.g&&(A=p.g,p.g=null,A.abort(),A.ma())}function Eu(p,A){try{var D=p.j;if(D.G!=0&&(D.g==p||gn(D.h,p))){if(!p.K&&gn(D.h,p)&&D.G==3){try{var K=D.Da.g.parse(A)}catch{K=null}if(Array.isArray(K)&&K.length==3){var xe=K;if(xe[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<p.F)ol(D),gi(D);else break e;sl(D),Z(18)}}else D.za=xe[1],0<D.za-D.T&&37500>xe[2]&&D.F&&D.v==0&&!D.C&&(D.C=rt(y(D.Za,D),6e3));if(1>=rh(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else fs(D,11)}else if((p.K||D.g==p)&&ol(D),!x(A))for(xe=D.Da.g.parse(A),A=0;A<xe.length;A++){let Lt=xe[A];if(D.T=Lt[0],Lt=Lt[1],D.G==2)if(Lt[0]=="c"){D.K=Lt[1],D.ia=Lt[2];const $r=Lt[3];$r!=null&&(D.la=$r,D.j.info("VER="+D.la));const xr=Lt[4];xr!=null&&(D.Aa=xr,D.j.info("SVER="+D.Aa));const Xn=Lt[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(K=1.5*Xn,D.L=K,D.j.info("backChannelRequestTimeoutMs_="+K)),K=D;const Wn=p.g;if(Wn){const Zo=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zo){var Oe=K.h;Oe.g||Zo.indexOf("spdy")==-1&&Zo.indexOf("quic")==-1&&Zo.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Su(Oe,Oe.h),Oe.h=null))}if(K.D){const ul=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(K.ya=ul,Yt(K.I,K.D,ul))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-p.F,D.j.info("Handshake RTT: "+D.R+"ms")),K=D;var it=p;if(K.qa=mh(K,K.J?K.ia:null,K.W),it.K){nh(K.h,it);var qt=it,Nr=K.L;Nr&&(qt.I=Nr),qt.B&&(Ho(qt),Jt(qt)),K.g=it}else Xo(K);0<D.i.length&&Vi(D)}else Lt[0]!="stop"&&Lt[0]!="close"||fs(D,7);else D.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?fs(D,7):Yr(D):Lt[0]!="noop"&&D.l&&D.l.ta(Lt),D.v=0)}}jr(4)}catch{}}var th=class{constructor(p,A){this.g=p,this.map=A}};function Qo(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rh(p){return p.h?1:p.g?p.g.size:0}function gn(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Su(p,A){p.g?p.g.add(A):p.h=A}function nh(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}Qo.prototype.cancel=function(){if(this.i=ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ih(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const D of p.g.values())A=A.concat(D.D);return A}return S(p.i)}function Ja(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var A=[],D=p.length,K=0;K<D;K++)A.push(p[K]);return A}A=[],D=0;for(K in p)A[D++]=p[K];return A}function Xa(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var A=[];p=p.length;for(var D=0;D<p;D++)A.push(D);return A}A=[],D=0;for(const K in p)A[D++]=K;return A}}}function Hs(p,A){if(p.forEach&&typeof p.forEach=="function")p.forEach(A,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,A,void 0);else for(var D=Xa(p),K=Ja(p),xe=K.length,Oe=0;Oe<xe;Oe++)A.call(void 0,K[Oe],D&&D[Oe],p)}var Ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tp(p,A){if(p){p=p.split("&");for(var D=0;D<p.length;D++){var K=p[D].indexOf("="),xe=null;if(0<=K){var Oe=p[D].substring(0,K);xe=p[D].substring(K+1)}else Oe=p[D];A(Oe,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function ls(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ls){this.h=p.h,Go(this,p.j),this.o=p.o,this.g=p.g,Qs(this,p.s),this.l=p.l;var A=p.i,D=new Li;D.i=A.i,A.g&&(D.g=new Map(A.g),D.h=A.h),Ks(this,D),this.m=p.m}else p&&(A=String(p).match(Ko))?(this.h=!1,Go(this,A[1]||"",!0),this.o=Ot(A[2]||""),this.g=Ot(A[3]||"",!0),Qs(this,A[4]),this.l=Ot(A[5]||"",!0),Ks(this,A[6]||"",!0),this.m=Ot(A[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}ls.prototype.toString=function(){var p=[],A=this.j;A&&p.push(Ys(A,Za,!0),":");var D=this.g;return(D||A=="file")&&(p.push("//"),(A=this.o)&&p.push(Ys(A,Za,!0),"@"),p.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&p.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&p.push("/"),p.push(Ys(D,D.charAt(0)=="/"?ah:oh,!0))),(D=this.i.toString())&&p.push("?",D),(D=this.m)&&p.push("#",Ys(D,Tu)),p.join("")};function $n(p){return new ls(p)}function Go(p,A,D){p.j=D?Ot(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function Qs(p,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);p.s=A}else p.s=null}function Ks(p,A,D){A instanceof Li?(p.i=A,Mi(p.i,p.h)):(D||(A=Ys(A,lh)),p.i=new Li(A,p.h))}function Yt(p,A,D){p.i.set(A,D)}function Gs(p){return Yt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ot(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ys(p,A,D){return typeof p=="string"?(p=encodeURI(p).replace(A,sh),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function sh(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Za=/[#\/\?@]/g,oh=/[#\?:]/g,ah=/[#\?]/g,lh=/[#\?@]/g,Tu=/#/g;function Li(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function Gr(p){p.g||(p.g=new Map,p.h=0,p.i&&tp(p.i,function(A,D){p.add(decodeURIComponent(A.replace(/\+/g," ")),D)}))}r=Li.prototype,r.add=function(p,A){Gr(this),this.i=null,p=Jn(this,p);var D=this.g.get(p);return D||this.g.set(p,D=[]),D.push(A),this.h+=1,this};function fi(p,A){Gr(p),A=Jn(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function di(p,A){return Gr(p),A=Jn(p,A),p.g.has(A)}r.forEach=function(p,A){Gr(this),this.g.forEach(function(D,K){D.forEach(function(xe){p.call(A,xe,K,this)},this)},this)},r.na=function(){Gr(this);const p=Array.from(this.g.values()),A=Array.from(this.g.keys()),D=[];for(let K=0;K<A.length;K++){const xe=p[K];for(let Oe=0;Oe<xe.length;Oe++)D.push(A[K])}return D},r.V=function(p){Gr(this);let A=[];if(typeof p=="string")di(this,p)&&(A=A.concat(this.g.get(Jn(this,p))));else{p=Array.from(this.g.values());for(let D=0;D<p.length;D++)A=A.concat(p[D])}return A},r.set=function(p,A){return Gr(this),this.i=null,p=Jn(this,p),di(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},r.get=function(p,A){return p?(p=this.V(p),0<p.length?String(p[0]):A):A};function Js(p,A,D){fi(p,A),0<D.length&&(p.i=null,p.g.set(Jn(p,A),S(D)),p.h+=D.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(var D=0;D<A.length;D++){var K=A[D];const Oe=encodeURIComponent(String(K)),it=this.V(K);for(K=0;K<it.length;K++){var xe=Oe;it[K]!==""&&(xe+="="+encodeURIComponent(String(it[K]))),p.push(xe)}}return this.i=p.join("&")};function Jn(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function Mi(p,A){A&&!p.j&&(Gr(p),p.i=null,p.g.forEach(function(D,K){var xe=K.toLowerCase();K!=xe&&(fi(this,K),Js(this,xe,D))},p)),p.j=A}function rp(p,A){const D=new st;if(u.Image){const K=new Image;K.onload=v(An,D,"TestLoadImage: loaded",!0,A,K),K.onerror=v(An,D,"TestLoadImage: error",!1,A,K),K.onabort=v(An,D,"TestLoadImage: abort",!1,A,K),K.ontimeout=v(An,D,"TestLoadImage: timeout",!1,A,K),u.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=p}else A(!1)}function uh(p,A){const D=new st,K=new AbortController,xe=setTimeout(()=>{K.abort(),An(D,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:K.signal}).then(Oe=>{clearTimeout(xe),Oe.ok?An(D,"TestPingServer: ok",!0,A):An(D,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(xe),An(D,"TestPingServer: error",!1,A)})}function An(p,A,D,K,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),K(D)}catch{}}function np(){this.g=new gt}function ch(p,A,D){const K=D||"";try{Hs(p,function(xe,Oe){let it=xe;h(xe)&&(it=ft(xe)),A.push(K+Oe+"="+encodeURIComponent(it))})}catch(xe){throw A.push(K+"type="+encodeURIComponent("_badmap")),xe}}function us(p){this.l=p.Ub||null,this.j=p.eb||!1}w(us,Br),us.prototype.g=function(){return new Yo(this.l,this.j)},us.prototype.i=function(p){return function(){return p}}({});function Yo(p,A){_.call(this),this.D=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Yo,_),r=Yo.prototype,r.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=A,this.readyState=1,mi(this)},r.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(A.body=p),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},r.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function hh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}r.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?pi(this):mi(this),this.readyState==3&&hh(this)}},r.Ra=function(p){this.g&&(this.response=this.responseText=p,pi(this))},r.Qa=function(p){this.g&&(this.response=p,pi(this))},r.ga=function(){this.g&&pi(this)};function pi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,mi(p)}r.setRequestHeader=function(p,A){this.u.append(p,A)},r.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var D=A.next();!D.done;)D=D.value,p.push(D[0]+": "+D[1]),D=A.next();return p.join(`\r
`)};function mi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function cs(p){let A="";return j(p,function(D,K){A+=K,A+=":",A+=D,A+=`\r
`}),A}function Xs(p,A,D){e:{for(K in D){var K=!1;break e}K=!0}K||(D=cs(D),typeof p=="string"?D!=null&&encodeURIComponent(String(D)):Yt(p,A,D))}function ir(p){_.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ir,_);var ip=/^https?$/i,xu=["POST","PUT"];r=ir.prototype,r.Ha=function(p){this.J=p},r.ea=function(p,A,D,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?_r(this.o):_r(pn),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(Oe){Jo(this,Oe);return}if(p=D||"",D=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var xe in K)D.set(xe,K[xe]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Oe of K.keys())D.set(Oe,K.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(D.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),xe=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(xu,A,void 0))||K||xe||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,it]of D)this.g.setRequestHeader(Oe,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tl(this),this.u=!0,this.g.send(p),this.u=!1}catch(Oe){Jo(this,Oe)}};function Jo(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.m=5,el(p),zn(p)}function el(p){p.A||(p.A=!0,E(p,"complete"),E(p,"error"))}r.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,E(this,"complete"),E(this,"abort"),zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),ir.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Au(this):this.bb())},r.bb=function(){Au(this)};function Au(p){if(p.h&&typeof l<"u"&&(!p.v[1]||In(p)!=4||p.Z()!=2)){if(p.u&&In(p)==4)q(p.Ea,0,p);else if(E(p,"readystatechange"),In(p)==4){p.h=!1;try{const it=p.Z();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var D;if(!(D=A)){var K;if(K=it===0){var xe=String(p.D).match(Ko)[1]||null;!xe&&u.self&&u.self.location&&(xe=u.self.location.protocol.slice(0,-1)),K=!ip.test(xe?xe.toLowerCase():"")}D=K}if(D)E(p,"complete"),E(p,"success");else{p.m=6;try{var Oe=2<In(p)?p.g.statusText:""}catch{Oe=""}p.l=Oe+" ["+p.Z()+"]",el(p)}}finally{zn(p)}}}}function zn(p,A){if(p.g){tl(p);const D=p.g,K=p.v[0]?()=>{}:null;p.g=null,p.v=null,A||E(p,"ready");try{D.onreadystatechange=K}catch{}}}function tl(p){p.I&&(u.clearTimeout(p.I),p.I=null)}r.isActive=function(){return!!this.g};function In(p){return p.g?p.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),bt(A)}};function Iu(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function rl(p){const A={};p=(p.g&&2<=In(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<p.length;K++){if(x(p[K]))continue;var D=$(p[K]);const xe=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Oe=A[xe]||[];A[xe]=Oe,Oe.push(D)}P(A,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(p,A,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||A}function Cu(p){this.Aa=0,this.i=[],this.j=new st,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fi("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fi("baseRetryDelayMs",5e3,p),this.cb=Fi("retryDelaySeedMs",1e4,p),this.Wa=Fi("forwardChannelMaxRetries",2,p),this.wa=Fi("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(p&&p.concurrentRequestLimit),this.Da=new np,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Cu.prototype,r.la=8,r.G=1,r.connect=function(p,A,D,K){Z(0),this.W=p,this.H=A||{},D&&K!==void 0&&(this.H.OSID=D,this.H.OAID=K),this.F=this.X,this.I=mh(this,null,this.W),Vi(this)};function Yr(p){if(nl(p),p.G==3){var A=p.U++,D=$n(p.I);if(Yt(D,"SID",p.K),Yt(D,"RID",A),Yt(D,"TYPE","terminate"),hs(p,D),A=new mn(p,p.j,A),A.L=2,A.v=Gs($n(D)),D=!1,u.navigator&&u.navigator.sendBeacon)try{D=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!D&&u.Image&&(new Image().src=A.v,D=!0),D||(A.g=gh(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Jt(A)}ph(p)}function gi(p){p.g&&(Ru(p),p.g.cancel(),p.g=null)}function nl(p){gi(p),p.u&&(u.clearTimeout(p.u),p.u=null),ol(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Vi(p){if(!jn(p.h)&&!p.s){p.s=!0;var A=p.Ga;ke||ie(),fe||(ke(),fe=!0),Ne.add(A,p),p.B=0}}function sp(p,A){return rh(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=A.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=rt(y(p.Ga,p,A),dh(p,p.B)),p.B++,!0)}r.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const xe=new mn(this,this.j,p);let Oe=this.o;if(this.S&&(Oe?(Oe=k(Oe),F(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(xe.H=Oe,Oe=null),this.P)e:{for(var A=0,D=0;D<this.i.length;D++){t:{var K=this.i[D];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(A+=K,4096<A){A=D;break e}if(A===4096||D===this.i.length-1){A=D+1;break e}}A=1e3}else A=1e3;A=Zs(this,xe,A),D=$n(this.I),Yt(D,"RID",p),Yt(D,"CVER",22),this.D&&Yt(D,"X-HTTP-Session-Id",this.D),hs(this,D),Oe&&(this.O?A="headers="+encodeURIComponent(String(cs(Oe)))+"&"+A:this.m&&Xs(D,this.m,Oe)),Su(this.h,xe),this.Ua&&Yt(D,"TYPE","init"),this.P?(Yt(D,"$req",A),Yt(D,"SID","null"),xe.T=!0,Ya(xe,D,null)):Ya(xe,D,A),this.G=2}}else this.G==3&&(p?il(this,p):this.i.length==0||jn(this.h)||il(this))};function il(p,A){var D;A?D=A.l:D=p.U++;const K=$n(p.I);Yt(K,"SID",p.K),Yt(K,"RID",D),Yt(K,"AID",p.T),hs(p,K),p.m&&p.o&&Xs(K,p.m,p.o),D=new mn(p,p.j,D,p.B+1),p.m===null&&(D.H=p.o),A&&(p.i=A.D.concat(p.i)),A=Zs(p,D,1e3),D.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Su(p.h,D),Ya(D,K,A)}function hs(p,A){p.H&&j(p.H,function(D,K){Yt(A,K,D)}),p.l&&Hs({},function(D,K){Yt(A,K,D)})}function Zs(p,A,D){D=Math.min(p.i.length,D);var K=p.l?y(p.l.Na,p.l,p):null;e:{var xe=p.i;let Oe=-1;for(;;){const it=["count="+D];Oe==-1?0<D?(Oe=xe[0].g,it.push("ofs="+Oe)):Oe=0:it.push("ofs="+Oe);let qt=!0;for(let Nr=0;Nr<D;Nr++){let Lt=xe[Nr].g;const $r=xe[Nr].map;if(Lt-=Oe,0>Lt)Oe=Math.max(0,xe[Nr].g-100),qt=!1;else try{ch($r,it,"req"+Lt+"_")}catch{K&&K($r)}}if(qt){K=it.join("&");break e}}}return p=p.i.splice(0,D),A.D=p,K}function Xo(p){if(!p.g&&!p.u){p.Y=1;var A=p.Fa;ke||ie(),fe||(ke(),fe=!0),Ne.add(A,p),p.v=0}}function sl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=rt(y(p.Fa,p),dh(p,p.v)),p.v++,!0)}r.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=rt(y(this.ab,this),p)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),gi(this),fh(this))};function Ru(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function fh(p){p.g=new mn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var A=$n(p.qa);Yt(A,"RID","rpc"),Yt(A,"SID",p.K),Yt(A,"AID",p.T),Yt(A,"CI",p.F?"0":"1"),!p.F&&p.ja&&Yt(A,"TO",p.ja),Yt(A,"TYPE","xmlhttp"),hs(p,A),p.m&&p.o&&Xs(A,p.m,p.o),p.L&&(p.g.I=p.L);var D=p.g;p=p.ia,D.L=1,D.v=Gs($n(A)),D.m=null,D.P=!0,bu(D,p)}r.Za=function(){this.C!=null&&(this.C=null,gi(this),sl(this),Z(19))};function ol(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function al(p,A){var D=null;if(p.g==A){ol(p),Ru(p),p.g=null;var K=2}else if(gn(p.h,A))D=A.D,nh(p.h,A),K=1;else return;if(p.G!=0){if(A.o)if(K==1){D=A.m?A.m.length:0,A=Date.now()-A.F;var xe=p.B;K=Gt(),E(K,new Ge(K,D)),Vi(p)}else Xo(p);else if(xe=A.s,xe==3||xe==0&&0<A.X||!(K==1&&sp(p,A)||K==2&&sl(p)))switch(D&&0<D.length&&(A=p.h,A.i=A.i.concat(D)),xe){case 1:fs(p,5);break;case 4:fs(p,10);break;case 3:fs(p,6);break;default:fs(p,2)}}}function dh(p,A){let D=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(D*=2),D*A}function fs(p,A){if(p.j.info("Error code "+A),A==2){var D=y(p.fb,p),K=p.Xa;const xe=!K;K=new ls(K||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Go(K,"https"),Gs(K),xe?rp(K.toString(),D):uh(K.toString(),D)}else Z(2);p.G=0,p.l&&p.l.sa(A),ph(p),nl(p)}r.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function ph(p){if(p.G=0,p.ka=[],p.l){const A=ih(p.h);(A.length!=0||p.i.length!=0)&&(T(p.ka,A),T(p.ka,p.i),p.h.i.length=0,S(p.i),p.i.length=0),p.l.ra()}}function mh(p,A,D){var K=D instanceof ls?$n(D):new ls(D);if(K.g!="")A&&(K.g=A+"."+K.g),Qs(K,K.s);else{var xe=u.location;K=xe.protocol,A=A?A+"."+xe.hostname:xe.hostname,xe=+xe.port;var Oe=new ls(null);K&&Go(Oe,K),A&&(Oe.g=A),xe&&Qs(Oe,xe),D&&(Oe.l=D),K=Oe}return D=p.D,A=p.ya,D&&A&&Yt(K,D,A),Yt(K,"VER",p.la),hs(p,K),K}function gh(p,A,D){if(A&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Ca&&!p.pa?new ir(new us({eb:D})):new ir(p.pa),A.Ha(p.J),A}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ll(){}ll.prototype.g=function(p,A){return new yn(p,A)};function yn(p,A){_.call(this),this.g=new Cu(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(p?p["X-WebChannel-Client-Profile"]=A.va:p={"X-WebChannel-Client-Profile":A.va}),this.g.S=p,(p=A&&A.Sb)&&!x(p)&&(this.g.m=p),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!x(A)&&(this.g.D=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Ui(this)}w(yn,_),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yr(this.g)},yn.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var D={};D.__data__=p,p=D}else this.u&&(D={},D.__data__=ft(p),p=D);A.i.push(new th(A.Ya++,p)),A.G==3&&Vi(A)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yr(this.g),delete this.g,yn.aa.N.call(this)};function yh(p){Wt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const D in A){p=D;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}w(yh,Wt);function vh(){mt.call(this),this.status=1}w(vh,mt);function Ui(p){this.g=p}w(Ui,ku),Ui.prototype.ua=function(){E(this.g,"a")},Ui.prototype.ta=function(p){E(this.g,new yh(p))},Ui.prototype.sa=function(p){E(this.g,new vh)},Ui.prototype.ra=function(){E(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,WS=function(){return new ll},zS=function(){return Gt()},$S=Pt,Lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Pf=as,qo.COMPLETE="complete",jS=qo,Tr.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",_.prototype.listen=_.prototype.K,lc=Tr,ir.prototype.listenOnce=ir.prototype.L,ir.prototype.getLastError=ir.prototype.Ka,ir.prototype.getLastErrorCode=ir.prototype.Ba,ir.prototype.getStatus=ir.prototype.Z,ir.prototype.getResponseJson=ir.prototype.Oa,ir.prototype.getResponseText=ir.prototype.oa,ir.prototype.send=ir.prototype.ea,ir.prototype.setWithCredentials=ir.prototype.Ha,BS=ir}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const Cb="@firebase/firestore",Rb="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new OS("@firebase/firestore");function Nl(){return ja.logLevel}function at(r,...e){if(ja.logLevel<=Ft.DEBUG){const t=e.map(Mv);ja.debug(`Firestore (${du}): ${r}`,...t)}}function Fs(r,...e){if(ja.logLevel<=Ft.ERROR){const t=e.map(Mv);ja.error(`Firestore (${du}): ${r}`,...t)}}function eu(r,...e){if(ja.logLevel<=Ft.WARN){const t=e.map(Mv);ja.warn(`Firestore (${du}): ${r}`,...t)}}function Mv(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const e=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: `+r;throw Fs(e),new Error(e)}function zt(r,e){r||Et()}function xt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends fu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class SO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TO{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zt(this.o===void 0);let n=this.i;const s=c=>this.i!==n?(n=this.i,t(c)):Promise.resolve();let o=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oa,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oa)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(zt(typeof n.accessToken=="string"),new qS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string"),new hn(e)}}class xO{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class AO{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new xO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sO(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){zt(this.o===void 0);const n=o=>{o.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,at("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const s=o=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new kb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(zt(typeof t.token=="string"),this.R=t.token,new kb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=CO(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function It(r,e){return r<e?-1:r>e?1:0}function Mg(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),s=e.codePointAt(t);if(n!==s){if(n<128&&s<128)return It(n,s);{const o=HS(),l=RO(o.encode(Pb(r,t)),o.encode(Pb(e,t)));return l!==0?l:It(n,s)}}t+=n>65535?2:1}return It(r.length,e.length)}function Pb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function RO(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return It(r[t],e[t]);return It(r.length,e.length)}function tu(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=-62135596800,Ob=1e6;class Vr{static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ob);return new Vr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nb)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ob}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Vr(0,0))}static max(){return new Tt(new Vr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="__name__";class Hi{constructor(e,t,n){t===void 0?t=0:t>e.length&&Et(),n===void 0?n=e.length-t:n>e.length-t&&Et(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=Hi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return It(e.length,t.length)}static compareSegments(e,t){const n=Hi.isNumericId(e),s=Hi.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Hi.extractNumericId(e).compare(Hi.extractNumericId(t)):Mg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class ur extends Hi{construct(e,t,n){return new ur(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new ur(t)}static emptyPath(){return new ur([])}}const kO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hi{construct(e,t,n){return new en(e,t,n)}static isValidIdentifier(e){return kO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Db}static keyField(){return new en([Db])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new yt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new yt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(n+=u,s++):(o(),s++)}if(o(),l)throw new yt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(ur.fromString(e))}static fromName(e){return new wt(ur.fromString(e).popFirst(5))}static empty(){return new wt(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ur.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ur.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new ur(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function PO(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Tt.fromTimestamp(n===1e9?new Vr(t+1,0):new Vr(t,n));return new Mo(s,wt.empty(),e)}function NO(r){return new Mo(r.readTime,r.key,Rc)}class Mo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Mo(Tt.min(),wt.empty(),Rc)}static max(){return new Mo(Tt.max(),wt.empty(),Rc)}}function OO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=wt.comparator(r.documentKey,e.documentKey),t!==0?t:It(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r){if(r.code!==Ye.FAILED_PRECONDITION||r.message!==DO)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,n)=>{t(e)})}static reject(e){return new Be((t,n)=>{n(e)})}static waitFor(e){return new Be((t,n)=>{let s=0,o=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&t()},c=>n(c))}),l=!0,o===s&&t()})}static or(e){let t=Be.resolve(!1);for(const n of e)t=t.next(s=>s?Be.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,o)=>{n.push(t.call(this,s,o))}),this.waitFor(n)}static mapArray(e,t){return new Be((n,s)=>{const o=e.length,l=new Array(o);let u=0;for(let c=0;c<o;c++){const h=c;t(e[h]).next(d=>{l[h]=d,++u,u===o&&n(l)},d=>s(d))}})}static doWhile(e,t){return new Be((n,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):n()};o()})}}function MO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-1;function Ld(r){return r==null}function nd(r){return r===0&&1/r==-1/0}function FO(r){return typeof r=="number"&&Number.isInteger(r)&&!nd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="";function VO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Lb(e)),e=UO(r.get(t),e);return Lb(e)}function UO(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const o=r.charAt(s);switch(o){case"\0":t+="";break;case KS:t+="";break;default:t+=o}}return t}function Lb(r){return r+KS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function za(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function GS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??Zr.RED,this.left=s??Zr.EMPTY,this.right=o??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new Zr(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,t,n,s,o){return this}insert(e,t,n){return new Zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ur(this.comparator);return t.data=e,t}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Ur(en.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YS("Invalid base64 string: "+o):o}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const BO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(r){if(zt(!!r),typeof r=="string"){let e=0;const t=BO.exec(r);if(zt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Er(r.seconds),nanos:Er(r.nanos)}}function Er(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vo(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="server_timestamp",XS="__type__",ZS="__previous_value__",eT="__local_write_time__";function Vv(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[XS])===null||t===void 0?void 0:t.stringValue)===JS}function Md(r){const e=r.mapValue.fields[ZS];return Vv(e)?Md(e):e}function kc(r){const e=Fo(r.mapValue.fields[eT].timestampValue);return new Vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,n,s,o,l,u,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}const id="(default)";class Pc{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",$O="__max__",yf={mapValue:{}},rT="__vector__",sd="value";function Uo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vv(r)?4:WO(r)?9007199254740991:zO(r)?10:11:Et()}function is(r,e){if(r===e)return!0;const t=Uo(r);if(t!==Uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kc(r).isEqual(kc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Fo(s.timestampValue),u=Fo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,o){return Vo(s.bytesValue).isEqual(Vo(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return Er(s.geoPointValue.latitude)===Er(o.geoPointValue.latitude)&&Er(s.geoPointValue.longitude)===Er(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Er(s.integerValue)===Er(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Er(s.doubleValue),u=Er(o.doubleValue);return l===u?nd(l)===nd(u):isNaN(l)&&isNaN(u)}return!1}(r,e);case 9:return tu(r.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(Mb(l)!==Mb(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!is(l[c],u[c])))return!1;return!0}(r,e);default:return Et()}}function Nc(r,e){return(r.values||[]).find(t=>is(t,e))!==void 0}function ru(r,e){if(r===e)return 0;const t=Uo(r),n=Uo(e);if(t!==n)return It(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Er(o.integerValue||o.doubleValue),c=Er(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(r,e);case 3:return Vb(r.timestampValue,e.timestampValue);case 4:return Vb(kc(r),kc(e));case 5:return Mg(r.stringValue,e.stringValue);case 6:return function(o,l){const u=Vo(o),c=Vo(l);return u.compareTo(c)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),c=l.split("/");for(let h=0;h<u.length&&h<c.length;h++){const d=It(u[h],c[h]);if(d!==0)return d}return It(u.length,c.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const u=It(Er(o.latitude),Er(l.latitude));return u!==0?u:It(Er(o.longitude),Er(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ub(r.arrayValue,e.arrayValue);case 10:return function(o,l){var u,c,h,d;const m=o.fields||{},y=l.fields||{},v=(u=m[sd])===null||u===void 0?void 0:u.arrayValue,w=(c=y[sd])===null||c===void 0?void 0:c.arrayValue,S=It(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:Ub(v,w)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===yf.mapValue&&l===yf.mapValue)return 0;if(o===yf.mapValue)return 1;if(l===yf.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),h=l.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const y=Mg(c[m],d[m]);if(y!==0)return y;const v=ru(u[c[m]],h[d[m]]);if(v!==0)return v}return It(c.length,d.length)}(r.mapValue,e.mapValue);default:throw Et()}}function Vb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return It(r,e);const t=Fo(r),n=Fo(e),s=It(t.seconds,n.seconds);return s!==0?s:It(t.nanos,n.nanos)}function Ub(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=ru(t[s],n[s]);if(o)return o}return It(t.length,n.length)}function nu(r){return Fg(r)}function Fg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Fo(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Vo(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return wt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Fg(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of n)o?o=!1:s+=",",s+=`${l}:${Fg(t.fields[l])}`;return s+"}"}(r.mapValue):Et()}function Nf(r){switch(Uo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(r);return e?16+Nf(e):16;case 5:return 2*r.stringValue.length;case 6:return Vo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,o)=>s+Nf(o),0)}(r.arrayValue);case 10:case 11:return function(n){let s=0;return za(n.fields,(o,l)=>{s+=o.length+Nf(l)}),s}(r.mapValue);default:throw Et()}}function Vg(r){return!!r&&"integerValue"in r}function Uv(r){return!!r&&"arrayValue"in r}function Bb(r){return!!r&&"nullValue"in r}function jb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Of(r){return!!r&&"mapValue"in r}function zO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||t===void 0?void 0:t.stringValue)===rT}function mc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return za(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=mc(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function WO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$O}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=en.emptyPath(),n={},s=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,n,s),n={},s=[],t=u.popLast()}l?n[u.lastSegment()]=mc(l):s.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());Of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Of(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){za(t,(s,o)=>e[s]=o);for(const s of n)delete e[s]}clone(){return new ui(mc(this.value))}}function nT(r){const e=[];return za(r.fields,(t,n)=>{const s=new en([t]);if(Of(n)){const o=nT(n.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,n,s,o,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new fn(e,0,Tt.min(),Tt.min(),Tt.min(),ui.empty(),0)}static newFoundDocument(e,t,n,s){return new fn(e,1,t,Tt.min(),n,s,0)}static newNoDocument(e,t){return new fn(e,2,t,Tt.min(),Tt.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Tt.min(),Tt.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.position=e,this.inclusive=t}}function $b(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const o=e[s],l=r.position[s];if(o.field.isKeyField()?n=wt.comparator(wt.fromName(l.referenceValue),t.key):n=ru(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function zb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!is(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function qO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Fr extends iT{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new QO(e,t,n):t==="array-contains"?new YO(e,n):t==="in"?new JO(e,n):t==="not-in"?new XO(e,n):t==="array-contains-any"?new ZO(e,n):new Fr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new KO(e,n):new GO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ru(t,this.value)):t!==null&&Uo(this.value)===Uo(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends iT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ss(e,t)}matches(e){return sT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sT(r){return r.op==="and"}function oT(r){return HO(r)&&sT(r)}function HO(r){for(const e of r.filters)if(e instanceof ss)return!1;return!0}function Ug(r){if(r instanceof Fr)return r.field.canonicalString()+r.op.toString()+nu(r.value);if(oT(r))return r.filters.map(e=>Ug(e)).join(",");{const e=r.filters.map(t=>Ug(t)).join(",");return`${r.op}(${e})`}}function aT(r,e){return r instanceof Fr?function(n,s){return s instanceof Fr&&n.op===s.op&&n.field.isEqual(s.field)&&is(n.value,s.value)}(r,e):r instanceof ss?function(n,s){return s instanceof ss&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,l,u)=>o&&aT(l,s.filters[u]),!0):!1}(r,e):void Et()}function lT(r){return r instanceof Fr?function(t){return`${t.field.canonicalString()} ${t.op} ${nu(t.value)}`}(r):r instanceof ss?function(t){return t.op.toString()+" {"+t.getFilters().map(lT).join(" ,")+"}"}(r):"Filter"}class QO extends Fr{constructor(e,t,n){super(e,t,n),this.key=wt.fromName(n.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class KO extends Fr{constructor(e,t){super(e,"in",t),this.keys=uT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GO extends Fr{constructor(e,t){super(e,"not-in",t),this.keys=uT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>wt.fromName(n.referenceValue))}class YO extends Fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uv(t)&&Nc(t.arrayValue,this.value)}}class JO extends Fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nc(this.value.arrayValue,t)}}class XO extends Fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Nc(this.value.arrayValue,t)}}class ZO extends Fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Nc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t=null,n=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function Wb(r,e=null,t=[],n=[],s=null,o=null,l=null){return new eD(r,e,t,n,s,o,l)}function Bv(r){const e=xt(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Ug(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>nu(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>nu(n)).join(",")),e.le=t}return e.le}function jv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!qO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!aT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zb(r.startAt,e.startAt)&&zb(r.endAt,e.endAt)}function Bg(r){return wt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t=null,n=[],s=[],o=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tD(r,e,t,n,s,o,l,u){return new Fd(r,e,t,n,s,o,l,u)}function $v(r){return new Fd(r)}function qb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rD(r){return r.collectionGroup!==null}function gc(r){const e=xt(r);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ur(en.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new ad(o,n))}),t.has(en.keyField().canonicalString())||e.he.push(new ad(en.keyField(),n))}return e.he}function rs(r){const e=xt(r);return e.Pe||(e.Pe=nD(e,gc(r))),e.Pe}function nD(r,e){if(r.limitType==="F")return Wb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ad(s.field,o)});const t=r.endAt?new od(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new od(r.startAt.position,r.startAt.inclusive):null;return Wb(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function jg(r,e,t){return new Fd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Vd(r,e){return jv(rs(r),rs(e))&&r.limitType===e.limitType}function cT(r){return`${Bv(rs(r))}|lt:${r.limitType}`}function Ol(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>lT(s)).join(", ")}]`),Ld(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>nu(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>nu(s)).join(",")),`Target(${n})`}(rs(r))}; limitType=${r.limitType})`}function Ud(r,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):wt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,s){for(const o of gc(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(l,u,c){const h=$b(l,u,c);return l.inclusive?h<=0:h<0}(n.startAt,gc(n),s)||n.endAt&&!function(l,u,c){const h=$b(l,u,c);return l.inclusive?h>=0:h>0}(n.endAt,gc(n),s))}(r,e)}function iD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hT(r){return(e,t)=>{let n=!1;for(const s of gc(r)){const o=sD(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function sD(r,e,t){const n=r.field.isKeyField()?wt.comparator(e.key,t.key):function(o,l,u){const c=l.data.field(o),h=u.data.field(o);return c!==null&&h!==null?ru(c,h):Et()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(t,n)=>{for(const[s,o]of n)e(s,o)})}isEmpty(){return GS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new pr(wt.comparator);function Vs(){return oD}const fT=new pr(wt.comparator);function uc(...r){let e=fT;for(const t of r)e=e.insert(t.key,t);return e}function dT(r){let e=fT;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function _a(){return yc()}function pT(){return yc()}function yc(){return new Wa(r=>r.toString(),(r,e)=>r.isEqual(e))}const aD=new pr(wt.comparator),lD=new Ur(wt.comparator);function Nt(...r){let e=lD;for(const t of r)e=e.add(t);return e}const uD=new Ur(It);function cD(){return uD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function mT(r){return{integerValue:""+r}}function hD(r,e){return FO(e)?mT(e):zv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function fD(r,e,t){return r instanceof ld?function(s,o){const l={fields:{[XS]:{stringValue:JS},[eT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Vv(o)&&(o=Md(o)),o&&(l.fields[ZS]=o),{mapValue:l}}(t,e):r instanceof Oc?yT(r,e):r instanceof Dc?vT(r,e):function(s,o){const l=gT(s,o),u=Hb(l)+Hb(s.Ie);return Vg(l)&&Vg(s.Ie)?mT(u):zv(s.serializer,u)}(r,e)}function dD(r,e,t){return r instanceof Oc?yT(r,e):r instanceof Dc?vT(r,e):t}function gT(r,e){return r instanceof ud?function(n){return Vg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class ld extends Bd{}class Oc extends Bd{constructor(e){super(),this.elements=e}}function yT(r,e){const t=_T(e);for(const n of r.elements)t.some(s=>is(s,n))||t.push(n);return{arrayValue:{values:t}}}class Dc extends Bd{constructor(e){super(),this.elements=e}}function vT(r,e){let t=_T(e);for(const n of r.elements)t=t.filter(s=>!is(s,n));return{arrayValue:{values:t}}}class ud extends Bd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Hb(r){return Er(r.integerValue||r.doubleValue)}function _T(r){return Uv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pD(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof Oc&&s instanceof Oc||n instanceof Dc&&s instanceof Dc?tu(n.elements,s.elements,is):n instanceof ud&&s instanceof ud?is(n.Ie,s.Ie):n instanceof ld&&s instanceof ld}(r.transform,e.transform)}class mD{constructor(e,t){this.version=e,this.transformResults=t}}class Ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ns}static exists(e){return new Ns(void 0,e)}static updateTime(e){return new Ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jd{}function wT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ET(r.key,Ns.none()):new Qc(r.key,r.data,Ns.none());{const t=r.data,n=ui.empty();let s=new Ur(en.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),s=s.add(o)}return new qa(r.key,n,new Ri(s.toArray()),Ns.none())}}function gD(r,e,t){r instanceof Qc?function(s,o,l){const u=s.value.clone(),c=Kb(s.fieldTransforms,o,l.transformResults);u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(r,e,t):r instanceof qa?function(s,o,l){if(!Df(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Kb(s.fieldTransforms,o,l.transformResults),c=o.data;c.setAll(bT(s)),c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function vc(r,e,t,n){return r instanceof Qc?function(o,l,u,c){if(!Df(o.precondition,l))return u;const h=o.value.clone(),d=Gb(o.fieldTransforms,c,l);return h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(r,e,t,n):r instanceof qa?function(o,l,u,c){if(!Df(o.precondition,l))return u;const h=Gb(o.fieldTransforms,c,l),d=l.data;return d.setAll(bT(o)),d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(r,e,t,n):function(o,l,u){return Df(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(r,e,t)}function yD(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),o=gT(n.transform,s||null);o!=null&&(t===null&&(t=ui.empty()),t.set(n.field,o))}return t||null}function Qb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&tu(n,s,(o,l)=>pD(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qc extends jd{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qa extends jd{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bT(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Kb(r,e,t){const n=new Map;zt(r.length===t.length);for(let s=0;s<t.length;s++){const o=r[s],l=o.transform,u=e.data.field(o.field);n.set(o.field,dD(l,u,t[s]))}return n}function Gb(r,e,t){const n=new Map;for(const s of r){const o=s.transform,l=t.data.field(s.field);n.set(s.field,fD(o,l,e))}return n}class ET extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&gD(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pT();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(s.key)?null:u;const c=wT(l,u);c!==null&&n.set(s.key,c),l.isValidDocument()||l.convertToNoDocument(Tt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nt())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(t,n)=>Qb(t,n))&&tu(this.baseMutations,e.baseMutations,(t,n)=>Qb(t,n))}}class Wv{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){zt(e.mutations.length===n.length);let s=function(){return aD}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,n[l].version);return new Wv(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir,Mt;function ED(r){switch(r){case Ye.OK:return Et();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0;default:return Et()}}function ST(r){if(r===void 0)return Fs("GRPC error has no .code"),Ye.UNKNOWN;switch(r){case Ir.OK:return Ye.OK;case Ir.CANCELLED:return Ye.CANCELLED;case Ir.UNKNOWN:return Ye.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Ye.INTERNAL;case Ir.UNAVAILABLE:return Ye.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Ye.NOT_FOUND;case Ir.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case Ir.ABORTED:return Ye.ABORTED;case Ir.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case Ir.DATA_LOSS:return Ye.DATA_LOSS;default:return Et()}}(Mt=Ir||(Ir={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Do([4294967295,4294967295],0);function Yb(r){const e=HS().encode(r),t=new US;return t.update(e),new Uint8Array(t.digest())}function Jb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Do([t,n],0),new Do([s,o],0)]}class qv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cc(`Invalid padding: ${t}`);if(n<0)throw new cc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new cc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Do.fromNumber(this.Ee)}Ae(e,t,n){let s=e.add(t.multiply(Do.fromNumber(n)));return s.compare(SD)===1&&(s=new Do([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Yb(e),[n,s]=Jb(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(n,s,o);if(!this.Re(l))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new qv(o,s,t);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=Yb(e),[n,s]=Jb(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(n,s,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $d(Tt.min(),s,new pr(It),Vs(),Nt())}}class Kc{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kc(n,t,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,n,s){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=s}}class TT{constructor(e,t){this.targetId=e,this.ge=t}}class xT{constructor(e,t,n=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Xb{constructor(){this.pe=0,this.ye=Zb(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),t=Nt(),n=Nt();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Et()}}),new Kc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Zb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class TD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Vs(),this.$e=vf(),this.Ue=vf(),this.Ke=new pr(It)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,n=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(Bg(o))if(n===0){const l=new wt(o.path);this.ze(t,l,fn.newNoDocument(l,Tt.min()))}else zt(n===1);else{const l=this.et(t);if(l!==n){const u=this.tt(e),c=u?this.nt(u,e,l):1;if(c!==0){this.Ye(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let l,u;try{l=Vo(n).toUint8Array()}catch(c){if(c instanceof YS)return eu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new qv(l,s,o)}catch(c){return eu(c instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ee===0?null:u}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let s=0;return n.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&Bg(u.target)){const c=new wt(u.target.path);this._t(c).has(l)||this.ut(l,c)||this.ze(l,c,fn.newNoDocument(c,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let n=Nt();this.Ue.forEach((o,l)=>{let u=!0;l.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const s=new $d(e,t,this.Ke,this.Qe,n);return this.Qe=Vs(),this.$e=vf(),this.Ue=vf(),this.Ke=new pr(It),s}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xb,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ur(It),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ur(It),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||at("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function vf(){return new pr(wt.comparator)}function Zb(){return new pr(wt.comparator)}const xD={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ID={and:"AND",or:"OR"};class CD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $g(r,e){return r.useProto3Json||Ld(e)?e:{value:e}}function cd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RD(r,e){return cd(r,e.toTimestamp())}function ns(r){return zt(!!r),Tt.fromTimestamp(function(t){const n=Fo(t);return new Vr(n.seconds,n.nanos)}(r))}function Hv(r,e){return zg(r,e).canonicalString()}function zg(r,e){const t=function(s){return new ur(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function IT(r){const e=ur.fromString(r);return zt(NT(e)),e}function Wg(r,e){return Hv(r.databaseId,e.path)}function jm(r,e){const t=IT(e);if(t.get(1)!==r.databaseId.projectId)throw new yt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new yt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new wt(RT(t))}function CT(r,e){return Hv(r.databaseId,e)}function kD(r){const e=IT(r);return e.length===4?ur.emptyPath():RT(e)}function qg(r){return new ur(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RT(r){return zt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function eE(r,e,t){return{name:Wg(r,e),fields:t.value.mapValue.fields}}function PD(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,d){return h.useProto3Json?(zt(d===void 0||typeof d=="string"),tn.fromBase64String(d||"")):(zt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),tn.fromUint8Array(d||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const d=h.code===void 0?Ye.UNKNOWN:ST(h.code);return new yt(d,h.message||"")}(l);t=new xT(n,s,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=jm(r,n.document.name),o=ns(n.document.updateTime),l=n.document.createTime?ns(n.document.createTime):Tt.min(),u=new ui({mapValue:{fields:n.document.fields}}),c=fn.newFoundDocument(s,o,l,u),h=n.targetIds||[],d=n.removedTargetIds||[];t=new Lf(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=jm(r,n.document),o=n.readTime?ns(n.readTime):Tt.min(),l=fn.newNoDocument(s,o),u=n.removedTargetIds||[];t=new Lf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=jm(r,n.document),o=n.removedTargetIds||[];t=new Lf([],o,s,null)}else{if(!("filter"in e))return Et();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,l=new bD(s,o),u=n.targetId;t=new TT(u,l)}}return t}function ND(r,e){let t;if(e instanceof Qc)t={update:eE(r,e.key,e.value)};else if(e instanceof ET)t={delete:Wg(r,e.key)};else if(e instanceof qa)t={update:eE(r,e.key,e.data),updateMask:jD(e.fieldMask)};else{if(!(e instanceof vD))return Et();t={verify:Wg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const u=l.transform;if(u instanceof ld)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Dc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ud)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Et()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:RD(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Et()}(r,e.precondition)),t}function OD(r,e){return r&&r.length>0?(zt(e!==void 0),r.map(t=>function(s,o){let l=s.updateTime?ns(s.updateTime):ns(o);return l.isEqual(Tt.min())&&(l=ns(o)),new mD(l,s.transformResults||[])}(t,e))):[]}function DD(r,e){return{documents:[CT(r,e.path)]}}function LD(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=CT(r,s);const o=function(h){if(h.length!==0)return PT(ss.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(d=>function(y){return{field:Dl(y.field),direction:VD(y.dir)}}(d))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=$g(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:s}}function MD(r){let e=kD(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){zt(n===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(m){const y=kT(m);return y instanceof ss&&oT(y)?y.getFilters():[y]}(t.where));let l=[];t.orderBy&&(l=function(m){return m.map(y=>function(w){return new ad(Ll(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,Ld(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(m){const y=!!m.before,v=m.values||[];return new od(v,y)}(t.startAt));let h=null;return t.endAt&&(h=function(m){const y=!m.before,v=m.values||[];return new od(v,y)}(t.endAt)),tD(e,s,l,o,u,"F",c,h)}function FD(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kT(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Ll(t.unaryFilter.field);return Fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(t.unaryFilter.field);return Fr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(t.unaryFilter.field);return Fr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ll(t.unaryFilter.field);return Fr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(t){return Fr.create(Ll(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ss.create(t.compositeFilter.filters.map(n=>kT(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Et()}}(t.compositeFilter.op))}(r):Et()}function VD(r){return xD[r]}function UD(r){return AD[r]}function BD(r){return ID[r]}function Dl(r){return{fieldPath:r.canonicalString()}}function Ll(r){return en.fromServerFormat(r.fieldPath)}function PT(r){return r instanceof Fr?function(t){if(t.op==="=="){if(jb(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jb(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NOT_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(t.field),op:UD(t.op),value:t.value}}}(r):r instanceof ss?function(t){const n=t.getFilters().map(s=>PT(s));return n.length===1?n[0]:{compositeFilter:{op:BD(t.op),filters:n}}}(r):Et()}function jD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t,n,s,o=Tt.min(),l=Tt.min(),u=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Tt=e}}function zD(r){const e=MD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Tn=new qD}addToCollectionParentIndex(e,t){return this.Tn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Mo.min())}updateCollectionGroup(e,t,n){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class qD{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Ur(ur.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Ur(ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(OT,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new iu(0)}static Kn(){return new iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="LruGarbageCollector",HD=1048576;function nE([r,e],[t,n]){const s=It(r,t);return s===0?It(e,n):s}class QD{constructor(e){this.Hn=e,this.buffer=new Ur(nE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();nE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KD{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(rE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mu(t)?at(rE,"Ignoring IndexedDB error during garbage collection: ",t):await pu(t)}await this.er(3e5)})}}class GD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Be.resolve(Dd.ae);const n=new QD(t);return this.tr.forEachTarget(e,s=>n.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>n.Zn(s))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(tE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,s,o,l,u,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(n=m,u=Date.now(),this.removeTargets(e,n,t))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(m=>(h=Date.now(),Nl()<=Ft.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-d}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:m})))}}function YD(r,e){return new GD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.changes=new Wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&vc(n.mutation,s,Ri.empty(),Vr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Nt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Nt()){const s=_a();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(o=>{let l=uc();return o.forEach((u,c)=>{l=l.insert(u,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=_a();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Nt()))}populateOverlays(e,t,n){const s=[];return n.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,n,s){let o=Vs();const l=yc(),u=function(){return yc()}();return t.forEach((c,h)=>{const d=n.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof qa)?o=o.insert(h.key,h):d!==void 0?(l.set(h.key,d.mutation.getFieldMask()),vc(d.mutation,h,d.mutation.getFieldMask(),Vr.now())):l.set(h.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,d)=>l.set(h,d)),t.forEach((h,d)=>{var m;return u.set(h,new XD(d,(m=l.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,t){const n=yc();let s=new pr((l,u)=>l-u),o=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let d=n.get(c)||Ri.empty();d=u.applyToLocalView(h,d),n.set(c,d);const m=(s.get(u.batchId)||Nt()).add(c);s=s.insert(u.batchId,m)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,d=c.value,m=pT();d.forEach(y=>{if(!o.has(y)){const v=wT(t.get(y),n.get(y));v!==null&&m.set(y,v),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Be.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(l){return wt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):Be.resolve(_a());let u=Rc,c=o;return l.next(h=>Be.forEach(h,(d,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(d)?Be.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{c=c.insert(d,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,Nt())).next(d=>({batchId:u,changes:dT(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(n=>{let s=uc();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let l=uc();return this.indexManager.getCollectionParents(e,o).next(u=>Be.forEach(u,c=>{const h=function(m,y){return new Fd(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next(d=>{d.forEach((m,y)=>{l=l.insert(m,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s))).next(l=>{o.forEach((c,h)=>{const d=h.getKey();l.get(d)===null&&(l=l.insert(d,fn.newInvalidDocument(d)))});let u=uc();return l.forEach((c,h)=>{const d=o.get(c);d!==void 0&&vc(d.mutation,h,Ri.empty(),Vr.now()),Ud(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Be.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ns(s.createTime)}}(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:zD(s.bundledQuery),readTime:ns(s.readTime)}}(t)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.overlays=new pr(wt.comparator),this.Rr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=_a();return Be.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&n.set(s,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,o)=>{this.Et(e,t,o)}),Be.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(n)),Be.resolve()}getOverlaysForCollection(e,t,n){const s=_a(),o=t.length+1,l=new wt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>n&&s.set(c.getKey(),c)}return Be.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new pr((h,d)=>h-d);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let d=o.get(h.largestBatchId);d===null&&(d=_a(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=_a(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>u.set(h,d)),!(u.size()>=s)););return Be.resolve(u)}Et(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new wD(t,n));let o=this.Rr.get(t);o===void 0&&(o=Nt(),this.Rr.set(t,o)),this.Rr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.Vr=new Ur(Hr.mr),this.gr=new Ur(Hr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Hr(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Hr(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new wt(new ur([])),n=new Hr(t,e),s=new Hr(t,e+1),o=[];return this.gr.forEachInRange([n,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new wt(new ur([])),n=new Hr(t,e),s=new Hr(t,e+1);let o=Nt();return this.gr.forEachInRange([n,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Hr(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Hr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return wt.comparator(e.key,t.key)||It(e.Cr,t.Cr)}static pr(e,t){return It(e.Cr,t.Cr)||wt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ur(Hr.mr)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _D(o,t,n,s);this.mutationQueue.push(l);for(const u of s)this.Mr=this.Mr.add(new Hr(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Be.resolve(l)}lookupMutationBatch(e,t){return Be.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.Nr(n),o=s<0?0:s;return Be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?Fv:this.Fr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hr(t,0),s=new Hr(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([n,s],l=>{const u=this.Or(l.Cr);o.push(u)}),Be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ur(It);return t.forEach(s=>{const o=new Hr(s,0),l=new Hr(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{n=n.add(u.Cr)})}),Be.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;wt.isDocumentKey(o)||(o=o.child(""));const l=new Hr(new wt(o),0);let u=new Ur(It);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Cr)),!0)},l),Be.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(n=>{const s=this.Or(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){zt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Be.forEach(t.mutations,s=>{const o=new Hr(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Hr(t,0),s=this.Mr.firstAfterOrEqual(n);return Be.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.kr=e,this.docs=function(){return new pr(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Be.resolve(n?n.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let n=Vs();return t.forEach(s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():fn.newInvalidDocument(s))}),Be.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=Vs();const l=t.path,u=new wt(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||OO(NO(d),n)<=0||(s.has(d.key)||Ud(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Be.resolve(o)}getAllFromCollectionGroup(e,t,n,s){Et()}qr(e,t){return Be.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new s4(this)}getSize(e){return Be.resolve(this.size)}}class s4 extends JD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)}),Be.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.persistence=e,this.Qr=new Wa(t=>Bv(t),jv),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qv,this.targetCount=0,this.Kr=iu.Un()}forEachTarget(e,t){return this.Qr.forEach((n,s)=>t(s)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Be.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new iu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.zn(t),Be.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),Be.waitFor(o).next(()=>s)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Be.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Be.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),Be.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Be.resolve(n)}containsKey(e,t){return Be.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Dd(0),this.zr=!1,this.zr=!0,this.jr=new r4,this.referenceDelegate=e(this),this.Hr=new o4(this),this.indexManager=new WD,this.remoteDocumentCache=function(s){return new i4(s)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new $D(t),this.Yr=new e4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new n4(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){at("MemoryPersistence","Starting transaction:",e);const s=new a4(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return Be.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class a4 extends LO{constructor(e){super(),this.currentSequenceNumber=e}}class Kv{constructor(e){this.persistence=e,this.ti=new Qv,this.ni=null}static ri(e){return new Kv(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Be.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Be.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.ii,n=>{const s=wt.fromPath(n);return this.si(e,s).next(o=>{o||t.removeEntry(s,Tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Be.or([()=>Be.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class hd{constructor(e,t){this.persistence=e,this.oi=new Wa(n=>VO(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=YD(this,t)}static ri(e,t){return new hd(e,t)}Zr(){}Xr(e){return Be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(s=>n+s))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return Be.forEach(this.oi,(n,s)=>this.ar(e,n,s).next(o=>o?Be.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(u=>{u||(n++,o.removeEntry(l,Tt.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Be.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Be.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nf(e.data.value)),t}ar(e,t,n){return Be.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Be.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=s}static Yi(e,t){let n=Nt(),s=Nt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Gv(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rN()?8:MO(eN())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,s,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new l4;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,n,s){return n.documentReadCount<this.es?(Nl()<=Ft.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Be.resolve()):(Nl()<=Ft.DEBUG&&at("QueryEngine","Query:",Ol(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(Nl()<=Ft.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):Be.resolve())}rs(e,t){if(qb(t))return Be.resolve(null);let n=rs(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=jg(t,null,"F"),n=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=Nt(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const h=this.cs(t,u);return this.ls(t,h,l,c.readTime)?this.rs(e,jg(t,null,"F")):this.hs(e,h,t,c)}))})))}ss(e,t,n,s){return qb(t)||s.isEqual(Tt.min())?Be.resolve(null):this.ns.getDocuments(e,n).next(o=>{const l=this.cs(t,o);return this.ls(t,l,n,s)?Be.resolve(null):(Nl()<=Ft.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(t)),this.hs(e,l,t,PO(s,Rc)).next(u=>u))})}cs(e,t){let n=new Ur(hT(e));return t.forEach((s,o)=>{Ud(e,o)&&(n=n.add(o))}),n}ls(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,n){return Nl()<=Ft.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ol(t)),this.ns.getDocumentsMatchingQuery(e,t,Mo.min(),n)}hs(e,t,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LocalStore",c4=3e8;class h4{constructor(e,t,n,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new pr(It),this.Is=new Wa(o=>Bv(o),jv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function f4(r,e,t,n){return new h4(r,e,t,n)}async function LT(r,e){const t=xt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],u=[];let c=Nt();for(const h of s){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of o){u.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(n,c).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function d4(r,e){const t=xt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,c,h,d){const m=h.batch,y=m.keys();let v=Be.resolve();return y.forEach(w=>{v=v.next(()=>d.getEntry(c,w)).next(S=>{const T=h.docVersions.get(w);zt(T!==null),S.version.compareTo(T)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),d.addEntry(S)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=Nt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function MT(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function p4(r,e){const t=xt(r),n=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const u=[];e.targetChanges.forEach((d,m)=>{const y=s.get(m);if(!y)return;u.push(t.Hr.removeMatchingKeys(o,d.removedDocuments,m).next(()=>t.Hr.addMatchingKeys(o,d.addedDocuments,m)));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(tn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,n)),s=s.insert(m,v),function(S,T,O){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=c4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,v,d)&&u.push(t.Hr.updateTargetData(o,v))});let c=Vs(),h=Nt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),u.push(m4(o,l,e.documentUpdates).next(d=>{c=d.Vs,h=d.fs})),!n.isEqual(Tt.min())){const d=t.Hr.getLastRemoteSnapshotVersion(o).next(m=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,n));u.push(d)}return Be.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,h)).next(()=>c)}).then(o=>(t.Ts=s,o))}function m4(r,e,t){let n=Nt(),s=Nt();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Vs();return t.forEach((u,c)=>{const h=o.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Tt.min())?(e.removeEntry(u,c.readTime),l=l.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),l=l.insert(u,c)):at(Yv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{Vs:l,fs:s}})}function g4(r,e){const t=xt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Fv),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function y4(r,e){const t=xt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Hr.getTargetData(n,e).next(o=>o?(s=o,Be.resolve(s)):t.Hr.allocateTargetId(n).next(l=>(s=new Po(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function Hg(r,e,t){const n=xt(r),s=n.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!mu(l))throw l;at(Yv,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function iE(r,e,t){const n=xt(r);let s=Tt.min(),o=Nt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(c,h,d){const m=xt(c),y=m.Is.get(d);return y!==void 0?Be.resolve(m.Ts.get(y)):m.Hr.getTargetData(h,d)}(n,l,rs(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,u.targetId).next(c=>{o=c})}).next(()=>n.Ps.getDocumentsMatchingQuery(l,e,t?s:Tt.min(),t?o:Nt())).next(u=>(v4(n,iD(e),u),{documents:u,gs:o})))}function v4(r,e,t){let n=r.Es.get(e)||Tt.min();t.forEach((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Es.set(e,n)}class sE{constructor(){this.activeTargetIds=cD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _4{constructor(){this.ho=new sE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class aE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function Qg(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===id?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,t,n,s,o){const l=Qg(),u=this.bo(e,t.toUriEncodedString());at($m,`Sending RPC '${e}' ${l}:`,u,n);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,s,o),this.vo(e,u,c,n).then(h=>(at($m,`Received RPC '${e}' ${l}: `,h),h),h=>{throw eu($m,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",n),h})}Co(e,t,n,s,o,l){return this.So(e,t,n,s,o)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),n&&n.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const n=b4[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class T4 extends E4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,s){const o=Qg();return new Promise((l,u)=>{const c=new BS;c.setWithCredentials(!0),c.listenOnce(jS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Pf.NO_ERROR:const d=c.getResponseJson();at(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case Pf.TIMEOUT:at(ln,`RPC '${e}' ${o} timed out`),u(new yt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const m=c.getStatus();if(at(ln,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y==null?void 0:y.error;if(v&&v.status&&v.message){const w=function(T){const O=T.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(O)>=0?O:Ye.UNKNOWN}(v.status);u(new yt(w,v.message))}else u(new yt(Ye.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new yt(Ye.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{at(ln,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);at(ln,`RPC '${e}' ${o} sending request:`,s),c.send(t,"POST",h,n,15)})}Wo(e,t,n){const s=Qg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WS(),u=zS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const d=o.join("");at(ln,`Creating RPC '${e}' stream ${s}: ${d}`,c);const m=l.createWebChannel(d,c);let y=!1,v=!1;const w=new S4({Fo:T=>{v?at(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(y||(at(ln,`Opening RPC '${e}' stream ${s} transport.`),m.open(),y=!0),at(ln,`RPC '${e}' stream ${s} sending:`,T),m.send(T))},Mo:()=>m.close()}),S=(T,O,x)=>{T.listen(O,R=>{try{x(R)}catch(z){setTimeout(()=>{throw z},0)}})};return S(m,lc.EventType.OPEN,()=>{v||(at(ln,`RPC '${e}' stream ${s} transport opened.`),w.Qo())}),S(m,lc.EventType.CLOSE,()=>{v||(v=!0,at(ln,`RPC '${e}' stream ${s} transport closed`),w.Uo())}),S(m,lc.EventType.ERROR,T=>{v||(v=!0,eu(ln,`RPC '${e}' stream ${s} transport errored:`,T),w.Uo(new yt(Ye.UNAVAILABLE,"The operation could not be completed")))}),S(m,lc.EventType.MESSAGE,T=>{var O;if(!v){const x=T.data[0];zt(!!x);const R=x,z=(R==null?void 0:R.error)||((O=R[0])===null||O===void 0?void 0:O.error);if(z){at(ln,`RPC '${e}' stream ${s} received error:`,z);const H=z.status;let j=function(M){const F=Ir[M];if(F!==void 0)return ST(F)}(H),P=z.message;j===void 0&&(j=Ye.INTERNAL,P="Unknown error status: "+H+" with message "+z.message),v=!0,w.Uo(new yt(j,P)),m.close()}else at(ln,`RPC '${e}' stream ${s} received:`,x),w.Ko(x)}}),S(u,$S.STAT_EVENT,T=>{T.stat===Lg.PROXY?at(ln,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Lg.NOPROXY&&at(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(r){return new CD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-n);s>0&&at("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class VT{constructor(e,t,n,s,o,l,u,c){this.Ti=e,this.n_=n,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new FT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.i_===t&&this.V_(n,s)},n=>{e(()=>{const s=new yt(Ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{n(()=>this.m_(s))}),this.stream.onMessage(s=>{n(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return at(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(at(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x4 extends VT{constructor(e,t,n,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=PD(this.serializer,e),n=function(o){if(!("targetChange"in o))return Tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Tt.min():l.readTime?ns(l.readTime):Tt.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=qg(this.serializer),t.addTarget=function(o,l){let u;const c=l.target;if(u=Bg(c)?{documents:DD(o,c)}:{query:LD(o,c).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=AT(o,l.resumeToken);const h=$g(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Tt.min())>0){u.readTime=cd(o,l.snapshotVersion.toTimestamp());const h=$g(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const n=FD(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=qg(this.serializer),t.removeTarget=e,this.I_(t)}}class A4 extends VT{constructor(e,t,n,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return zt(!!e.streamToken),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=OD(e.writeResults,e.commitTime),n=ns(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=qg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>ND(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{}class C4 extends I4{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new yt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,zg(t,n),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(Ye.UNKNOWN,o.toString())})}Co(e,t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,zg(t,n),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(Ye.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class R4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fs(t),this.N_=!1):at("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class k4{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{n.enqueueAndForget(async()=>{Ha(this)&&(at($a,"Restarting streams for network reachability change."),await async function(c){const h=xt(c);h.W_.add(4),await Gc(h),h.j_.set("Unknown"),h.W_.delete(4),await Wd(h)}(this))})}),this.j_=new R4(n,s)}}async function Wd(r){if(Ha(r))for(const e of r.G_)await e(!0)}async function Gc(r){for(const e of r.G_)await e(!1)}function UT(r,e){const t=xt(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),e0(t)?Zv(t):gu(t).c_()&&Xv(t,e))}function Jv(r,e){const t=xt(r),n=gu(t);t.K_.delete(e),n.c_()&&BT(t,e),t.K_.size===0&&(n.c_()?n.P_():Ha(t)&&t.j_.set("Unknown"))}function Xv(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gu(r).y_(e)}function BT(r,e){r.H_.Ne(e),gu(r).w_(e)}function Zv(r){r.H_=new TD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),gu(r).start(),r.j_.B_()}function e0(r){return Ha(r)&&!gu(r).u_()&&r.K_.size>0}function Ha(r){return xt(r).W_.size===0}function jT(r){r.H_=void 0}async function P4(r){r.j_.set("Online")}async function N4(r){r.K_.forEach((e,t)=>{Xv(r,e)})}async function O4(r,e){jT(r),e0(r)?(r.j_.q_(e),Zv(r)):r.j_.set("Unknown")}async function D4(r,e,t){if(r.j_.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.K_.delete(u),s.H_.removeTarget(u))}(r,e)}catch(n){at($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await fd(r,n)}else if(e instanceof Lf?r.H_.We(e):e instanceof TT?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Tt.min()))try{const n=await MT(r.localStore);t.compareTo(n)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.K_.get(h);d&&o.K_.set(h,d.withResumeToken(c.resumeToken,l))}}),u.targetMismatches.forEach((c,h)=>{const d=o.K_.get(c);if(!d)return;o.K_.set(c,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),BT(o,c);const m=new Po(d.target,c,h,d.sequenceNumber);Xv(o,m)}),o.remoteSyncer.applyRemoteEvent(u)}(r,t)}catch(n){at($a,"Failed to raise snapshot:",n),await fd(r,n)}}async function fd(r,e,t){if(!mu(e))throw e;r.W_.add(1),await Gc(r),r.j_.set("Offline"),t||(t=()=>MT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at($a,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Wd(r)})}function $T(r,e){return e().catch(t=>fd(r,t,e))}async function qd(r){const e=xt(r),t=Bo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:Fv;for(;L4(e);)try{const s=await g4(e.localStore,n);if(s===null){e.U_.length===0&&t.P_();break}n=s.batchId,M4(e,s)}catch(s){await fd(e,s)}zT(e)&&WT(e)}function L4(r){return Ha(r)&&r.U_.length<10}function M4(r,e){r.U_.push(e);const t=Bo(r);t.c_()&&t.S_&&t.b_(e.mutations)}function zT(r){return Ha(r)&&!Bo(r).u_()&&r.U_.length>0}function WT(r){Bo(r).start()}async function F4(r){Bo(r).C_()}async function V4(r){const e=Bo(r);for(const t of r.U_)e.b_(t.mutations)}async function U4(r,e,t){const n=r.U_.shift(),s=Wv.from(n,e,t);await $T(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await qd(r)}async function B4(r,e){e&&Bo(r).S_&&await async function(n,s){if(function(l){return ED(l)&&l!==Ye.ABORTED}(s.code)){const o=n.U_.shift();Bo(n).h_(),await $T(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s)),await qd(n)}}(r,e),zT(r)&&WT(r)}async function uE(r,e){const t=xt(r);t.asyncQueue.verifyOperationInProgress(),at($a,"RemoteStore received new credentials");const n=Ha(t);t.W_.add(3),await Gc(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Wd(t)}async function j4(r,e){const t=xt(r);e?(t.W_.delete(2),await Wd(t)):e||(t.W_.add(2),await Gc(t),t.j_.set("Unknown"))}function gu(r){return r.J_||(r.J_=function(t,n,s){const o=xt(t);return o.M_(),new x4(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:P4.bind(null,r),No:N4.bind(null,r),Lo:O4.bind(null,r),p_:D4.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),e0(r)?Zv(r):r.j_.set("Unknown")):(await r.J_.stop(),jT(r))})),r.J_}function Bo(r){return r.Y_||(r.Y_=function(t,n,s){const o=xt(t);return o.M_(),new A4(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:F4.bind(null,r),Lo:B4.bind(null,r),D_:V4.bind(null,r),v_:U4.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await qd(r)):(await r.Y_.stop(),r.U_.length>0&&(at($a,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const l=Date.now()+n,u=new t0(e,t,l,s,o);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r0(r,e){if(Fs("AsyncQueue",`${e}: ${r}`),mu(r))return new yt(Ye.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||wt.comparator(t.key,n.key):(t,n)=>wt.comparator(t.key,n.key),this.keyedMap=uc(),this.sortedSet=new pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ul;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Z_=new pr(wt.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class su{constructor(e,t,n,s,o,l,u,c,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,s,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new su(e,t,Ul.emptySet(t),l,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class z4{constructor(){this.queries=hE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const s=xt(t),o=s.queries;s.queries=hE(),o.forEach((l,u)=>{for(const c of u.ta)c.onError(n)})})(this,new yt(Ye.ABORTED,"Firestore shutting down"))}}function hE(){return new Wa(r=>cT(r),Vd)}async function W4(r,e){const t=xt(r);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(n=2):(o=new $4,n=e.ra()?0:1);try{switch(n){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=r0(l,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&n0(t)}async function q4(r,e){const t=xt(r),n=e.query;let s=3;const o=t.queries.get(n);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function H4(r,e){const t=xt(r);let n=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(s)&&(n=!0);l.ea=s}}n&&n0(t)}function Q4(r,e,t){const n=xt(r),s=n.queries.get(e);if(s)for(const o of s.ta)o.onError(t);n.queries.delete(e)}function n0(r){r.ia.forEach(e=>{e.next()})}var Kg,fE;(fE=Kg||(Kg={}))._a="default",fE.Cache="cache";class K4{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new su(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.key=e}}class HT{constructor(e){this.key=e}}class G4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=hT(e),this.wa=new Ul(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new cE,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,m)=>{const y=s.get(d),v=Ud(this.query,m)?m:null,w=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;y&&v?y.data.isEqual(v.data)?w!==S&&(n.track({type:3,doc:v}),T=!0):this.va(y,v)||(n.track({type:2,doc:v}),T=!0,(c&&this.ya(v,c)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),T=!0):y&&!v&&(n.track({type:1,doc:y}),T=!0,(c||h)&&(u=!0)),T&&(v?(l=l.add(v),o=S?o.add(d):o.delete(d)):(l=l.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{wa:l,Da:n,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((d,m)=>function(v,w){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return S(v)-S(w)}(d.type,m.type)||this.ya(d.doc,m.doc)),this.Ca(n),s=s!=null&&s;const u=t&&!s?this.Fa():[],c=this.pa.size===0&&this.current&&!s?1:0,h=c!==this.ga;return this.ga=c,l.length!==0||h?{snapshot:new su(this.query,e.wa,o,l,e.mutatedKeys,c===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new HT(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new qT(n))}),t}Oa(e){this.fa=e.gs,this.pa=Nt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return su.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const i0="SyncEngine";class Y4{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class J4{constructor(e){this.key=e,this.Ba=!1}}class X4{constructor(e,t,n,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Wa(u=>cT(u),Vd),this.qa=new Map,this.Qa=new Set,this.$a=new pr(wt.comparator),this.Ua=new Map,this.Ka=new Qv,this.Wa={},this.Ga=new Map,this.za=iu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Z4(r,e,t=!0){const n=XT(r);let s;const o=n.ka.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await QT(n,e,t,!0),s}async function eL(r,e){const t=XT(r);await QT(t,e,!0,!1)}async function QT(r,e,t,n){const s=await y4(r.localStore,rs(e)),o=s.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let u;return n&&(u=await tL(r,e,o,l==="current",s.resumeToken)),r.isPrimaryClient&&t&&UT(r.remoteStore,s),u}async function tL(r,e,t,n,s){r.Ha=(m,y,v)=>async function(S,T,O,x){let R=T.view.ba(O);R.ls&&(R=await iE(S.localStore,T.query,!1).then(({documents:P})=>T.view.ba(P,R)));const z=x&&x.targetChanges.get(T.targetId),H=x&&x.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(R,S.isPrimaryClient,z,H);return pE(S,T.targetId,j.Ma),j.snapshot}(r,m,y,v);const o=await iE(r.localStore,e,!0),l=new G4(e,o.gs),u=l.ba(o.documents),c=Kc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),h=l.applyChanges(u,r.isPrimaryClient,c);pE(r,t,h.Ma);const d=new Y4(e,t,l);return r.ka.set(e,d),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),h.snapshot}async function rL(r,e,t){const n=xt(r),s=n.ka.get(e),o=n.qa.get(s.targetId);if(o.length>1)return n.qa.set(s.targetId,o.filter(l=>!Vd(l,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Jv(n.remoteStore,s.targetId),Gg(n,s.targetId)}).catch(pu)):(Gg(n,s.targetId),await Hg(n.localStore,s.targetId,!0))}async function nL(r,e){const t=xt(r),n=t.ka.get(e),s=t.qa.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Jv(t.remoteStore,n.targetId))}async function iL(r,e,t){const n=hL(r);try{const s=await function(l,u){const c=xt(l),h=Vr.now(),d=u.reduce((v,w)=>v.add(w.key),Nt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Vs(),S=Nt();return c.ds.getEntries(v,d).next(T=>{w=T,w.forEach((O,x)=>{x.isValidDocument()||(S=S.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,w)).next(T=>{m=T;const O=[];for(const x of u){const R=yD(x,m.get(x.key).overlayedDocument);R!=null&&O.push(new qa(x.key,R,nT(R.value.mapValue),Ns.exists(!0)))}return c.mutationQueue.addMutationBatch(v,h,O,u)}).next(T=>{y=T;const O=T.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(v,T.batchId,O)})}).then(()=>({batchId:y.batchId,changes:dT(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(l,u,c){let h=l.Wa[l.currentUser.toKey()];h||(h=new pr(It)),h=h.insert(u,c),l.Wa[l.currentUser.toKey()]=h}(n,s.batchId,t),await Yc(n,s.changes),await qd(n.remoteStore)}catch(s){const o=r0(s,"Failed to persist write");t.reject(o)}}async function KT(r,e){const t=xt(r);try{const n=await p4(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Ua.get(o);l&&(zt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?zt(l.Ba):s.removedDocuments.size>0&&(zt(l.Ba),l.Ba=!1))}),await Yc(t,n,e)}catch(n){await pu(n)}}function dE(r,e,t){const n=xt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const c=xt(l);c.onlineState=u;let h=!1;c.queries.forEach((d,m)=>{for(const y of m.ta)y.sa(u)&&(h=!0)}),h&&n0(c)}(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function sL(r,e,t){const n=xt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Ua.get(e),o=s&&s.key;if(o){let l=new pr(wt.comparator);l=l.insert(o,fn.newNoDocument(o,Tt.min()));const u=Nt().add(o),c=new $d(Tt.min(),new Map,new pr(It),l,u);await KT(n,c),n.$a=n.$a.remove(o),n.Ua.delete(e),s0(n)}else await Hg(n.localStore,e,!1).then(()=>Gg(n,e,t)).catch(pu)}async function oL(r,e){const t=xt(r),n=e.batch.batchId;try{const s=await d4(t.localStore,e);YT(t,n,null),GT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Yc(t,s)}catch(s){await pu(s)}}async function aL(r,e,t){const n=xt(r);try{const s=await function(l,u){const c=xt(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,u).next(m=>(zt(m!==null),d=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(n.localStore,e);YT(n,e,t),GT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Yc(n,s)}catch(s){await pu(s)}}function GT(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function YT(r,e,t){const n=xt(r);let s=n.Wa[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function Gg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||JT(r,n)})}function JT(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Jv(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),s0(r))}function pE(r,e,t){for(const n of t)n instanceof qT?(r.Ka.addReference(n.key,e),lL(r,n)):n instanceof HT?(at(i0,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||JT(r,n.key)):Et()}function lL(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(at(i0,"New document in limbo: "+t),r.Qa.add(n),s0(r))}function s0(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new wt(ur.fromString(e)),n=r.za.next();r.Ua.set(n,new J4(t)),r.$a=r.$a.insert(t,n),UT(r.remoteStore,new Po(rs($v(t.path)),n,"TargetPurposeLimboResolution",Dd.ae))}}async function Yc(r,e,t){const n=xt(r),s=[],o=[],l=[];n.ka.isEmpty()||(n.ka.forEach((u,c)=>{l.push(n.Ha(c,e,t).then(h=>{var d;if((h||t)&&n.isPrimaryClient){const m=h?!h.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){s.push(h);const m=Gv.Yi(c.targetId,h);o.push(m)}}))}),await Promise.all(l),n.La.p_(s),await async function(c,h){const d=xt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Be.forEach(h,y=>Be.forEach(y.Hi,v=>d.persistence.referenceDelegate.addReference(m,y.targetId,v)).next(()=>Be.forEach(y.Ji,v=>d.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))}catch(m){if(!mu(m))throw m;at(Yv,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const v=d.Ts.get(y),w=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(w);d.Ts=d.Ts.insert(y,S)}}}(n.localStore,o))}async function uL(r,e){const t=xt(r);if(!t.currentUser.isEqual(e)){at(i0,"User change. New user:",e.toKey());const n=await LT(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(c=>{c.reject(new yt(Ye.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Yc(t,n.Rs)}}function cL(r,e){const t=xt(r),n=t.Ua.get(e);if(n&&n.Ba)return Nt().add(n.key);{let s=Nt();const o=t.qa.get(e);if(!o)return s;for(const l of o){const u=t.ka.get(l);s=s.unionWith(u.view.Sa)}return s}}function XT(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sL.bind(null,e),e.La.p_=H4.bind(null,e.eventManager),e.La.Ja=Q4.bind(null,e.eventManager),e}function hL(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aL.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return f4(this.persistence,new u4,e.initialUser,this.serializer)}Xa(e){return new DT(Kv.ri,this.serializer)}Za(e){return new _4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class fL extends dd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){zt(this.persistence.referenceDelegate instanceof hd);const n=this.persistence.referenceDelegate.garbageCollector;return new KD(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new DT(n=>hd.ri(n,t),this.serializer)}}class Yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>dE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=uL.bind(null,this.syncEngine),await j4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const t=zd(e.databaseInfo.databaseId),n=function(o){return new T4(o)}(e.databaseInfo);return function(o,l,u,c){return new C4(o,l,u,c)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,o,l,u){return new k4(n,s,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>dE(this.syncEngine,t,0),function(){return aE.D()?new aE:new w4}())}createSyncEngine(e,t){return function(s,o,l,u,c,h,d){const m=new X4(s,o,l,u,c,h);return d&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=xt(s);at($a,"RemoteStore shutting down."),o.W_.add(5),await Gc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="FirestoreClient";class pL{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=QS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{at(jo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(at(jo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=r0(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Wm(r,e){r.asyncQueue.verifyOperationInProgress(),at(jo,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await LT(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function mE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await mL(r);at(jo,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>uE(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>uE(e.remoteStore,s)),r._onlineComponents=e}async function mL(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(jo,"Using user provided OfflineComponentProvider");try{await Wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ye.FAILED_PRECONDITION||s.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;eu("Error using user provided cache. Falling back to memory cache: "+t),await Wm(r,new dd)}}else at(jo,"Using default OfflineComponentProvider"),await Wm(r,new fL(void 0));return r._offlineComponents}async function ZT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(jo,"Using user provided OnlineComponentProvider"),await mE(r,r._uninitializedComponentsProvider._online)):(at(jo,"Using default OnlineComponentProvider"),await mE(r,new Yg))),r._onlineComponents}function gL(r){return ZT(r).then(e=>e.syncEngine)}async function gE(r){const e=await ZT(r),t=e.eventManager;return t.onListen=Z4.bind(null,e.syncEngine),t.onUnlisten=rL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nL.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r,e,t){if(!t)throw new yt(Ye.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yL(r,e,t,n){if(e===!0&&n===!0)throw new yt(Ye.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function vE(r){if(!wt.isDocumentKey(r))throw new yt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _E(r){if(wt.isDocumentKey(r))throw new yt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function o0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et()}function _c(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new yt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o0(r);throw new yt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firestore.googleapis.com",wE=!0;class bE{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rx,this.ssl=wE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:wE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HD)throw new yt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ex((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new EO;switch(n.type){case"firstParty":return new AO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new yt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=yE.get(t);n&&(at("ComponentProvider","Removing Datastore"),yE.delete(t),n.terminate())}(this),Promise.resolve()}}function vL(r,e,t,n={}){var s;const o=(r=_c(r,Hd))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==rx&&o.host!==u&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:n});if(!ed(c,l)&&(r._setSettings(c),n.mockUserToken)){let h,d;if(typeof n.mockUserToken=="string")h=n.mockUserToken,d=hn.MOCK_USER;else{h=Z2(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new yt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hn(m)}r._authCredentials=new SO(new qS(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qd(this.firestore,e,this._query)}}class ci{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class Lo extends Qd{constructor(e,t,n){super(e,t,$v(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new wt(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function EE(r,e,...t){if(r=Zl(r),tx("collection","path",e),r instanceof Hd){const n=ur.fromString(e,...t);return _E(n),new Lo(r,null,n)}{if(!(r instanceof ci||r instanceof Lo))throw new yt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ur.fromString(e,...t));return _E(n),new Lo(r.firestore,null,n)}}function _L(r,e,...t){if(r=Zl(r),arguments.length===1&&(e=QS.newId()),tx("doc","path",e),r instanceof Hd){const n=ur.fromString(e,...t);return vE(n),new ci(r,null,new wt(n))}{if(!(r instanceof ci||r instanceof Lo))throw new yt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ur.fromString(e,...t));return vE(n),new ci(r.firestore,r instanceof Lo?r.converter:null,new wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new FT(this,"async_queue_retry"),this.Su=()=>{const n=zm();n&&at(SE,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Oa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!mu(e))throw e;at(SE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const s=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(n);throw Fs("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=t0.createAndSchedule(this,e,t,n,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function xE(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1}(r,["next","error","complete"])}class pd extends Hd{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new TE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function wL(r,e){const t=typeof r=="object"?r:uO(),n=typeof r=="string"?r:id,s=iO(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=J2("firestore");o&&vL(s,...o)}return s}function nx(r){if(r._terminated)throw new yt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bL(r),r._firestoreClient}function bL(r){var e,t,n;const s=r._freezeSettings(),o=function(u,c,h,d){return new jO(u,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ex(d.experimentalLongPollingOptions),d.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new pL(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(tn.fromBase64String(e))}catch(t){throw new yt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ou(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new yt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=/^__.*__$/;class SL{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}function sx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class c0{constructor(e,t,n,s,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new c0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return md(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sx(this.Lu)&&EL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class TL{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zd(e)}ju(e,t,n,s=!1){return new c0({Lu:e,methodName:t,zu:n,path:en.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xL(r){const e=r._freezeSettings(),t=zd(r._databaseId);return new TL(r._databaseId,!!e.ignoreUndefinedProperties,t)}function AL(r,e,t,n,s,o={}){const l=r.ju(o.merge||o.mergeFields?2:0,e,t,s);ux("Data must be an object, but it was:",l,n);const u=ax(n,l);let c,h;if(o.merge)c=new Ri(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const d=[];for(const m of o.mergeFields){const y=IL(e,m,t);if(!l.contains(y))throw new yt(Ye.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);RL(d,y)||d.push(y)}c=new Ri(d),h=l.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=l.fieldTransforms;return new SL(new ui(u),c,h)}function ox(r,e){if(lx(r=Zl(r)))return ux("Unsupported field value:",e,r),ax(r,e);if(r instanceof ix)return function(n,s){if(!sx(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,s){const o=[];let l=0;for(const u of n){let c=ox(u,s.Ku(l));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,s){if((n=Zl(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hD(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Vr.fromDate(n);return{timestampValue:cd(s.serializer,o)}}if(n instanceof Vr){const o=new Vr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cd(s.serializer,o)}}if(n instanceof l0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ou)return{bytesValue:AT(s.serializer,n._byteString)};if(n instanceof ci){const o=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Hv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof u0)return function(l,u){return{mapValue:{fields:{[tT]:{stringValue:rT},[sd]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return zv(u.serializer,h)})}}}}}}(n,s);throw s.Wu(`Unsupported field value: ${o0(n)}`)}(r,e)}function ax(r,e){const t={};return GS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(r,(n,s)=>{const o=ox(s,e.qu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function lx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vr||r instanceof l0||r instanceof ou||r instanceof ci||r instanceof ix||r instanceof u0)}function ux(r,e,t){if(!lx(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const n=o0(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function IL(r,e,t){if((e=Zl(e))instanceof a0)return e._internalPath;if(typeof e=="string")return cx(r,e);throw md("Field path arguments must be of type string or ",r,!1,void 0,t)}const CL=new RegExp("[~\\*/\\[\\]]");function cx(r,e,t){if(e.search(CL)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new a0(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function md(r,e,t,n,s){const o=n&&!n.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||l)&&(c+=" (found",o&&(c+=` in field ${n}`),l&&(c+=` in document ${s}`),c+=")"),new yt(Ye.INVALID_ARGUMENT,u+r+c)}function RL(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kL extends hx{data(){return super.data()}}function fx(r,e){return typeof e=="string"?cx(r,e):e instanceof a0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NL{convertValue(e,t="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return za(e,(s,o)=>{n[s]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,s;const o=(s=(n=(t=e.fields)===null||t===void 0?void 0:t[sd].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(l=>Er(l.doubleValue));return new u0(o)}convertGeoPoint(e){return new l0(Er(e.latitude),Er(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Md(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const t=Fo(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ur.fromString(e);zt(NT(n));const s=new Pc(n.get(1),n.get(3)),o=new wt(n.popFirst(5));return s.isEqual(t)||Fs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dx extends hx{constructor(e,t,n,s,o,l){super(e,t,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(fx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Mf extends dx{data(e={}){return super.data(e)}}class DL{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new hc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Mf(this._firestore,this._userDataWriter,n.key,n,new hc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const c=new Mf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new hc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const c=new Mf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new hc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),d=l.indexOf(u.doc.key)),{type:LL(u.type),doc:c,oldIndex:h,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class px extends NL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}function ML(r,e){const t=_c(r.firestore,pd),n=_L(r),s=OL(r.converter,e);return VL(t,[AL(xL(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Ns.exists(!1))]).then(()=>n)}function FL(r,...e){var t,n,s;r=Zl(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||xE(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xE(e[l])){const m=e[l];e[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let c,h,d;if(r instanceof ci)h=_c(r.firestore,pd),d=$v(r._key.path),c={next:m=>{e[l]&&e[l](UL(h,r,m))},error:e[l+1],complete:e[l+2]};else{const m=_c(r,Qd);h=_c(m.firestore,pd),d=m._query;const y=new px(h);c={next:v=>{e[l]&&e[l](new DL(h,y,m,v))},error:e[l+1],complete:e[l+2]},PL(r._query)}return function(y,v,w,S){const T=new dL(S),O=new K4(v,T,w);return y.asyncQueue.enqueueAndForget(async()=>W4(await gE(y),O)),()=>{T.su(),y.asyncQueue.enqueueAndForget(async()=>q4(await gE(y),O))}}(nx(h),d,u,c)}function VL(r,e){return function(n,s){const o=new Oa;return n.asyncQueue.enqueueAndForget(async()=>iL(await gL(n),s,o)),o.promise}(nx(r),e)}function UL(r,e,t){const n=t.docs.get(e._key),s=new px(r);return new dx(r,s,e._key,n,new hc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){du=s})(lO),rd(new Ic("firestore",(n,{instanceIdentifier:s,options:o})=>{const l=n.getProvider("app").getImmediate(),u=new pd(new TO(n.getProvider("auth-internal")),new IO(l,n.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new yt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(h.options.projectId,d)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Vl(Cb,Rb,e),Vl(Cb,Rb,"esm2017")})();const BL={apiKey:"AIzaSyAhfo3784zKGWVJRQbhbZEuxZpdCP4yw5k",authDomain:"chat-reactjs-54898.firebaseapp.com",projectId:"chat-reactjs-54898",storageBucket:"chat-reactjs-54898.firebasestorage.app",messagingSenderId:"250177889716",appId:"1:250177889716:web:6385820525645a5a8e3ee1",measurementId:"G-YMS03SMKBZ"},jL=MS(BL),AE=wL(jL);var h0=Object.defineProperty,$L=Object.getOwnPropertyDescriptor,zL=Object.getOwnPropertyNames,WL=Object.prototype.hasOwnProperty,Tn=(r,e)=>()=>(r&&(e=r(r=0)),e),Ke=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),yu=(r,e)=>{for(var t in e)h0(r,t,{get:e[t],enumerable:!0})},qL=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zL(e))!WL.call(r,s)&&s!==t&&h0(r,s,{get:()=>e[s],enumerable:!(n=$L(e,s))||n.enumerable});return r},Kt=r=>qL(h0({},"__esModule",{value:!0}),r),je=Tn(()=>{}),jt={};yu(jt,{_debugEnd:()=>Ry,_debugProcess:()=>Cy,_events:()=>Wy,_eventsCount:()=>qy,_exiting:()=>py,_fatalExceptions:()=>xy,_getActiveHandles:()=>Ex,_getActiveRequests:()=>bx,_kill:()=>yy,_linkedBinding:()=>vx,_maxListeners:()=>zy,_preload_modules:()=>jy,_rawDebug:()=>hy,_startProfilerIdleNotifier:()=>ky,_stopProfilerIdleNotifier:()=>Py,_tickCallback:()=>Iy,abort:()=>Ly,addListener:()=>Hy,allowedNodeEnvironmentFlags:()=>Sy,arch:()=>Xg,argv:()=>ty,argv0:()=>By,assert:()=>Sx,binding:()=>oy,chdir:()=>uy,config:()=>my,cpuUsage:()=>fc,cwd:()=>ly,debugPort:()=>Uy,default:()=>d0,dlopen:()=>_x,domain:()=>dy,emit:()=>Jy,emitWarning:()=>sy,env:()=>ey,execArgv:()=>ry,execPath:()=>Vy,exit:()=>by,features:()=>Ty,hasUncaughtExceptionCaptureCallback:()=>Tx,hrtime:()=>Ff,kill:()=>wy,listeners:()=>Ax,memoryUsage:()=>_y,moduleLoadList:()=>fy,nextTick:()=>gx,off:()=>Ky,on:()=>Ts,once:()=>Qy,openStdin:()=>Ey,pid:()=>My,platform:()=>Zg,ppid:()=>Fy,prependListener:()=>Xy,prependOnceListener:()=>Zy,reallyExit:()=>gy,release:()=>cy,removeAllListeners:()=>Yy,removeListener:()=>Gy,resourceUsage:()=>vy,setSourceMapsEnabled:()=>$y,setUncaughtExceptionCaptureCallback:()=>Ay,stderr:()=>Oy,stdin:()=>Dy,stdout:()=>Ny,title:()=>Jg,umask:()=>ay,uptime:()=>xx,version:()=>ny,versions:()=>iy});function f0(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function HL(){!Da||!wa||(Da=!1,wa.length?Zi=wa.concat(Zi):wc=-1,Zi.length&&mx())}function mx(){if(!Da){var r=setTimeout(HL,0);Da=!0;for(var e=Zi.length;e;){for(wa=Zi,Zi=[];++wc<e;)wa&&wa[wc].run();wc=-1,e=Zi.length}wa=null,Da=!1,clearTimeout(r)}}function gx(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Zi.push(new yx(r,e)),Zi.length===1&&!Da&&setTimeout(mx,0)}function yx(r,e){this.fun=r,this.array=e}function un(){}function vx(r){f0("_linkedBinding")}function _x(r){f0("dlopen")}function bx(){return[]}function Ex(){return[]}function Sx(r,e){if(!r)throw new Error(e||"assertion error")}function Tx(){return!1}function xx(){return Cs.now()/1e3}function Ff(r){var e=Math.floor((Date.now()-Cs.now())*.001),t=Cs.now()*.001,n=Math.floor(t)+e,s=Math.floor(t%1*1e9);return r&&(n=n-r[0],s=s-r[1],s<0&&(n--,s+=Vf)),[n,s]}function Ts(){return d0}function Ax(r){return[]}var Zi,Da,wa,wc,Jg,Xg,Zg,ey,ty,ry,ny,iy,sy,oy,ay,ly,uy,cy,hy,fy,dy,py,my,gy,yy,fc,vy,_y,wy,by,Ey,Sy,Ty,xy,Ay,Iy,Cy,Ry,ky,Py,Ny,Oy,Dy,Ly,My,Fy,Vy,Uy,By,jy,$y,Cs,qm,Vf,zy,Wy,qy,Hy,Qy,Ky,Gy,Yy,Jy,Xy,Zy,d0,QL=Tn(()=>{je(),ze(),$e(),Zi=[],Da=!1,wc=-1,yx.prototype.run=function(){this.fun.apply(null,this.array)},Jg="browser",Xg="x64",Zg="browser",ey={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},ty=["/usr/bin/node"],ry=[],ny="v16.8.0",iy={},sy=function(r,e){console.warn((e?e+": ":"")+r)},oy=function(r){f0("binding")},ay=function(r){return 0},ly=function(){return"/"},uy=function(r){},cy={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},hy=un,fy=[],dy={},py=!1,my={},gy=un,yy=un,fc=function(){return{}},vy=fc,_y=fc,wy=un,by=un,Ey=un,Sy={},Ty={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},xy=un,Ay=un,Iy=un,Cy=un,Ry=un,ky=un,Py=un,Ny=void 0,Oy=void 0,Dy=void 0,Ly=un,My=2,Fy=1,Vy="/bin/usr/node",Uy=9229,By="node",jy=[],$y=un,Cs={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Cs.now===void 0&&(qm=Date.now(),Cs.timing&&Cs.timing.navigationStart&&(qm=Cs.timing.navigationStart),Cs.now=()=>Date.now()-qm),Vf=1e9,Ff.bigint=function(r){var e=Ff(r);return typeof BigInt>"u"?e[0]*Vf+e[1]:BigInt(e[0]*Vf)+BigInt(e[1])},zy=10,Wy={},qy=0,Hy=Ts,Qy=Ts,Ky=Ts,Gy=Ts,Yy=Ts,Jy=un,Xy=Ts,Zy=Ts,d0={version:ny,versions:iy,arch:Xg,platform:Zg,release:cy,_rawDebug:hy,moduleLoadList:fy,binding:oy,_linkedBinding:vx,_events:Wy,_eventsCount:qy,_maxListeners:zy,on:Ts,addListener:Hy,once:Qy,off:Ky,removeListener:Gy,removeAllListeners:Yy,emit:Jy,prependListener:Xy,prependOnceListener:Zy,listeners:Ax,domain:dy,_exiting:py,config:my,dlopen:_x,uptime:xx,_getActiveRequests:bx,_getActiveHandles:Ex,reallyExit:gy,_kill:yy,cpuUsage:fc,resourceUsage:vy,memoryUsage:_y,kill:wy,exit:by,openStdin:Ey,allowedNodeEnvironmentFlags:Sy,assert:Sx,features:Ty,_fatalExceptions:xy,setUncaughtExceptionCaptureCallback:Ay,hasUncaughtExceptionCaptureCallback:Tx,emitWarning:sy,nextTick:gx,_tickCallback:Iy,_debugProcess:Cy,_debugEnd:Ry,_startProfilerIdleNotifier:ky,_stopProfilerIdleNotifier:Py,stdout:Ny,stdin:Dy,stderr:Oy,abort:Ly,umask:ay,chdir:uy,cwd:ly,env:ey,title:Jg,argv:ty,execArgv:ry,pid:My,ppid:Fy,execPath:Vy,debugPort:Uy,hrtime:Ff,argv0:By,_preload_modules:jy,setSourceMapsEnabled:$y}}),$e=Tn(()=>{QL()}),Qr={};yu(Qr,{Buffer:()=>gd,INSPECT_MAX_BYTES:()=>Ix,default:()=>xs,kMaxLength:()=>Cx});function KL(){if(ev)return Ml;ev=!0,Ml.byteLength=u,Ml.toByteArray=h,Ml.fromByteArray=y;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=n.length;s<o;++s)r[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=v.indexOf("=");S===-1&&(S=w);var T=S===w?0:4-S%4;return[S,T]}function u(v){var w=l(v),S=w[0],T=w[1];return(S+T)*3/4-T}function c(v,w,S){return(w+S)*3/4-S}function h(v){var w,S=l(v),T=S[0],O=S[1],x=new t(c(v,T,O)),R=0,z=O>0?T-4:T,H;for(H=0;H<z;H+=4)w=e[v.charCodeAt(H)]<<18|e[v.charCodeAt(H+1)]<<12|e[v.charCodeAt(H+2)]<<6|e[v.charCodeAt(H+3)],x[R++]=w>>16&255,x[R++]=w>>8&255,x[R++]=w&255;return O===2&&(w=e[v.charCodeAt(H)]<<2|e[v.charCodeAt(H+1)]>>4,x[R++]=w&255),O===1&&(w=e[v.charCodeAt(H)]<<10|e[v.charCodeAt(H+1)]<<4|e[v.charCodeAt(H+2)]>>2,x[R++]=w>>8&255,x[R++]=w&255),x}function d(v){return r[v>>18&63]+r[v>>12&63]+r[v>>6&63]+r[v&63]}function m(v,w,S){for(var T,O=[],x=w;x<S;x+=3)T=(v[x]<<16&16711680)+(v[x+1]<<8&65280)+(v[x+2]&255),O.push(d(T));return O.join("")}function y(v){for(var w,S=v.length,T=S%3,O=[],x=16383,R=0,z=S-T;R<z;R+=x)O.push(m(v,R,R+x>z?z:R+x));return T===1?(w=v[S-1],O.push(r[w>>2]+r[w<<4&63]+"==")):T===2&&(w=(v[S-2]<<8)+v[S-1],O.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),O.join("")}return Ml}function GL(){return tv?dc:(tv=!0,dc.read=function(r,e,t,n,s){var o,l,u=s*8-n-1,c=(1<<u)-1,h=c>>1,d=-7,m=t?s-1:0,y=t?-1:1,v=r[e+m];for(m+=y,o=v&(1<<-d)-1,v>>=-d,d+=u;d>0;o=o*256+r[e+m],m+=y,d-=8);for(l=o&(1<<-d)-1,o>>=-d,d+=n;d>0;l=l*256+r[e+m],m+=y,d-=8);if(o===0)o=1-h;else{if(o===c)return l?NaN:(v?-1:1)*(1/0);l=l+Math.pow(2,n),o=o-h}return(v?-1:1)*l*Math.pow(2,o-n)},dc.write=function(r,e,t,n,s,o){var l,u,c,h=o*8-s-1,d=(1<<h)-1,m=d>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,w=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+m>=1?e+=y/c:e+=y*Math.pow(2,1-m),e*c>=2&&(l++,c/=2),l+m>=d?(u=0,l=d):l+m>=1?(u=(e*c-1)*Math.pow(2,s),l=l+m):(u=e*Math.pow(2,m-1)*Math.pow(2,s),l=0));s>=8;r[t+v]=u&255,v+=w,u/=256,s-=8);for(l=l<<s|u,h+=s;h>0;r[t+v]=l&255,v+=w,l/=256,h-=8);r[t+v-w]|=S*128},dc)}function YL(){if(rv)return go;rv=!0;let r=KL(),e=GL(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;go.Buffer=l,go.SlowBuffer=O,go.INSPECT_MAX_BYTES=50;let n=2147483647;go.kMaxLength=n,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let _=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(_,E),_.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(_){if(_>n)throw new RangeError('The value "'+_+'" is invalid for option "size"');let E=new Uint8Array(_);return Object.setPrototypeOf(E,l.prototype),E}function l(_,E,C){if(typeof _=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(_)}return u(_,E,C)}l.poolSize=8192;function u(_,E,C){if(typeof _=="string")return m(_,E);if(ArrayBuffer.isView(_))return v(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(Y(_,ArrayBuffer)||_&&Y(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(_,SharedArrayBuffer)||_&&Y(_.buffer,SharedArrayBuffer)))return w(_,E,C);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let q=_.valueOf&&_.valueOf();if(q!=null&&q!==_)return l.from(q,E,C);let ee=S(_);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return l.from(_[Symbol.toPrimitive]("string"),E,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}l.from=function(_,E,C){return u(_,E,C)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function c(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function h(_,E,C){return c(_),_<=0?o(_):E!==void 0?typeof C=="string"?o(_).fill(E,C):o(_).fill(E):o(_)}l.alloc=function(_,E,C){return h(_,E,C)};function d(_){return c(_),o(_<0?0:T(_)|0)}l.allocUnsafe=function(_){return d(_)},l.allocUnsafeSlow=function(_){return d(_)};function m(_,E){if((typeof E!="string"||E==="")&&(E="utf8"),!l.isEncoding(E))throw new TypeError("Unknown encoding: "+E);let C=x(_,E)|0,q=o(C),ee=q.write(_,E);return ee!==C&&(q=q.slice(0,ee)),q}function y(_){let E=_.length<0?0:T(_.length)|0,C=o(E);for(let q=0;q<E;q+=1)C[q]=_[q]&255;return C}function v(_){if(Y(_,Uint8Array)){let E=new Uint8Array(_);return w(E.buffer,E.byteOffset,E.byteLength)}return y(_)}function w(_,E,C){if(E<0||_.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<E+(C||0))throw new RangeError('"length" is outside of buffer bounds');let q;return E===void 0&&C===void 0?q=new Uint8Array(_):C===void 0?q=new Uint8Array(_,E):q=new Uint8Array(_,E,C),Object.setPrototypeOf(q,l.prototype),q}function S(_){if(l.isBuffer(_)){let E=T(_.length)|0,C=o(E);return C.length===0||_.copy(C,0,0,E),C}if(_.length!==void 0)return typeof _.length!="number"||pe(_.length)?o(0):y(_);if(_.type==="Buffer"&&Array.isArray(_.data))return y(_.data)}function T(_){if(_>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return _|0}function O(_){return+_!=_&&(_=0),l.alloc(+_)}l.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==l.prototype},l.compare=function(_,E){if(Y(_,Uint8Array)&&(_=l.from(_,_.offset,_.byteLength)),Y(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),!l.isBuffer(_)||!l.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===E)return 0;let C=_.length,q=E.length;for(let ee=0,le=Math.min(C,q);ee<le;++ee)if(_[ee]!==E[ee]){C=_[ee],q=E[ee];break}return C<q?-1:q<C?1:0},l.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(_,E){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return l.alloc(0);let C;if(E===void 0)for(E=0,C=0;C<_.length;++C)E+=_[C].length;let q=l.allocUnsafe(E),ee=0;for(C=0;C<_.length;++C){let le=_[C];if(Y(le,Uint8Array))ee+le.length>q.length?(l.isBuffer(le)||(le=l.from(le)),le.copy(q,ee)):Uint8Array.prototype.set.call(q,le,ee);else if(l.isBuffer(le))le.copy(q,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=le.length}return q};function x(_,E){if(l.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||Y(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let C=_.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&C===0)return 0;let ee=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return ue(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return X(_).length;default:if(ee)return q?-1:ue(_).length;E=(""+E).toLowerCase(),ee=!0}}l.byteLength=x;function R(_,E,C){let q=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,E>>>=0,C<=E))return"";for(_||(_="utf8");;)switch(_){case"hex":return fe(this,E,C);case"utf8":case"utf-8":return V(this,E,C);case"ascii":return De(this,E,C);case"latin1":case"binary":return ke(this,E,C);case"base64":return N(this,E,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,E,C);default:if(q)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),q=!0}}l.prototype._isBuffer=!0;function z(_,E,C){let q=_[E];_[E]=_[C],_[C]=q}l.prototype.swap16=function(){let _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<_;E+=2)z(this,E,E+1);return this},l.prototype.swap32=function(){let _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<_;E+=4)z(this,E,E+3),z(this,E+1,E+2);return this},l.prototype.swap64=function(){let _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<_;E+=8)z(this,E,E+7),z(this,E+1,E+6),z(this,E+2,E+5),z(this,E+3,E+4);return this},l.prototype.toString=function(){let _=this.length;return _===0?"":arguments.length===0?V(this,0,_):R.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(_){if(!l.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:l.compare(this,_)===0},l.prototype.inspect=function(){let _="",E=go.INSPECT_MAX_BYTES;return _=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(_+=" ... "),"<Buffer "+_+">"},t&&(l.prototype[t]=l.prototype.inspect),l.prototype.compare=function(_,E,C,q,ee){if(Y(_,Uint8Array)&&(_=l.from(_,_.offset,_.byteLength)),!l.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(E===void 0&&(E=0),C===void 0&&(C=_?_.length:0),q===void 0&&(q=0),ee===void 0&&(ee=this.length),E<0||C>_.length||q<0||ee>this.length)throw new RangeError("out of range index");if(q>=ee&&E>=C)return 0;if(q>=ee)return-1;if(E>=C)return 1;if(E>>>=0,C>>>=0,q>>>=0,ee>>>=0,this===_)return 0;let le=ee-q,Se=C-E,Ze=Math.min(le,Se),et=this.slice(q,ee),ft=_.slice(E,C);for(let bt=0;bt<Ze;++bt)if(et[bt]!==ft[bt]){le=et[bt],Se=ft[bt];break}return le<Se?-1:Se<le?1:0};function H(_,E,C,q,ee){if(_.length===0)return-1;if(typeof C=="string"?(q=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,pe(C)&&(C=ee?0:_.length-1),C<0&&(C=_.length+C),C>=_.length){if(ee)return-1;C=_.length-1}else if(C<0)if(ee)C=0;else return-1;if(typeof E=="string"&&(E=l.from(E,q)),l.isBuffer(E))return E.length===0?-1:j(_,E,C,q,ee);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(_,E,C):Uint8Array.prototype.lastIndexOf.call(_,E,C):j(_,[E],C,q,ee);throw new TypeError("val must be string, number or Buffer")}function j(_,E,C,q,ee){let le=1,Se=_.length,Ze=E.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(_.length<2||E.length<2)return-1;le=2,Se/=2,Ze/=2,C/=2}function et(bt,gt){return le===1?bt[gt]:bt.readUInt16BE(gt*le)}let ft;if(ee){let bt=-1;for(ft=C;ft<Se;ft++)if(et(_,ft)===et(E,bt===-1?0:ft-bt)){if(bt===-1&&(bt=ft),ft-bt+1===Ze)return bt*le}else bt!==-1&&(ft-=ft-bt),bt=-1}else for(C+Ze>Se&&(C=Se-Ze),ft=C;ft>=0;ft--){let bt=!0;for(let gt=0;gt<Ze;gt++)if(et(_,ft+gt)!==et(E,gt)){bt=!1;break}if(bt)return ft}return-1}l.prototype.includes=function(_,E,C){return this.indexOf(_,E,C)!==-1},l.prototype.indexOf=function(_,E,C){return H(this,_,E,C,!0)},l.prototype.lastIndexOf=function(_,E,C){return H(this,_,E,C,!1)};function P(_,E,C,q){C=Number(C)||0;let ee=_.length-C;q?(q=Number(q),q>ee&&(q=ee)):q=ee;let le=E.length;q>le/2&&(q=le/2);let Se;for(Se=0;Se<q;++Se){let Ze=parseInt(E.substr(Se*2,2),16);if(pe(Ze))return Se;_[C+Se]=Ze}return Se}function k(_,E,C,q){return ne(ue(E,_.length-C),_,C,q)}function M(_,E,C,q){return ne(Ie(E),_,C,q)}function F(_,E,C,q){return ne(X(E),_,C,q)}function $(_,E,C,q){return ne(Q(E,_.length-C),_,C,q)}l.prototype.write=function(_,E,C,q){if(E===void 0)q="utf8",C=this.length,E=0;else if(C===void 0&&typeof E=="string")q=E,C=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(C)?(C=C>>>0,q===void 0&&(q="utf8")):(q=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let ee=this.length-E;if((C===void 0||C>ee)&&(C=ee),_.length>0&&(C<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let le=!1;for(;;)switch(q){case"hex":return P(this,_,E,C);case"utf8":case"utf-8":return k(this,_,E,C);case"ascii":case"latin1":case"binary":return M(this,_,E,C);case"base64":return F(this,_,E,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,_,E,C);default:if(le)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),le=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(_,E,C){return E===0&&C===_.length?r.fromByteArray(_):r.fromByteArray(_.slice(E,C))}function V(_,E,C){C=Math.min(_.length,C);let q=[],ee=E;for(;ee<C;){let le=_[ee],Se=null,Ze=le>239?4:le>223?3:le>191?2:1;if(ee+Ze<=C){let et,ft,bt,gt;switch(Ze){case 1:le<128&&(Se=le);break;case 2:et=_[ee+1],(et&192)===128&&(gt=(le&31)<<6|et&63,gt>127&&(Se=gt));break;case 3:et=_[ee+1],ft=_[ee+2],(et&192)===128&&(ft&192)===128&&(gt=(le&15)<<12|(et&63)<<6|ft&63,gt>2047&&(gt<55296||gt>57343)&&(Se=gt));break;case 4:et=_[ee+1],ft=_[ee+2],bt=_[ee+3],(et&192)===128&&(ft&192)===128&&(bt&192)===128&&(gt=(le&15)<<18|(et&63)<<12|(ft&63)<<6|bt&63,gt>65535&&gt<1114112&&(Se=gt))}}Se===null?(Se=65533,Ze=1):Se>65535&&(Se-=65536,q.push(Se>>>10&1023|55296),Se=56320|Se&1023),q.push(Se),ee+=Ze}return ae(q)}let _e=4096;function ae(_){let E=_.length;if(E<=_e)return String.fromCharCode.apply(String,_);let C="",q=0;for(;q<E;)C+=String.fromCharCode.apply(String,_.slice(q,q+=_e));return C}function De(_,E,C){let q="";C=Math.min(_.length,C);for(let ee=E;ee<C;++ee)q+=String.fromCharCode(_[ee]&127);return q}function ke(_,E,C){let q="";C=Math.min(_.length,C);for(let ee=E;ee<C;++ee)q+=String.fromCharCode(_[ee]);return q}function fe(_,E,C){let q=_.length;(!E||E<0)&&(E=0),(!C||C<0||C>q)&&(C=q);let ee="";for(let le=E;le<C;++le)ee+=be[_[le]];return ee}function Ne(_,E,C){let q=_.slice(E,C),ee="";for(let le=0;le<q.length-1;le+=2)ee+=String.fromCharCode(q[le]+q[le+1]*256);return ee}l.prototype.slice=function(_,E){let C=this.length;_=~~_,E=E===void 0?C:~~E,_<0?(_+=C,_<0&&(_=0)):_>C&&(_=C),E<0?(E+=C,E<0&&(E=0)):E>C&&(E=C),E<_&&(E=_);let q=this.subarray(_,E);return Object.setPrototypeOf(q,l.prototype),q};function ie(_,E,C){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+E>C)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(_,E,C){_=_>>>0,E=E>>>0,C||ie(_,E,this.length);let q=this[_],ee=1,le=0;for(;++le<E&&(ee*=256);)q+=this[_+le]*ee;return q},l.prototype.readUintBE=l.prototype.readUIntBE=function(_,E,C){_=_>>>0,E=E>>>0,C||ie(_,E,this.length);let q=this[_+--E],ee=1;for(;E>0&&(ee*=256);)q+=this[_+--E]*ee;return q},l.prototype.readUint8=l.prototype.readUInt8=function(_,E){return _=_>>>0,E||ie(_,1,this.length),this[_]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(_,E){return _=_>>>0,E||ie(_,2,this.length),this[_]|this[_+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(_,E){return _=_>>>0,E||ie(_,2,this.length),this[_]<<8|this[_+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(_,E){return _=_>>>0,E||ie(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(_,E){return _=_>>>0,E||ie(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},l.prototype.readBigUInt64LE=ye(function(_){_=_>>>0,we(_,"offset");let E=this[_],C=this[_+7];(E===void 0||C===void 0)&&Ve(_,this.length-8);let q=E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ee=this[++_]+this[++_]*2**8+this[++_]*2**16+C*2**24;return BigInt(q)+(BigInt(ee)<<BigInt(32))}),l.prototype.readBigUInt64BE=ye(function(_){_=_>>>0,we(_,"offset");let E=this[_],C=this[_+7];(E===void 0||C===void 0)&&Ve(_,this.length-8);let q=E*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ee=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+C;return(BigInt(q)<<BigInt(32))+BigInt(ee)}),l.prototype.readIntLE=function(_,E,C){_=_>>>0,E=E>>>0,C||ie(_,E,this.length);let q=this[_],ee=1,le=0;for(;++le<E&&(ee*=256);)q+=this[_+le]*ee;return ee*=128,q>=ee&&(q-=Math.pow(2,8*E)),q},l.prototype.readIntBE=function(_,E,C){_=_>>>0,E=E>>>0,C||ie(_,E,this.length);let q=E,ee=1,le=this[_+--q];for(;q>0&&(ee*=256);)le+=this[_+--q]*ee;return ee*=128,le>=ee&&(le-=Math.pow(2,8*E)),le},l.prototype.readInt8=function(_,E){return _=_>>>0,E||ie(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},l.prototype.readInt16LE=function(_,E){_=_>>>0,E||ie(_,2,this.length);let C=this[_]|this[_+1]<<8;return C&32768?C|4294901760:C},l.prototype.readInt16BE=function(_,E){_=_>>>0,E||ie(_,2,this.length);let C=this[_+1]|this[_]<<8;return C&32768?C|4294901760:C},l.prototype.readInt32LE=function(_,E){return _=_>>>0,E||ie(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},l.prototype.readInt32BE=function(_,E){return _=_>>>0,E||ie(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},l.prototype.readBigInt64LE=ye(function(_){_=_>>>0,we(_,"offset");let E=this[_],C=this[_+7];(E===void 0||C===void 0)&&Ve(_,this.length-8);let q=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(C<<24);return(BigInt(q)<<BigInt(32))+BigInt(E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),l.prototype.readBigInt64BE=ye(function(_){_=_>>>0,we(_,"offset");let E=this[_],C=this[_+7];(E===void 0||C===void 0)&&Ve(_,this.length-8);let q=(E<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+C)}),l.prototype.readFloatLE=function(_,E){return _=_>>>0,E||ie(_,4,this.length),e.read(this,_,!0,23,4)},l.prototype.readFloatBE=function(_,E){return _=_>>>0,E||ie(_,4,this.length),e.read(this,_,!1,23,4)},l.prototype.readDoubleLE=function(_,E){return _=_>>>0,E||ie(_,8,this.length),e.read(this,_,!0,52,8)},l.prototype.readDoubleBE=function(_,E){return _=_>>>0,E||ie(_,8,this.length),e.read(this,_,!1,52,8)};function J(_,E,C,q,ee,le){if(!l.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>ee||E<le)throw new RangeError('"value" argument is out of bounds');if(C+q>_.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(_,E,C,q){if(_=+_,E=E>>>0,C=C>>>0,!q){let Se=Math.pow(2,8*C)-1;J(this,_,E,C,Se,0)}let ee=1,le=0;for(this[E]=_&255;++le<C&&(ee*=256);)this[E+le]=_/ee&255;return E+C},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(_,E,C,q){if(_=+_,E=E>>>0,C=C>>>0,!q){let Se=Math.pow(2,8*C)-1;J(this,_,E,C,Se,0)}let ee=C-1,le=1;for(this[E+ee]=_&255;--ee>=0&&(le*=256);)this[E+ee]=_/le&255;return E+C},l.prototype.writeUint8=l.prototype.writeUInt8=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,1,255,0),this[E]=_&255,E+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,2,65535,0),this[E]=_&255,this[E+1]=_>>>8,E+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,2,65535,0),this[E]=_>>>8,this[E+1]=_&255,E+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,4,4294967295,0),this[E+3]=_>>>24,this[E+2]=_>>>16,this[E+1]=_>>>8,this[E]=_&255,E+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,4,4294967295,0),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4};function W(_,E,C,q,ee){ge(E,q,ee,_,C,7);let le=Number(E&BigInt(4294967295));_[C++]=le,le=le>>8,_[C++]=le,le=le>>8,_[C++]=le,le=le>>8,_[C++]=le;let Se=Number(E>>BigInt(32)&BigInt(4294967295));return _[C++]=Se,Se=Se>>8,_[C++]=Se,Se=Se>>8,_[C++]=Se,Se=Se>>8,_[C++]=Se,C}function Ee(_,E,C,q,ee){ge(E,q,ee,_,C,7);let le=Number(E&BigInt(4294967295));_[C+7]=le,le=le>>8,_[C+6]=le,le=le>>8,_[C+5]=le,le=le>>8,_[C+4]=le;let Se=Number(E>>BigInt(32)&BigInt(4294967295));return _[C+3]=Se,Se=Se>>8,_[C+2]=Se,Se=Se>>8,_[C+1]=Se,Se=Se>>8,_[C]=Se,C+8}l.prototype.writeBigUInt64LE=ye(function(_,E=0){return W(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ye(function(_,E=0){return Ee(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(_,E,C,q){if(_=+_,E=E>>>0,!q){let Ze=Math.pow(2,8*C-1);J(this,_,E,C,Ze-1,-Ze)}let ee=0,le=1,Se=0;for(this[E]=_&255;++ee<C&&(le*=256);)_<0&&Se===0&&this[E+ee-1]!==0&&(Se=1),this[E+ee]=(_/le>>0)-Se&255;return E+C},l.prototype.writeIntBE=function(_,E,C,q){if(_=+_,E=E>>>0,!q){let Ze=Math.pow(2,8*C-1);J(this,_,E,C,Ze-1,-Ze)}let ee=C-1,le=1,Se=0;for(this[E+ee]=_&255;--ee>=0&&(le*=256);)_<0&&Se===0&&this[E+ee+1]!==0&&(Se=1),this[E+ee]=(_/le>>0)-Se&255;return E+C},l.prototype.writeInt8=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,1,127,-128),_<0&&(_=255+_+1),this[E]=_&255,E+1},l.prototype.writeInt16LE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,2,32767,-32768),this[E]=_&255,this[E+1]=_>>>8,E+2},l.prototype.writeInt16BE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,2,32767,-32768),this[E]=_>>>8,this[E+1]=_&255,E+2},l.prototype.writeInt32LE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,4,2147483647,-2147483648),this[E]=_&255,this[E+1]=_>>>8,this[E+2]=_>>>16,this[E+3]=_>>>24,E+4},l.prototype.writeInt32BE=function(_,E,C){return _=+_,E=E>>>0,C||J(this,_,E,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4},l.prototype.writeBigInt64LE=ye(function(_,E=0){return W(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ye(function(_,E=0){return Ee(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(_,E,C,q,ee,le){if(C+q>_.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function oe(_,E,C,q,ee){return E=+E,C=C>>>0,ee||Le(_,E,C,4),e.write(_,E,C,q,23,4),C+4}l.prototype.writeFloatLE=function(_,E,C){return oe(this,_,E,!0,C)},l.prototype.writeFloatBE=function(_,E,C){return oe(this,_,E,!1,C)};function qe(_,E,C,q,ee){return E=+E,C=C>>>0,ee||Le(_,E,C,8),e.write(_,E,C,q,52,8),C+8}l.prototype.writeDoubleLE=function(_,E,C){return qe(this,_,E,!0,C)},l.prototype.writeDoubleBE=function(_,E,C){return qe(this,_,E,!1,C)},l.prototype.copy=function(_,E,C,q){if(!l.isBuffer(_))throw new TypeError("argument should be a Buffer");if(C||(C=0),!q&&q!==0&&(q=this.length),E>=_.length&&(E=_.length),E||(E=0),q>0&&q<C&&(q=C),q===C||_.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-E<q-C&&(q=_.length-E+C);let ee=q-C;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,C,q):Uint8Array.prototype.set.call(_,this.subarray(C,q),E),ee},l.prototype.fill=function(_,E,C,q){if(typeof _=="string"){if(typeof E=="string"?(q=E,E=0,C=this.length):typeof C=="string"&&(q=C,C=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!l.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(_.length===1){let le=_.charCodeAt(0);(q==="utf8"&&le<128||q==="latin1")&&(_=le)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(E<0||this.length<E||this.length<C)throw new RangeError("Out of range index");if(C<=E)return this;E=E>>>0,C=C===void 0?this.length:C>>>0,_||(_=0);let ee;if(typeof _=="number")for(ee=E;ee<C;++ee)this[ee]=_;else{let le=l.isBuffer(_)?_:l.from(_,q),Se=le.length;if(Se===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ee=0;ee<C-E;++ee)this[ee+E]=le[ee%Se]}return this};let ce={};function te(_,E,C){ce[_]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(_,E){return`The "${_}" argument must be of type number. Received type ${typeof E}`},TypeError),te("ERR_OUT_OF_RANGE",function(_,E,C){let q=`The value of "${_}" is out of range.`,ee=C;return Number.isInteger(C)&&Math.abs(C)>2**32?ee=Ae(String(C)):typeof C=="bigint"&&(ee=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(ee=Ae(ee)),ee+="n"),q+=` It must be ${E}. Received ${ee}`,q},RangeError);function Ae(_){let E="",C=_.length,q=_[0]==="-"?1:0;for(;C>=q+4;C-=3)E=`_${_.slice(C-3,C)}${E}`;return`${_.slice(0,C)}${E}`}function de(_,E,C){we(E,"offset"),(_[E]===void 0||_[E+C]===void 0)&&Ve(E,_.length-(C+1))}function ge(_,E,C,q,ee,le){if(_>C||_<E){let Se=typeof E=="bigint"?"n":"",Ze;throw E===0||E===BigInt(0)?Ze=`>= 0${Se} and < 2${Se} ** ${(le+1)*8}${Se}`:Ze=`>= -(2${Se} ** ${(le+1)*8-1}${Se}) and < 2 ** ${(le+1)*8-1}${Se}`,new ce.ERR_OUT_OF_RANGE("value",Ze,_)}de(q,ee,le)}function we(_,E){if(typeof _!="number")throw new ce.ERR_INVALID_ARG_TYPE(E,"number",_)}function Ve(_,E,C){throw Math.floor(_)!==_?(we(_,C),new ce.ERR_OUT_OF_RANGE("offset","an integer",_)):E<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,_)}let Me=/[^+/0-9A-Za-z-_]/g;function se(_){if(_=_.split("=")[0],_=_.trim().replace(Me,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function ue(_,E){E=E||1/0;let C,q=_.length,ee=null,le=[];for(let Se=0;Se<q;++Se){if(C=_.charCodeAt(Se),C>55295&&C<57344){if(!ee){if(C>56319){(E-=3)>-1&&le.push(239,191,189);continue}else if(Se+1===q){(E-=3)>-1&&le.push(239,191,189);continue}ee=C;continue}if(C<56320){(E-=3)>-1&&le.push(239,191,189),ee=C;continue}C=(ee-55296<<10|C-56320)+65536}else ee&&(E-=3)>-1&&le.push(239,191,189);if(ee=null,C<128){if((E-=1)<0)break;le.push(C)}else if(C<2048){if((E-=2)<0)break;le.push(C>>6|192,C&63|128)}else if(C<65536){if((E-=3)<0)break;le.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((E-=4)<0)break;le.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return le}function Ie(_){let E=[];for(let C=0;C<_.length;++C)E.push(_.charCodeAt(C)&255);return E}function Q(_,E){let C,q,ee,le=[];for(let Se=0;Se<_.length&&!((E-=2)<0);++Se)C=_.charCodeAt(Se),q=C>>8,ee=C%256,le.push(ee),le.push(q);return le}function X(_){return r.toByteArray(se(_))}function ne(_,E,C,q){let ee;for(ee=0;ee<q&&!(ee+C>=E.length||ee>=_.length);++ee)E[ee+C]=_[ee];return ee}function Y(_,E){return _ instanceof E||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===E.name}function pe(_){return _!==_}let be=function(){let _="0123456789abcdef",E=new Array(256);for(let C=0;C<16;++C){let q=C*16;for(let ee=0;ee<16;++ee)E[q+ee]=_[C]+_[ee]}return E}();function ye(_){return typeof BigInt>"u"?Xe:_}function Xe(){throw new Error("BigInt not supported")}return go}var Ml,ev,dc,tv,go,rv,xs,gd,Ix,Cx,Kr=Tn(()=>{je(),ze(),$e(),Ml={},ev=!1,dc={},tv=!1,go={},rv=!1,xs=YL(),xs.Buffer,xs.SlowBuffer,xs.INSPECT_MAX_BYTES,xs.kMaxLength,gd=xs.Buffer,Ix=xs.INSPECT_MAX_BYTES,Cx=xs.kMaxLength}),ze=Tn(()=>{Kr()}),JL=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=class{constructor(t){this.aliasToTopic={},this.max=t}put(t,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=t,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(t){return this.aliasToTopic[t]}clear(){this.aliasToTopic={}}};r.default=e}),dr=Ke((r,e)=>{je(),ze(),$e();var t=class extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let s="";for(let o=0;o<n.length;o++)s+=`    ${n[o].stack}
`;super(s),this.name="AggregateError",this.errors=n}};e.exports={AggregateError:t,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,s){return n.includes(s)},ArrayPrototypeIndexOf(n,s){return n.indexOf(s)},ArrayPrototypeJoin(n,s){return n.join(s)},ArrayPrototypeMap(n,s){return n.map(s)},ArrayPrototypePop(n,s){return n.pop(s)},ArrayPrototypePush(n,s){return n.push(s)},ArrayPrototypeSlice(n,s,o){return n.slice(s,o)},Error,FunctionPrototypeCall(n,s,...o){return n.call(s,...o)},FunctionPrototypeSymbolHasInstance(n,s){return Function.prototype[Symbol.hasInstance].call(n,s)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,s){return Object.defineProperties(n,s)},ObjectDefineProperty(n,s,o){return Object.defineProperty(n,s,o)},ObjectGetOwnPropertyDescriptor(n,s){return Object.getOwnPropertyDescriptor(n,s)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,s){return Object.setPrototypeOf(n,s)},Promise,PromisePrototypeCatch(n,s){return n.catch(s)},PromisePrototypeThen(n,s,o){return n.then(s,o)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,s){return n.test(s)},SafeSet:Set,String,StringPrototypeSlice(n,s,o){return n.slice(s,o)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,s,o){return n.set(s,o)},Boolean,Uint8Array}}),Rx=Ke((r,e)=>{je(),ze(),$e(),e.exports={format(t,...n){return t.replace(/%([sdifj])/g,function(...[s,o]){let l=n.shift();return o==="f"?l.toFixed(6):o==="j"?JSON.stringify(l):o==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}}),xn=Ke((r,e)=>{je(),ze(),$e();var{format:t,inspect:n}=Rx(),{AggregateError:s}=dr(),o=globalThis.AggregateError||s,l=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",d={};function m(x,R){if(!x)throw new d.ERR_INTERNAL_ASSERTION(R)}function y(x){let R="",z=x.length,H=x[0]==="-"?1:0;for(;z>=H+4;z-=3)R=`_${x.slice(z-3,z)}${R}`;return`${x.slice(0,z)}${R}`}function v(x,R,z){if(typeof R=="function")return m(R.length<=z.length,`Code: ${x}; The provided arguments length (${z.length}) does not match the required ones (${R.length}).`),R(...z);let H=(R.match(/%[dfijoOs]/g)||[]).length;return m(H===z.length,`Code: ${x}; The provided arguments length (${z.length}) does not match the required ones (${H}).`),z.length===0?R:t(R,...z)}function w(x,R,z){z||(z=Error);class H extends z{constructor(...P){super(v(x,R,P))}toString(){return`${this.name} [${x}]: ${this.message}`}}Object.defineProperties(H.prototype,{name:{value:z.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${x}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),H.prototype.code=x,H.prototype[l]=!0,d[x]=H}function S(x){let R=h+x.name;return Object.defineProperty(x,"name",{value:R}),x}function T(x,R){if(x&&R&&x!==R){if(Array.isArray(R.errors))return R.errors.push(x),R;let z=new o([R,x],R.message);return z.code=R.code,z}return x||R}var O=class extends Error{constructor(x="The operation was aborted",R=void 0){if(R!==void 0&&typeof R!="object")throw new d.ERR_INVALID_ARG_TYPE("options","Object",R);super(x,R),this.code="ABORT_ERR",this.name="AbortError"}};w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(x,R,z)=>{m(typeof x=="string","'name' must be a string"),Array.isArray(R)||(R=[R]);let H="The ";x.endsWith(" argument")?H+=`${x} `:H+=`"${x}" ${x.includes(".")?"property":"argument"} `,H+="must be ";let j=[],P=[],k=[];for(let F of R)m(typeof F=="string","All expected entries have to be of type string"),u.includes(F)?j.push(F.toLowerCase()):c.test(F)?P.push(F):(m(F!=="object",'The value "object" should be written as "Object"'),k.push(F));if(P.length>0){let F=j.indexOf("object");F!==-1&&(j.splice(j,F,1),P.push("Object"))}if(j.length>0){switch(j.length){case 1:H+=`of type ${j[0]}`;break;case 2:H+=`one of type ${j[0]} or ${j[1]}`;break;default:{let F=j.pop();H+=`one of type ${j.join(", ")}, or ${F}`}}(P.length>0||k.length>0)&&(H+=" or ")}if(P.length>0){switch(P.length){case 1:H+=`an instance of ${P[0]}`;break;case 2:H+=`an instance of ${P[0]} or ${P[1]}`;break;default:{let F=P.pop();H+=`an instance of ${P.join(", ")}, or ${F}`}}k.length>0&&(H+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(H+="an "),H+=`${k[0]}`;break;case 2:H+=`one of ${k[0]} or ${k[1]}`;break;default:{let F=k.pop();H+=`one of ${k.join(", ")}, or ${F}`}}if(z==null)H+=`. Received ${z}`;else if(typeof z=="function"&&z.name)H+=`. Received function ${z.name}`;else if(typeof z=="object"){var M;if((M=z.constructor)!==null&&M!==void 0&&M.name)H+=`. Received an instance of ${z.constructor.name}`;else{let F=n(z,{depth:-1});H+=`. Received ${F}`}}else{let F=n(z,{colors:!1});F.length>25&&(F=`${F.slice(0,25)}...`),H+=`. Received type ${typeof z} (${F})`}return H},TypeError),w("ERR_INVALID_ARG_VALUE",(x,R,z="is invalid")=>{let H=n(R);return H.length>128&&(H=H.slice(0,128)+"..."),`The ${x.includes(".")?"property":"argument"} '${x}' ${z}. Received ${H}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(x,R,z)=>{var H;let j=z!=null&&(H=z.constructor)!==null&&H!==void 0&&H.name?`instance of ${z.constructor.name}`:`type ${typeof z}`;return`Expected ${x} to be returned from the "${R}" function but got ${j}.`},TypeError),w("ERR_MISSING_ARGS",(...x)=>{m(x.length>0,"At least one arg needs to be specified");let R,z=x.length;switch(x=(Array.isArray(x)?x:[x]).map(H=>`"${H}"`).join(" or "),z){case 1:R+=`The ${x[0]} argument`;break;case 2:R+=`The ${x[0]} and ${x[1]} arguments`;break;default:{let H=x.pop();R+=`The ${x.join(", ")}, and ${H} arguments`}break}return`${R} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(x,R,z)=>{m(R,'Missing "range" argument');let H;if(Number.isInteger(z)&&Math.abs(z)>2**32)H=y(String(z));else if(typeof z=="bigint"){H=String(z);let j=BigInt(2)**BigInt(32);(z>j||z<-j)&&(H=y(H)),H+="n"}else H=n(z);return`The value of "${x}" is out of range. It must be ${R}. Received ${H}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:O,aggregateTwoErrors:S(T),hideStackFrames:S,codes:d}}),Lc=Ke((r,e)=>{je(),ze(),$e();var{AbortController:t,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t});function Qt(){Qt.init.call(this)}function Uf(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function kx(r){return r._maxListeners===void 0?Qt.defaultMaxListeners:r._maxListeners}function IE(r,e,t,n){var s,o,l,u;if(Uf(t),(o=r._events)===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),l=o[e]),l===void 0)l=o[e]=t,++r._eventsCount;else if(typeof l=="function"?l=o[e]=n?[t,l]:[l,t]:n?l.unshift(t):l.push(t),(s=kx(r))>0&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=r,c.type=e,c.count=l.length,u=c,console&&console.warn&&console.warn(u)}return r}function XL(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function CE(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},s=XL.bind(n);return s.listener=t,n.wrapFn=s,s}function RE(r,e,t){var n=r._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?t?[s.listener||s]:[s]:t?function(o){for(var l=new Array(o.length),u=0;u<l.length;++u)l[u]=o[u].listener||o[u];return l}(s):Px(s,s.length)}function kE(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function Px(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}var PE,NE,da,Hm,Qm,Km,Kn,OE=Tn(()=>{je(),ze(),$e(),da=typeof Reflect=="object"?Reflect:null,Hm=da&&typeof da.apply=="function"?da.apply:function(r,e,t){return Function.prototype.apply.call(r,e,t)},NE=da&&typeof da.ownKeys=="function"?da.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)},Qm=Number.isNaN||function(r){return r!=r},PE=Qt,Qt.EventEmitter=Qt,Qt.prototype._events=void 0,Qt.prototype._eventsCount=0,Qt.prototype._maxListeners=void 0,Km=10,Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return Km},set:function(r){if(typeof r!="number"||r<0||Qm(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Km=r}}),Qt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Qt.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Qm(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},Qt.prototype.getMaxListeners=function(){return kx(this)},Qt.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var n=r==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var u=s[r];if(u===void 0)return!1;if(typeof u=="function")Hm(u,this,e);else{var c=u.length,h=Px(u,c);for(t=0;t<c;++t)Hm(h[t],this,e)}return!0},Qt.prototype.addListener=function(r,e){return IE(this,r,e,!1)},Qt.prototype.on=Qt.prototype.addListener,Qt.prototype.prependListener=function(r,e){return IE(this,r,e,!0)},Qt.prototype.once=function(r,e){return Uf(e),this.on(r,CE(this,r,e)),this},Qt.prototype.prependOnceListener=function(r,e){return Uf(e),this.prependListener(r,CE(this,r,e)),this},Qt.prototype.removeListener=function(r,e){var t,n,s,o,l;if(Uf(e),(n=this._events)===void 0)return this;if((t=n[r])===void 0)return this;if(t===e||t.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[r],n.removeListener&&this.emit("removeListener",r,t.listener||e));else if(typeof t!="function"){for(s=-1,o=t.length-1;o>=0;o--)if(t[o]===e||t[o].listener===e){l=t[o].listener,s=o;break}if(s<0)return this;s===0?t.shift():function(u,c){for(;c+1<u.length;c++)u[c]=u[c+1];u.pop()}(t,s),t.length===1&&(n[r]=t[0]),n.removeListener!==void 0&&this.emit("removeListener",r,l||e)}return this},Qt.prototype.off=Qt.prototype.removeListener,Qt.prototype.removeAllListeners=function(r){var e,t,n;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[r]),this;if(arguments.length===0){var s,o=Object.keys(t);for(n=0;n<o.length;++n)(s=o[n])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=t[r])=="function")this.removeListener(r,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(r,e[n]);return this},Qt.prototype.listeners=function(r){return RE(this,r,!0)},Qt.prototype.rawListeners=function(r){return RE(this,r,!1)},Qt.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):kE.call(r,e)},Qt.prototype.listenerCount=kE,Qt.prototype.eventNames=function(){return this._eventsCount>0?NE(this._events):[]},Kn=PE,Kn.EventEmitter,Kn.defaultMaxListeners,Kn.init,Kn.listenerCount,Kn.EventEmitter,Kn.defaultMaxListeners,Kn.init,Kn.listenerCount}),zo={};yu(zo,{EventEmitter:()=>Nx,default:()=>Kn,defaultMaxListeners:()=>Ox,init:()=>Dx,listenerCount:()=>Lx,on:()=>Mx,once:()=>Fx});var Nx,Ox,Dx,Lx,Mx,Fx,Qa=Tn(()=>{je(),ze(),$e(),OE(),OE(),Kn.once=function(r,e){return new Promise((t,n)=>{function s(...l){o!==void 0&&r.removeListener("error",o),t(l)}let o;e!=="error"&&(o=l=>{r.removeListener(name,s),n(l)},r.once("error",o)),r.once(e,s)})},Kn.on=function(r,e){let t=[],n=[],s=null,o=!1,l={async next(){let h=t.shift();if(h)return createIterResult(h,!1);if(s){let d=Promise.reject(s);return s=null,d}return o?createIterResult(void 0,!0):new Promise((d,m)=>n.push({resolve:d,reject:m}))},async return(){r.removeListener(e,u),r.removeListener("error",c),o=!0;for(let h of n)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){s=h,r.removeListener(e,u),r.removeListener("error",c)},[Symbol.asyncIterator](){return this}};return r.on(e,u),r.on("error",c),l;function u(...h){let d=n.shift();d?d.resolve(createIterResult(h,!1)):t.push(h)}function c(h){o=!0;let d=n.shift();d?d.reject(h):s=h,l.return()}},{EventEmitter:Nx,defaultMaxListeners:Ox,init:Dx,listenerCount:Lx,on:Mx,once:Fx}=Kn}),Un=Ke((r,e)=>{je(),ze(),$e();var t=(Kr(),Kt(Qr)),{format:n,inspect:s}=Rx(),{codes:{ERR_INVALID_ARG_TYPE:o}}=xn(),{kResistStopPropagation:l,AggregateError:u,SymbolDispose:c}=dr(),h=globalThis.AbortSignal||Lc().AbortSignal,d=globalThis.AbortController||Lc().AbortController,m=Object.getPrototypeOf(async function(){}).constructor,y=globalThis.Blob||t.Blob,v=typeof y<"u"?function(T){return T instanceof y}:function(T){return!1},w=(T,O)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new o(O,"AbortSignal",T)},S=(T,O)=>{if(typeof T!="function")throw new o(O,"Function",T)};e.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(T){let O=!1;return function(...x){O||(O=!0,T.apply(this,x))}},createDeferredPromise:function(){let T,O;return{promise:new Promise((x,R)=>{T=x,O=R}),resolve:T,reject:O}},promisify(T){return new Promise((O,x)=>{T((R,...z)=>R?x(R):O(...z))})},debuglog(){return function(){}},format:n,inspect:s,types:{isAsyncFunction(T){return T instanceof m},isArrayBufferView(T){return ArrayBuffer.isView(T)}},isBlob:v,deprecate(T,O){return T},addAbortListener:(Qa(),Kt(zo)).addAbortListener||function(T,O){if(T===void 0)throw new o("signal","AbortSignal",T);w(T,"signal"),S(O,"listener");let x;return T.aborted?queueMicrotask(()=>O()):(T.addEventListener("abort",O,{__proto__:null,once:!0,[l]:!0}),x=()=>{T.removeEventListener("abort",O)}),{__proto__:null,[c](){var R;(R=x)===null||R===void 0||R()}}},AbortSignalAny:h.any||function(T){if(T.length===1)return T[0];let O=new d,x=()=>O.abort();return T.forEach(R=>{w(R,"signals"),R.addEventListener("abort",x,{once:!0})}),O.signal.addEventListener("abort",()=>{T.forEach(R=>R.removeEventListener("abort",x))},{once:!0}),O.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Jc=Ke((r,e)=>{je(),ze(),$e();var{ArrayIsArray:t,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:s,ArrayPrototypeMap:o,NumberIsInteger:l,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:h,NumberParseInt:d,ObjectPrototypeHasOwnProperty:m,RegExpPrototypeExec:y,String:v,StringPrototypeToUpperCase:w,StringPrototypeTrim:S}=dr(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:O,ERR_INVALID_ARG_TYPE:x,ERR_INVALID_ARG_VALUE:R,ERR_OUT_OF_RANGE:z,ERR_UNKNOWN_SIGNAL:H}}=xn(),{normalizeEncoding:j}=Un(),{isAsyncFunction:P,isArrayBufferView:k}=Un().types,M={};function F(Y){return Y===(Y|0)}function $(Y){return Y===Y>>>0}var N=/^[0-7]+$/,V="must be a 32-bit unsigned integer or an octal string";function _e(Y,pe,be){if(typeof Y>"u"&&(Y=be),typeof Y=="string"){if(y(N,Y)===null)throw new R(pe,Y,V);Y=d(Y,8)}return ke(Y,pe),Y}var ae=T((Y,pe,be=h,ye=c)=>{if(typeof Y!="number")throw new x(pe,"number",Y);if(!l(Y))throw new z(pe,"an integer",Y);if(Y<be||Y>ye)throw new z(pe,`>= ${be} && <= ${ye}`,Y)}),De=T((Y,pe,be=-2147483648,ye=2147483647)=>{if(typeof Y!="number")throw new x(pe,"number",Y);if(!l(Y))throw new z(pe,"an integer",Y);if(Y<be||Y>ye)throw new z(pe,`>= ${be} && <= ${ye}`,Y)}),ke=T((Y,pe,be=!1)=>{if(typeof Y!="number")throw new x(pe,"number",Y);if(!l(Y))throw new z(pe,"an integer",Y);let ye=be?1:0,Xe=4294967295;if(Y<ye||Y>Xe)throw new z(pe,`>= ${ye} && <= ${Xe}`,Y)});function fe(Y,pe){if(typeof Y!="string")throw new x(pe,"string",Y)}function Ne(Y,pe,be=void 0,ye){if(typeof Y!="number")throw new x(pe,"number",Y);if(be!=null&&Y<be||ye!=null&&Y>ye||(be!=null||ye!=null)&&u(Y))throw new z(pe,`${be!=null?`>= ${be}`:""}${be!=null&&ye!=null?" && ":""}${ye!=null?`<= ${ye}`:""}`,Y)}var ie=T((Y,pe,be)=>{if(!n(be,Y)){let ye="must be one of: "+s(o(be,Xe=>typeof Xe=="string"?`'${Xe}'`:v(Xe)),", ");throw new R(pe,Y,ye)}});function J(Y,pe){if(typeof Y!="boolean")throw new x(pe,"boolean",Y)}function W(Y,pe,be){return Y==null||!m(Y,pe)?be:Y[pe]}var Ee=T((Y,pe,be=null)=>{let ye=W(be,"allowArray",!1),Xe=W(be,"allowFunction",!1);if(!W(be,"nullable",!1)&&Y===null||!ye&&t(Y)||typeof Y!="object"&&(!Xe||typeof Y!="function"))throw new x(pe,"Object",Y)}),Le=T((Y,pe)=>{if(Y!=null&&typeof Y!="object"&&typeof Y!="function")throw new x(pe,"a dictionary",Y)}),oe=T((Y,pe,be=0)=>{if(!t(Y))throw new x(pe,"Array",Y);if(Y.length<be){let ye=`must be longer than ${be}`;throw new R(pe,Y,ye)}});function qe(Y,pe){oe(Y,pe);for(let be=0;be<Y.length;be++)fe(Y[be],`${pe}[${be}]`)}function ce(Y,pe){oe(Y,pe);for(let be=0;be<Y.length;be++)J(Y[be],`${pe}[${be}]`)}function te(Y,pe){oe(Y,pe);for(let be=0;be<Y.length;be++){let ye=Y[be],Xe=`${pe}[${be}]`;if(ye==null)throw new x(Xe,"AbortSignal",ye);Ve(ye,Xe)}}function Ae(Y,pe="signal"){if(fe(Y,pe),M[Y]===void 0)throw M[w(Y)]!==void 0?new H(Y+" (signals must use all capital letters)"):new H(Y)}var de=T((Y,pe="buffer")=>{if(!k(Y))throw new x(pe,["Buffer","TypedArray","DataView"],Y)});function ge(Y,pe){let be=j(pe),ye=Y.length;if(be==="hex"&&ye%2!==0)throw new R("encoding",pe,`is invalid for data of length ${ye}`)}function we(Y,pe="Port",be=!0){if(typeof Y!="number"&&typeof Y!="string"||typeof Y=="string"&&S(Y).length===0||+Y!==+Y>>>0||Y>65535||Y===0&&!be)throw new O(pe,Y,be);return Y|0}var Ve=T((Y,pe)=>{if(Y!==void 0&&(Y===null||typeof Y!="object"||!("aborted"in Y)))throw new x(pe,"AbortSignal",Y)}),Me=T((Y,pe)=>{if(typeof Y!="function")throw new x(pe,"Function",Y)}),se=T((Y,pe)=>{if(typeof Y!="function"||P(Y))throw new x(pe,"Function",Y)}),ue=T((Y,pe)=>{if(Y!==void 0)throw new x(pe,"undefined",Y)});function Ie(Y,pe,be){if(!n(be,Y))throw new x(pe,`('${s(be,"|")}')`,Y)}var Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function X(Y,pe){if(typeof Y>"u"||!y(Q,Y))throw new R(pe,Y,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ne(Y){if(typeof Y=="string")return X(Y,"hints"),Y;if(t(Y)){let pe=Y.length,be="";if(pe===0)return be;for(let ye=0;ye<pe;ye++){let Xe=Y[ye];X(Xe,"hints"),be+=Xe,ye!==pe-1&&(be+=", ")}return be}throw new R("hints",Y,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:F,isUint32:$,parseFileMode:_e,validateArray:oe,validateStringArray:qe,validateBooleanArray:ce,validateAbortSignalArray:te,validateBoolean:J,validateBuffer:de,validateDictionary:Le,validateEncoding:ge,validateFunction:Me,validateInt32:De,validateInteger:ae,validateNumber:Ne,validateObject:Ee,validateOneOf:ie,validatePlainFunction:se,validatePort:we,validateSignalName:Ae,validateString:fe,validateUint32:ke,validateUndefined:ue,validateUnion:Ie,validateAbortSignal:Ve,validateLinkHeaderValue:ne}}),Ka=Ke((r,e)=>{je(),ze(),$e();var t=e.exports={},n,s;function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=o}catch{n=o}try{typeof clearTimeout=="function"?s=clearTimeout:s=l}catch{s=l}})();function u(O){if(n===setTimeout)return setTimeout(O,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(O,0);try{return n(O,0)}catch{try{return n.call(null,O,0)}catch{return n.call(this,O,0)}}}function c(O){if(s===clearTimeout)return clearTimeout(O);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(O);try{return s(O)}catch{try{return s.call(null,O)}catch{return s.call(this,O)}}}var h=[],d=!1,m,y=-1;function v(){!d||!m||(d=!1,m.length?h=m.concat(h):y=-1,h.length&&w())}function w(){if(!d){var O=u(v);d=!0;for(var x=h.length;x;){for(m=h,h=[];++y<x;)m&&m[y].run();y=-1,x=h.length}m=null,d=!1,c(O)}}t.nextTick=function(O){var x=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)x[R-1]=arguments[R];h.push(new S(O,x)),h.length===1&&!d&&u(w)};function S(O,x){this.fun=O,this.array=x}S.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function T(){}t.on=T,t.addListener=T,t.once=T,t.off=T,t.removeListener=T,t.removeAllListeners=T,t.emit=T,t.prependListener=T,t.prependOnceListener=T,t.listeners=function(O){return[]},t.binding=function(O){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(O){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),js=Ke((r,e)=>{je(),ze(),$e();var{SymbolAsyncIterator:t,SymbolIterator:n,SymbolFor:s}=dr(),o=s("nodejs.stream.destroyed"),l=s("nodejs.stream.errored"),u=s("nodejs.stream.readable"),c=s("nodejs.stream.writable"),h=s("nodejs.stream.disturbed"),d=s("nodejs.webstream.isClosedPromise"),m=s("nodejs.webstream.controllerErrorFunction");function y(W,Ee=!1){var Le;return!!(W&&typeof W.pipe=="function"&&typeof W.on=="function"&&(!Ee||typeof W.pause=="function"&&typeof W.resume=="function")&&(!W._writableState||((Le=W._readableState)===null||Le===void 0?void 0:Le.readable)!==!1)&&(!W._writableState||W._readableState))}function v(W){var Ee;return!!(W&&typeof W.write=="function"&&typeof W.on=="function"&&(!W._readableState||((Ee=W._writableState)===null||Ee===void 0?void 0:Ee.writable)!==!1))}function w(W){return!!(W&&typeof W.pipe=="function"&&W._readableState&&typeof W.on=="function"&&typeof W.write=="function")}function S(W){return W&&(W._readableState||W._writableState||typeof W.write=="function"&&typeof W.on=="function"||typeof W.pipe=="function"&&typeof W.on=="function")}function T(W){return!!(W&&!S(W)&&typeof W.pipeThrough=="function"&&typeof W.getReader=="function"&&typeof W.cancel=="function")}function O(W){return!!(W&&!S(W)&&typeof W.getWriter=="function"&&typeof W.abort=="function")}function x(W){return!!(W&&!S(W)&&typeof W.readable=="object"&&typeof W.writable=="object")}function R(W){return T(W)||O(W)||x(W)}function z(W,Ee){return W==null?!1:Ee===!0?typeof W[t]=="function":Ee===!1?typeof W[n]=="function":typeof W[t]=="function"||typeof W[n]=="function"}function H(W){if(!S(W))return null;let Ee=W._writableState,Le=W._readableState,oe=Ee||Le;return!!(W.destroyed||W[o]||oe!=null&&oe.destroyed)}function j(W){if(!v(W))return null;if(W.writableEnded===!0)return!0;let Ee=W._writableState;return Ee!=null&&Ee.errored?!1:typeof(Ee==null?void 0:Ee.ended)!="boolean"?null:Ee.ended}function P(W,Ee){if(!v(W))return null;if(W.writableFinished===!0)return!0;let Le=W._writableState;return Le!=null&&Le.errored?!1:typeof(Le==null?void 0:Le.finished)!="boolean"?null:!!(Le.finished||Ee===!1&&Le.ended===!0&&Le.length===0)}function k(W){if(!y(W))return null;if(W.readableEnded===!0)return!0;let Ee=W._readableState;return!Ee||Ee.errored?!1:typeof(Ee==null?void 0:Ee.ended)!="boolean"?null:Ee.ended}function M(W,Ee){if(!y(W))return null;let Le=W._readableState;return Le!=null&&Le.errored?!1:typeof(Le==null?void 0:Le.endEmitted)!="boolean"?null:!!(Le.endEmitted||Ee===!1&&Le.ended===!0&&Le.length===0)}function F(W){return W&&W[u]!=null?W[u]:typeof(W==null?void 0:W.readable)!="boolean"?null:H(W)?!1:y(W)&&W.readable&&!M(W)}function $(W){return W&&W[c]!=null?W[c]:typeof(W==null?void 0:W.writable)!="boolean"?null:H(W)?!1:v(W)&&W.writable&&!j(W)}function N(W,Ee){return S(W)?H(W)?!0:!((Ee==null?void 0:Ee.readable)!==!1&&F(W)||(Ee==null?void 0:Ee.writable)!==!1&&$(W)):null}function V(W){var Ee,Le;return S(W)?W.writableErrored?W.writableErrored:(Ee=(Le=W._writableState)===null||Le===void 0?void 0:Le.errored)!==null&&Ee!==void 0?Ee:null:null}function _e(W){var Ee,Le;return S(W)?W.readableErrored?W.readableErrored:(Ee=(Le=W._readableState)===null||Le===void 0?void 0:Le.errored)!==null&&Ee!==void 0?Ee:null:null}function ae(W){if(!S(W))return null;if(typeof W.closed=="boolean")return W.closed;let Ee=W._writableState,Le=W._readableState;return typeof(Ee==null?void 0:Ee.closed)=="boolean"||typeof(Le==null?void 0:Le.closed)=="boolean"?(Ee==null?void 0:Ee.closed)||(Le==null?void 0:Le.closed):typeof W._closed=="boolean"&&De(W)?W._closed:null}function De(W){return typeof W._closed=="boolean"&&typeof W._defaultKeepAlive=="boolean"&&typeof W._removedConnection=="boolean"&&typeof W._removedContLen=="boolean"}function ke(W){return typeof W._sent100=="boolean"&&De(W)}function fe(W){var Ee;return typeof W._consuming=="boolean"&&typeof W._dumped=="boolean"&&((Ee=W.req)===null||Ee===void 0?void 0:Ee.upgradeOrConnect)===void 0}function Ne(W){if(!S(W))return null;let Ee=W._writableState,Le=W._readableState,oe=Ee||Le;return!oe&&ke(W)||!!(oe&&oe.autoDestroy&&oe.emitClose&&oe.closed===!1)}function ie(W){var Ee;return!!(W&&((Ee=W[h])!==null&&Ee!==void 0?Ee:W.readableDidRead||W.readableAborted))}function J(W){var Ee,Le,oe,qe,ce,te,Ae,de,ge,we;return!!(W&&((Ee=(Le=(oe=(qe=(ce=(te=W[l])!==null&&te!==void 0?te:W.readableErrored)!==null&&ce!==void 0?ce:W.writableErrored)!==null&&qe!==void 0?qe:(Ae=W._readableState)===null||Ae===void 0?void 0:Ae.errorEmitted)!==null&&oe!==void 0?oe:(de=W._writableState)===null||de===void 0?void 0:de.errorEmitted)!==null&&Le!==void 0?Le:(ge=W._readableState)===null||ge===void 0?void 0:ge.errored)!==null&&Ee!==void 0?Ee:!((we=W._writableState)===null||we===void 0)&&we.errored))}e.exports={isDestroyed:H,kIsDestroyed:o,isDisturbed:ie,kIsDisturbed:h,isErrored:J,kIsErrored:l,isReadable:F,kIsReadable:u,kIsClosedPromise:d,kControllerErrorFunction:m,kIsWritable:c,isClosed:ae,isDuplexNodeStream:w,isFinished:N,isIterable:z,isReadableNodeStream:y,isReadableStream:T,isReadableEnded:k,isReadableFinished:M,isReadableErrored:_e,isNodeStream:S,isWebStream:R,isWritable:$,isWritableNodeStream:v,isWritableStream:O,isWritableEnded:j,isWritableFinished:P,isWritableErrored:V,isServerRequest:fe,isServerResponse:ke,willEmitClose:Ne,isTransformStream:x}}),Wo=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),{AbortError:n,codes:s}=xn(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:l}=s,{kEmptyObject:u,once:c}=Un(),{validateAbortSignal:h,validateFunction:d,validateObject:m,validateBoolean:y}=Jc(),{Promise:v,PromisePrototypeThen:w,SymbolDispose:S}=dr(),{isClosed:T,isReadable:O,isReadableNodeStream:x,isReadableStream:R,isReadableFinished:z,isReadableErrored:H,isWritable:j,isWritableNodeStream:P,isWritableStream:k,isWritableFinished:M,isWritableErrored:F,isNodeStream:$,willEmitClose:N,kIsClosedPromise:V}=js(),_e;function ae(ie){return ie.setHeader&&typeof ie.abort=="function"}var De=()=>{};function ke(ie,J,W){var Ee,Le;if(arguments.length===2?(W=J,J=u):J==null?J=u:m(J,"options"),d(W,"callback"),h(J.signal,"options.signal"),W=c(W),R(ie)||k(ie))return fe(ie,J,W);if(!$(ie))throw new o("stream",["ReadableStream","WritableStream","Stream"],ie);let oe=(Ee=J.readable)!==null&&Ee!==void 0?Ee:x(ie),qe=(Le=J.writable)!==null&&Le!==void 0?Le:P(ie),ce=ie._writableState,te=ie._readableState,Ae=()=>{ie.writable||we()},de=N(ie)&&x(ie)===oe&&P(ie)===qe,ge=M(ie,!1),we=()=>{ge=!0,ie.destroyed&&(de=!1),!(de&&(!ie.readable||oe))&&(!oe||Ve)&&W.call(ie)},Ve=z(ie,!1),Me=()=>{Ve=!0,ie.destroyed&&(de=!1),!(de&&(!ie.writable||qe))&&(!qe||ge)&&W.call(ie)},se=Y=>{W.call(ie,Y)},ue=T(ie),Ie=()=>{ue=!0;let Y=F(ie)||H(ie);if(Y&&typeof Y!="boolean")return W.call(ie,Y);if(oe&&!Ve&&x(ie,!0)&&!z(ie,!1))return W.call(ie,new l);if(qe&&!ge&&!M(ie,!1))return W.call(ie,new l);W.call(ie)},Q=()=>{ue=!0;let Y=F(ie)||H(ie);if(Y&&typeof Y!="boolean")return W.call(ie,Y);W.call(ie)},X=()=>{ie.req.on("finish",we)};ae(ie)?(ie.on("complete",we),de||ie.on("abort",Ie),ie.req?X():ie.on("request",X)):qe&&!ce&&(ie.on("end",Ae),ie.on("close",Ae)),!de&&typeof ie.aborted=="boolean"&&ie.on("aborted",Ie),ie.on("end",Me),ie.on("finish",we),J.error!==!1&&ie.on("error",se),ie.on("close",Ie),ue?t.nextTick(Ie):ce!=null&&ce.errorEmitted||te!=null&&te.errorEmitted?de||t.nextTick(Q):(!oe&&(!de||O(ie))&&(ge||j(ie)===!1)||!qe&&(!de||j(ie))&&(Ve||O(ie)===!1)||te&&ie.req&&ie.aborted)&&t.nextTick(Q);let ne=()=>{W=De,ie.removeListener("aborted",Ie),ie.removeListener("complete",we),ie.removeListener("abort",Ie),ie.removeListener("request",X),ie.req&&ie.req.removeListener("finish",we),ie.removeListener("end",Ae),ie.removeListener("close",Ae),ie.removeListener("finish",we),ie.removeListener("end",Me),ie.removeListener("error",se),ie.removeListener("close",Ie)};if(J.signal&&!ue){let Y=()=>{let pe=W;ne(),pe.call(ie,new n(void 0,{cause:J.signal.reason}))};if(J.signal.aborted)t.nextTick(Y);else{_e=_e||Un().addAbortListener;let pe=_e(J.signal,Y),be=W;W=c((...ye)=>{pe[S](),be.apply(ie,ye)})}}return ne}function fe(ie,J,W){let Ee=!1,Le=De;if(J.signal)if(Le=()=>{Ee=!0,W.call(ie,new n(void 0,{cause:J.signal.reason}))},J.signal.aborted)t.nextTick(Le);else{_e=_e||Un().addAbortListener;let qe=_e(J.signal,Le),ce=W;W=c((...te)=>{qe[S](),ce.apply(ie,te)})}let oe=(...qe)=>{Ee||t.nextTick(()=>W.apply(ie,qe))};return w(ie[V].promise,oe,oe),De}function Ne(ie,J){var W;let Ee=!1;return J===null&&(J=u),(W=J)!==null&&W!==void 0&&W.cleanup&&(y(J.cleanup,"cleanup"),Ee=J.cleanup),new v((Le,oe)=>{let qe=ke(ie,J,ce=>{Ee&&qe(),ce?oe(ce):Le()})})}e.exports=ke,e.exports.finished=Ne}),vu=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:o}=xn(),{Symbol:l}=dr(),{kIsDestroyed:u,isDestroyed:c,isFinished:h,isServerRequest:d}=js(),m=l("kDestroy"),y=l("kConstruct");function v(N,V,_e){N&&(N.stack,V&&!V.errored&&(V.errored=N),_e&&!_e.errored&&(_e.errored=N))}function w(N,V){let _e=this._readableState,ae=this._writableState,De=ae||_e;return ae!=null&&ae.destroyed||_e!=null&&_e.destroyed?(typeof V=="function"&&V(),this):(v(N,ae,_e),ae&&(ae.destroyed=!0),_e&&(_e.destroyed=!0),De.constructed?S(this,N,V):this.once(m,function(ke){S(this,n(ke,N),V)}),this)}function S(N,V,_e){let ae=!1;function De(ke){if(ae)return;ae=!0;let fe=N._readableState,Ne=N._writableState;v(ke,Ne,fe),Ne&&(Ne.closed=!0),fe&&(fe.closed=!0),typeof _e=="function"&&_e(ke),ke?t.nextTick(T,N,ke):t.nextTick(O,N)}try{N._destroy(V||null,De)}catch(ke){De(ke)}}function T(N,V){x(N,V),O(N)}function O(N){let V=N._readableState,_e=N._writableState;_e&&(_e.closeEmitted=!0),V&&(V.closeEmitted=!0),(_e!=null&&_e.emitClose||V!=null&&V.emitClose)&&N.emit("close")}function x(N,V){let _e=N._readableState,ae=N._writableState;ae!=null&&ae.errorEmitted||_e!=null&&_e.errorEmitted||(ae&&(ae.errorEmitted=!0),_e&&(_e.errorEmitted=!0),N.emit("error",V))}function R(){let N=this._readableState,V=this._writableState;N&&(N.constructed=!0,N.closed=!1,N.closeEmitted=!1,N.destroyed=!1,N.errored=null,N.errorEmitted=!1,N.reading=!1,N.ended=N.readable===!1,N.endEmitted=N.readable===!1),V&&(V.constructed=!0,V.destroyed=!1,V.closed=!1,V.closeEmitted=!1,V.errored=null,V.errorEmitted=!1,V.finalCalled=!1,V.prefinished=!1,V.ended=V.writable===!1,V.ending=V.writable===!1,V.finished=V.writable===!1)}function z(N,V,_e){let ae=N._readableState,De=N._writableState;if(De!=null&&De.destroyed||ae!=null&&ae.destroyed)return this;ae!=null&&ae.autoDestroy||De!=null&&De.autoDestroy?N.destroy(V):V&&(V.stack,De&&!De.errored&&(De.errored=V),ae&&!ae.errored&&(ae.errored=V),_e?t.nextTick(x,N,V):x(N,V))}function H(N,V){if(typeof N._construct!="function")return;let _e=N._readableState,ae=N._writableState;_e&&(_e.constructed=!1),ae&&(ae.constructed=!1),N.once(y,V),!(N.listenerCount(y)>1)&&t.nextTick(j,N)}function j(N){let V=!1;function _e(ae){if(V){z(N,ae??new s);return}V=!0;let De=N._readableState,ke=N._writableState,fe=ke||De;De&&(De.constructed=!0),ke&&(ke.constructed=!0),fe.destroyed?N.emit(m,ae):ae?z(N,ae,!0):t.nextTick(P,N)}try{N._construct(ae=>{t.nextTick(_e,ae)})}catch(ae){t.nextTick(_e,ae)}}function P(N){N.emit(y)}function k(N){return(N==null?void 0:N.setHeader)&&typeof N.abort=="function"}function M(N){N.emit("close")}function F(N,V){N.emit("error",V),t.nextTick(M,N)}function $(N,V){!N||c(N)||(!V&&!h(N)&&(V=new o),d(N)?(N.socket=null,N.destroy(V)):k(N)?N.abort():k(N.req)?N.req.abort():typeof N.destroy=="function"?N.destroy(V):typeof N.close=="function"?N.close():V?t.nextTick(F,N,V):t.nextTick(M,N),N.destroyed||(N[u]=!0))}e.exports={construct:H,destroyer:$,destroy:w,undestroy:R,errorOrDestroy:z}}),p0=Ke((r,e)=>{je(),ze(),$e();var{ArrayIsArray:t,ObjectSetPrototypeOf:n}=dr(),{EventEmitter:s}=(Qa(),Kt(zo));function o(u){s.call(this,u)}n(o.prototype,s.prototype),n(o,s),o.prototype.pipe=function(u,c){let h=this;function d(O){u.writable&&u.write(O)===!1&&h.pause&&h.pause()}h.on("data",d);function m(){h.readable&&h.resume&&h.resume()}u.on("drain",m),!u._isStdio&&(!c||c.end!==!1)&&(h.on("end",v),h.on("close",w));let y=!1;function v(){y||(y=!0,u.end())}function w(){y||(y=!0,typeof u.destroy=="function"&&u.destroy())}function S(O){T(),s.listenerCount(this,"error")===0&&this.emit("error",O)}l(h,"error",S),l(u,"error",S);function T(){h.removeListener("data",d),u.removeListener("drain",m),h.removeListener("end",v),h.removeListener("close",w),h.removeListener("error",S),u.removeListener("error",S),h.removeListener("end",T),h.removeListener("close",T),u.removeListener("close",T)}return h.on("end",T),h.on("close",T),u.on("close",T),u.emit("pipe",h),u};function l(u,c,h){if(typeof u.prependListener=="function")return u.prependListener(c,h);!u._events||!u._events[c]?u.on(c,h):t(u._events[c])?u._events[c].unshift(h):u._events[c]=[h,u._events[c]]}e.exports={Stream:o,prependListener:l}}),Kd=Ke((r,e)=>{je(),ze(),$e();var{SymbolDispose:t}=dr(),{AbortError:n,codes:s}=xn(),{isNodeStream:o,isWebStream:l,kControllerErrorFunction:u}=js(),c=Wo(),{ERR_INVALID_ARG_TYPE:h}=s,d,m=(y,v)=>{if(typeof y!="object"||!("aborted"in y))throw new h(v,"AbortSignal",y)};e.exports.addAbortSignal=function(y,v){if(m(y,"signal"),!o(v)&&!l(v))throw new h("stream",["ReadableStream","WritableStream","Stream"],v);return e.exports.addAbortSignalNoValidate(y,v)},e.exports.addAbortSignalNoValidate=function(y,v){if(typeof y!="object"||!("aborted"in y))return v;let w=o(v)?()=>{v.destroy(new n(void 0,{cause:y.reason}))}:()=>{v[u](new n(void 0,{cause:y.reason}))};if(y.aborted)w();else{d=d||Un().addAbortListener;let S=d(y,w);c(v,S[t])}return v}}),ZL=Ke((r,e)=>{je(),ze(),$e();var{StringPrototypeSlice:t,SymbolIterator:n,TypedArrayPrototypeSet:s,Uint8Array:o}=dr(),{Buffer:l}=(Kr(),Kt(Qr)),{inspect:u}=Un();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(c){let h={data:c,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(c){let h={data:c,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}clear(){this.head=this.tail=null,this.length=0}join(c){if(this.length===0)return"";let h=this.head,d=""+h.data;for(;(h=h.next)!==null;)d+=c+h.data;return d}concat(c){if(this.length===0)return l.alloc(0);let h=l.allocUnsafe(c>>>0),d=this.head,m=0;for(;d;)s(h,d.data,m),m+=d.data.length,d=d.next;return h}consume(c,h){let d=this.head.data;if(c<d.length){let m=d.slice(0,c);return this.head.data=d.slice(c),m}return c===d.length?this.shift():h?this._getString(c):this._getBuffer(c)}first(){return this.head.data}*[n](){for(let c=this.head;c;c=c.next)yield c.data}_getString(c){let h="",d=this.head,m=0;do{let y=d.data;if(c>y.length)h+=y,c-=y.length;else{c===y.length?(h+=y,++m,d.next?this.head=d.next:this.head=this.tail=null):(h+=t(y,0,c),this.head=d,d.data=t(y,c));break}++m}while((d=d.next)!==null);return this.length-=m,h}_getBuffer(c){let h=l.allocUnsafe(c),d=c,m=this.head,y=0;do{let v=m.data;if(c>v.length)s(h,v,d-c),c-=v.length;else{c===v.length?(s(h,v,d-c),++y,m.next?this.head=m.next:this.head=this.tail=null):(s(h,new o(v.buffer,v.byteOffset,c),d-c),this.head=m,m.data=v.slice(c));break}++y}while((m=m.next)!==null);return this.length-=y,h}[Symbol.for("nodejs.util.inspect.custom")](c,h){return u(this,{...h,depth:0,customInspect:!1})}}}),Gd=Ke((r,e)=>{je(),ze(),$e();var{MathFloor:t,NumberIsInteger:n}=dr(),{validateInteger:s}=Jc(),{ERR_INVALID_ARG_VALUE:o}=xn().codes,l=16*1024,u=16;function c(y,v,w){return y.highWaterMark!=null?y.highWaterMark:v?y[w]:null}function h(y){return y?u:l}function d(y,v){s(v,"value",0),y?u=v:l=v}function m(y,v,w,S){let T=c(v,S,w);if(T!=null){if(!n(T)||T<0){let O=S?`options.${w}`:"options.highWaterMark";throw new o(O,T)}return t(T)}return h(y.objectMode)}e.exports={getHighWaterMark:m,getDefaultHighWaterMark:h,setDefaultHighWaterMark:d}}),eM=Ke((r,e)=>{je(),ze(),$e();var t=(Kr(),Kt(Qr)),n=t.Buffer;function s(l,u){for(var c in l)u[c]=l[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(s(t,r),r.Buffer=o);function o(l,u,c){return n(l,u,c)}o.prototype=Object.create(n.prototype),s(n,o),o.from=function(l,u,c){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,u,c)},o.alloc=function(l,u,c){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=n(l);return u!==void 0?typeof c=="string"?h.fill(u,c):h.fill(u):h.fill(0),h},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}}),tM=Ke(r=>{je(),ze(),$e();var e=eM().Buffer,t=e.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(x){if(!x)return"utf8";for(var R;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(R)return;x=(""+x).toLowerCase(),R=!0}}function s(x){var R=n(x);if(typeof R!="string"&&(e.isEncoding===t||!t(x)))throw new Error("Unknown encoding: "+x);return R||x}r.StringDecoder=o;function o(x){this.encoding=s(x);var R;switch(this.encoding){case"utf16le":this.text=y,this.end=v,R=4;break;case"utf8":this.fillLast=h,R=4;break;case"base64":this.text=w,this.end=S,R=3;break;default:this.write=T,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(R)}o.prototype.write=function(x){if(x.length===0)return"";var R,z;if(this.lastNeed){if(R=this.fillLast(x),R===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<x.length?R?R+this.text(x,z):this.text(x,z):R||""},o.prototype.end=m,o.prototype.text=d,o.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function l(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function u(x,R,z){var H=R.length-1;if(H<z)return 0;var j=l(R[H]);return j>=0?(j>0&&(x.lastNeed=j-1),j):--H<z||j===-2?0:(j=l(R[H]),j>=0?(j>0&&(x.lastNeed=j-2),j):--H<z||j===-2?0:(j=l(R[H]),j>=0?(j>0&&(j===2?j=0:x.lastNeed=j-3),j):0))}function c(x,R,z){if((R[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return x.lastNeed=2,""}}function h(x){var R=this.lastTotal-this.lastNeed,z=c(this,x);if(z!==void 0)return z;if(this.lastNeed<=x.length)return x.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,R,0,x.length),this.lastNeed-=x.length}function d(x,R){var z=u(this,x,R);if(!this.lastNeed)return x.toString("utf8",R);this.lastTotal=z;var H=x.length-(z-this.lastNeed);return x.copy(this.lastChar,0,H),x.toString("utf8",R,H)}function m(x){var R=x&&x.length?this.write(x):"";return this.lastNeed?R+"":R}function y(x,R){if((x.length-R)%2===0){var z=x.toString("utf16le",R);if(z){var H=z.charCodeAt(z.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",R,x.length-1)}function v(x){var R=x&&x.length?this.write(x):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,z)}return R}function w(x,R){var z=(x.length-R)%3;return z===0?x.toString("base64",R):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",R,x.length-z))}function S(x){var R=x&&x.length?this.write(x):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function T(x){return x.toString(this.encoding)}function O(x){return x&&x.length?this.write(x):""}}),Vx=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),{PromisePrototypeThen:n,SymbolAsyncIterator:s,SymbolIterator:o}=dr(),{Buffer:l}=(Kr(),Kt(Qr)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:c}=xn().codes;function h(d,m,y){let v;if(typeof m=="string"||m instanceof l)return new d({objectMode:!0,...y,read(){this.push(m),this.push(null)}});let w;if(m&&m[s])w=!0,v=m[s]();else if(m&&m[o])w=!1,v=m[o]();else throw new u("iterable",["Iterable"],m);let S=new d({objectMode:!0,highWaterMark:1,...y}),T=!1;S._read=function(){T||(T=!0,x())},S._destroy=function(R,z){n(O(R),()=>t.nextTick(z,R),H=>t.nextTick(z,H||R))};async function O(R){let z=R!=null,H=typeof v.throw=="function";if(z&&H){let{value:j,done:P}=await v.throw(R);if(await j,P)return}if(typeof v.return=="function"){let{value:j}=await v.return();await j}}async function x(){for(;;){try{let{value:R,done:z}=w?await v.next():v.next();if(z)S.push(null);else{let H=R&&typeof R.then=="function"?await R:R;if(H===null)throw T=!1,new c;if(S.push(H))continue;T=!1}}catch(R){S.destroy(R)}break}}return S}e.exports=h}),Yd=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),{ArrayPrototypeIndexOf:n,NumberIsInteger:s,NumberIsNaN:o,NumberParseInt:l,ObjectDefineProperties:u,ObjectKeys:c,ObjectSetPrototypeOf:h,Promise:d,SafeSet:m,SymbolAsyncDispose:y,SymbolAsyncIterator:v,Symbol:w}=dr();e.exports=ye,ye.ReadableState=be;var{EventEmitter:S}=(Qa(),Kt(zo)),{Stream:T,prependListener:O}=p0(),{Buffer:x}=(Kr(),Kt(Qr)),{addAbortSignal:R}=Kd(),z=Wo(),H=Un().debuglog("stream",G=>{H=G}),j=ZL(),P=vu(),{getHighWaterMark:k,getDefaultHighWaterMark:M}=Gd(),{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:V,ERR_STREAM_PUSH_AFTER_EOF:_e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ae},AbortError:De}=xn(),{validateObject:ke}=Jc(),fe=w("kPaused"),{StringDecoder:Ne}=tM(),ie=Vx();h(ye.prototype,T.prototype),h(ye,T);var J=()=>{},{errorOrDestroy:W}=P,Ee=1,Le=2,oe=4,qe=8,ce=16,te=32,Ae=64,de=128,ge=256,we=512,Ve=1024,Me=2048,se=4096,ue=8192,Ie=16384,Q=32768,X=65536,ne=1<<17,Y=1<<18;function pe(G){return{enumerable:!1,get(){return(this.state&G)!==0},set(Z){Z?this.state|=G:this.state&=~G}}}u(be.prototype,{objectMode:pe(Ee),ended:pe(Le),endEmitted:pe(oe),reading:pe(qe),constructed:pe(ce),sync:pe(te),needReadable:pe(Ae),emittedReadable:pe(de),readableListening:pe(ge),resumeScheduled:pe(we),errorEmitted:pe(Ve),emitClose:pe(Me),autoDestroy:pe(se),destroyed:pe(ue),closed:pe(Ie),closeEmitted:pe(Q),multiAwaitDrain:pe(X),readingMore:pe(ne),dataEmitted:pe(Y)});function be(G,Z,Ge){typeof Ge!="boolean"&&(Ge=Z instanceof Us()),this.state=Me|se|ce|te,G&&G.objectMode&&(this.state|=Ee),Ge&&G&&G.readableObjectMode&&(this.state|=Ee),this.highWaterMark=G?k(this,G,"readableHighWaterMark",Ge):M(!1),this.buffer=new j,this.length=0,this.pipes=[],this.flowing=null,this[fe]=null,G&&G.emitClose===!1&&(this.state&=-2049),G&&G.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=G&&G.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,G&&G.encoding&&(this.decoder=new Ne(G.encoding),this.encoding=G.encoding)}function ye(G){if(!(this instanceof ye))return new ye(G);let Z=this instanceof Us();this._readableState=new be(G,this,Z),G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.construct=="function"&&(this._construct=G.construct),G.signal&&!Z&&R(G.signal,this)),T.call(this,G),P.construct(this,()=>{this._readableState.needReadable&&Ze(this,this._readableState)})}ye.prototype.destroy=P.destroy,ye.prototype._undestroy=P.undestroy,ye.prototype._destroy=function(G,Z){Z(G)},ye.prototype[S.captureRejectionSymbol]=function(G){this.destroy(G)},ye.prototype[y]=function(){let G;return this.destroyed||(G=this.readableEnded?null:new De,this.destroy(G)),new d((Z,Ge)=>z(this,rt=>rt&&rt!==G?Ge(rt):Z(null)))},ye.prototype.push=function(G,Z){return Xe(this,G,Z,!1)},ye.prototype.unshift=function(G,Z){return Xe(this,G,Z,!0)};function Xe(G,Z,Ge,rt){H("readableAddChunk",Z);let st=G._readableState,nr;if(st.state&Ee||(typeof Z=="string"?(Ge=Ge||st.defaultEncoding,st.encoding!==Ge&&(rt&&st.encoding?Z=x.from(Z,Ge).toString(st.encoding):(Z=x.from(Z,Ge),Ge=""))):Z instanceof x?Ge="":T._isUint8Array(Z)?(Z=T._uint8ArrayToBuffer(Z),Ge=""):Z!=null&&(nr=new $("chunk",["string","Buffer","Uint8Array"],Z))),nr)W(G,nr);else if(Z===null)st.state&=-9,ee(G,st);else if(st.state&Ee||Z&&Z.length>0)if(rt)if(st.state&oe)W(G,new ae);else{if(st.destroyed||st.errored)return!1;_(G,st,Z,!0)}else if(st.ended)W(G,new _e);else{if(st.destroyed||st.errored)return!1;st.state&=-9,st.decoder&&!Ge?(Z=st.decoder.write(Z),st.objectMode||Z.length!==0?_(G,st,Z,!1):Ze(G,st)):_(G,st,Z,!1)}else rt||(st.state&=-9,Ze(G,st));return!st.ended&&(st.length<st.highWaterMark||st.length===0)}function _(G,Z,Ge,rt){Z.flowing&&Z.length===0&&!Z.sync&&G.listenerCount("data")>0?(Z.state&X?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null,Z.dataEmitted=!0,G.emit("data",Ge)):(Z.length+=Z.objectMode?1:Ge.length,rt?Z.buffer.unshift(Ge):Z.buffer.push(Ge),Z.state&Ae&&le(G)),Ze(G,Z)}ye.prototype.isPaused=function(){let G=this._readableState;return G[fe]===!0||G.flowing===!1},ye.prototype.setEncoding=function(G){let Z=new Ne(G);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;let Ge=this._readableState.buffer,rt="";for(let st of Ge)rt+=Z.write(st);return Ge.clear(),rt!==""&&Ge.push(rt),this._readableState.length=rt.length,this};var E=1073741824;function C(G){if(G>E)throw new V("size","<= 1GiB",G);return G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++,G}function q(G,Z){return G<=0||Z.length===0&&Z.ended?0:Z.state&Ee?1:o(G)?Z.flowing&&Z.length?Z.buffer.first().length:Z.length:G<=Z.length?G:Z.ended?Z.length:0}ye.prototype.read=function(G){H("read",G),G===void 0?G=NaN:s(G)||(G=l(G,10));let Z=this._readableState,Ge=G;if(G>Z.highWaterMark&&(Z.highWaterMark=C(G)),G!==0&&(Z.state&=-129),G===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return H("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?Pt(this):le(this),null;if(G=q(G,Z),G===0&&Z.ended)return Z.length===0&&Pt(this),null;let rt=(Z.state&Ae)!==0;if(H("need readable",rt),(Z.length===0||Z.length-G<Z.highWaterMark)&&(rt=!0,H("length less than watermark",rt)),Z.ended||Z.reading||Z.destroyed||Z.errored||!Z.constructed)rt=!1,H("reading, ended or constructing",rt);else if(rt){H("do read"),Z.state|=qe|te,Z.length===0&&(Z.state|=Ae);try{this._read(Z.highWaterMark)}catch(nr){W(this,nr)}Z.state&=-33,Z.reading||(G=q(Ge,Z))}let st;return G>0?st=mt(G,Z):st=null,st===null?(Z.needReadable=Z.length<=Z.highWaterMark,G=0):(Z.length-=G,Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null),Z.length===0&&(Z.ended||(Z.needReadable=!0),Ge!==G&&Z.ended&&Pt(this)),st!==null&&!Z.errorEmitted&&!Z.closeEmitted&&(Z.dataEmitted=!0,this.emit("data",st)),st};function ee(G,Z){if(H("onEofChunk"),!Z.ended){if(Z.decoder){let Ge=Z.decoder.end();Ge&&Ge.length&&(Z.buffer.push(Ge),Z.length+=Z.objectMode?1:Ge.length)}Z.ended=!0,Z.sync?le(G):(Z.needReadable=!1,Z.emittedReadable=!0,Se(G))}}function le(G){let Z=G._readableState;H("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(H("emitReadable",Z.flowing),Z.emittedReadable=!0,t.nextTick(Se,G))}function Se(G){let Z=G._readableState;H("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&!Z.errored&&(Z.length||Z.ended)&&(G.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,Tr(G)}function Ze(G,Z){!Z.readingMore&&Z.constructed&&(Z.readingMore=!0,t.nextTick(et,G,Z))}function et(G,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){let Ge=Z.length;if(H("maybeReadMore read 0"),G.read(0),Ge===Z.length)break}Z.readingMore=!1}ye.prototype._read=function(G){throw new N("_read()")},ye.prototype.pipe=function(G,Z){let Ge=this,rt=this._readableState;rt.pipes.length===1&&(rt.multiAwaitDrain||(rt.multiAwaitDrain=!0,rt.awaitDrainWriters=new m(rt.awaitDrainWriters?[rt.awaitDrainWriters]:[]))),rt.pipes.push(G),H("pipe count=%d opts=%j",rt.pipes.length,Z);let st=(!Z||Z.end!==!1)&&G!==t.stdout&&G!==t.stderr?kr:Di;rt.endEmitted?t.nextTick(st):Ge.once("end",st),G.on("unpipe",nr);function nr(Bn,rn){H("onunpipe"),Bn===Ge&&rn&&rn.hasUnpiped===!1&&(rn.hasUnpiped=!0,wu())}function kr(){H("onend"),G.end()}let Pr,Ws=!1;function wu(){H("cleanup"),G.removeListener("close",hi),G.removeListener("finish",mn),Pr&&G.removeListener("drain",Pr),G.removeListener("error",pn),G.removeListener("unpipe",nr),Ge.removeListener("end",kr),Ge.removeListener("end",Di),Ge.removeListener("data",qo),Ws=!0,Pr&&rt.awaitDrainWriters&&(!G._writableState||G._writableState.needDrain)&&Pr()}function as(){Ws||(rt.pipes.length===1&&rt.pipes[0]===G?(H("false write response, pause",0),rt.awaitDrainWriters=G,rt.multiAwaitDrain=!1):rt.pipes.length>1&&rt.pipes.includes(G)&&(H("false write response, pause",rt.awaitDrainWriters.size),rt.awaitDrainWriters.add(G)),Ge.pause()),Pr||(Pr=ft(Ge,G),G.on("drain",Pr))}Ge.on("data",qo);function qo(Bn){H("ondata");let rn=G.write(Bn);H("dest.write",rn),rn===!1&&as()}function pn(Bn){if(H("onerror",Bn),Di(),G.removeListener("error",pn),G.listenerCount("error")===0){let rn=G._writableState||G._readableState;rn&&!rn.errorEmitted?W(G,Bn):G.emit("error",Bn)}}O(G,"error",pn);function hi(){G.removeListener("finish",mn),Di()}G.once("close",hi);function mn(){H("onfinish"),G.removeListener("close",hi),Di()}G.once("finish",mn);function Di(){H("unpipe"),Ge.unpipe(G)}return G.emit("pipe",Ge),G.writableNeedDrain===!0?as():rt.flowing||(H("pipe resume"),Ge.resume()),G};function ft(G,Z){return function(){let Ge=G._readableState;Ge.awaitDrainWriters===Z?(H("pipeOnDrain",1),Ge.awaitDrainWriters=null):Ge.multiAwaitDrain&&(H("pipeOnDrain",Ge.awaitDrainWriters.size),Ge.awaitDrainWriters.delete(Z)),(!Ge.awaitDrainWriters||Ge.awaitDrainWriters.size===0)&&G.listenerCount("data")&&G.resume()}}ye.prototype.unpipe=function(G){let Z=this._readableState,Ge={hasUnpiped:!1};if(Z.pipes.length===0)return this;if(!G){let st=Z.pipes;Z.pipes=[],this.pause();for(let nr=0;nr<st.length;nr++)st[nr].emit("unpipe",this,{hasUnpiped:!1});return this}let rt=n(Z.pipes,G);return rt===-1?this:(Z.pipes.splice(rt,1),Z.pipes.length===0&&this.pause(),G.emit("unpipe",this,Ge),this)},ye.prototype.on=function(G,Z){let Ge=T.prototype.on.call(this,G,Z),rt=this._readableState;return G==="data"?(rt.readableListening=this.listenerCount("readable")>0,rt.flowing!==!1&&this.resume()):G==="readable"&&!rt.endEmitted&&!rt.readableListening&&(rt.readableListening=rt.needReadable=!0,rt.flowing=!1,rt.emittedReadable=!1,H("on readable",rt.length,rt.reading),rt.length?le(this):rt.reading||t.nextTick(gt,this)),Ge},ye.prototype.addListener=ye.prototype.on,ye.prototype.removeListener=function(G,Z){let Ge=T.prototype.removeListener.call(this,G,Z);return G==="readable"&&t.nextTick(bt,this),Ge},ye.prototype.off=ye.prototype.removeListener,ye.prototype.removeAllListeners=function(G){let Z=T.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&t.nextTick(bt,this),Z};function bt(G){let Z=G._readableState;Z.readableListening=G.listenerCount("readable")>0,Z.resumeScheduled&&Z[fe]===!1?Z.flowing=!0:G.listenerCount("data")>0?G.resume():Z.readableListening||(Z.flowing=null)}function gt(G){H("readable nexttick read 0"),G.read(0)}ye.prototype.resume=function(){let G=this._readableState;return G.flowing||(H("resume"),G.flowing=!G.readableListening,Br(this,G)),G[fe]=!1,this};function Br(G,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,t.nextTick(_r,G,Z))}function _r(G,Z){H("resume",Z.reading),Z.reading||G.read(0),Z.resumeScheduled=!1,G.emit("resume"),Tr(G),Z.flowing&&!Z.reading&&G.read(0)}ye.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[fe]=!0,this};function Tr(G){let Z=G._readableState;for(H("flow",Z.flowing);Z.flowing&&G.read()!==null;);}ye.prototype.wrap=function(G){let Z=!1;G.on("data",rt=>{!this.push(rt)&&G.pause&&(Z=!0,G.pause())}),G.on("end",()=>{this.push(null)}),G.on("error",rt=>{W(this,rt)}),G.on("close",()=>{this.destroy()}),G.on("destroy",()=>{this.destroy()}),this._read=()=>{Z&&G.resume&&(Z=!1,G.resume())};let Ge=c(G);for(let rt=1;rt<Ge.length;rt++){let st=Ge[rt];this[st]===void 0&&typeof G[st]=="function"&&(this[st]=G[st].bind(G))}return this},ye.prototype[v]=function(){return kt(this)},ye.prototype.iterator=function(G){return G!==void 0&&ke(G,"options"),kt(this,G)};function kt(G,Z){typeof G.read!="function"&&(G=ye.wrap(G,{objectMode:!0}));let Ge=Wt(G,Z);return Ge.stream=G,Ge}async function*Wt(G,Z){let Ge=J;function rt(kr){this===G?(Ge(),Ge=J):Ge=kr}G.on("readable",rt);let st,nr=z(G,{writable:!1},kr=>{st=kr?F(st,kr):null,Ge(),Ge=J});try{for(;;){let kr=G.destroyed?null:G.read();if(kr!==null)yield kr;else{if(st)throw st;if(st===null)return;await new d(rt)}}}catch(kr){throw st=F(st,kr),st}finally{(st||(Z==null?void 0:Z.destroyOnReturn)!==!1)&&(st===void 0||G._readableState.autoDestroy)?P.destroyer(G,null):(G.off("readable",rt),nr())}}u(ye.prototype,{readable:{__proto__:null,get(){let G=this._readableState;return!!G&&G.readable!==!1&&!G.destroyed&&!G.errorEmitted&&!G.endEmitted},set(G){this._readableState&&(this._readableState.readable=!!G)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(G){this._readableState&&(this._readableState.destroyed=G)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[fe]!==!1},set(G){this[fe]=!!G}}}),ye._fromList=mt;function mt(G,Z){if(Z.length===0)return null;let Ge;return Z.objectMode?Ge=Z.buffer.shift():!G||G>=Z.length?(Z.decoder?Ge=Z.buffer.join(""):Z.buffer.length===1?Ge=Z.buffer.first():Ge=Z.buffer.concat(Z.length),Z.buffer.clear()):Ge=Z.buffer.consume(G,Z.decoder),Ge}function Pt(G){let Z=G._readableState;H("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,t.nextTick(mr,Z,G))}function mr(G,Z){if(H("endReadableNT",G.endEmitted,G.length),!G.errored&&!G.closeEmitted&&!G.endEmitted&&G.length===0){if(G.endEmitted=!0,Z.emit("end"),Z.writable&&Z.allowHalfOpen===!1)t.nextTick(Gt,Z);else if(G.autoDestroy){let Ge=Z._writableState;(!Ge||Ge.autoDestroy&&(Ge.finished||Ge.writable===!1))&&Z.destroy()}}}function Gt(G){G.writable&&!G.writableEnded&&!G.destroyed&&G.end()}ye.from=function(G,Z){return ie(ye,G,Z)};var wr;function jr(){return wr===void 0&&(wr={}),wr}ye.fromWeb=function(G,Z){return jr().newStreamReadableFromReadableStream(G,Z)},ye.toWeb=function(G,Z){return jr().newReadableStreamFromStreamReadable(G,Z)},ye.wrap=function(G,Z){var Ge,rt;return new ye({objectMode:(Ge=(rt=G.readableObjectMode)!==null&&rt!==void 0?rt:G.objectMode)!==null&&Ge!==void 0?Ge:!0,...Z,destroy(st,nr){P.destroyer(G,st),nr(st)}}).wrap(G)}}),m0=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),{ArrayPrototypeSlice:n,Error:s,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:l,ObjectDefineProperties:u,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:h,Symbol:d,SymbolHasInstance:m}=dr();e.exports=ke,ke.WritableState=ae;var{EventEmitter:y}=(Qa(),Kt(zo)),v=p0().Stream,{Buffer:w}=(Kr(),Kt(Qr)),S=vu(),{addAbortSignal:T}=Kd(),{getHighWaterMark:O,getDefaultHighWaterMark:x}=Gd(),{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:z,ERR_MULTIPLE_CALLBACK:H,ERR_STREAM_CANNOT_PIPE:j,ERR_STREAM_DESTROYED:P,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:M,ERR_STREAM_WRITE_AFTER_END:F,ERR_UNKNOWN_ENCODING:$}=xn().codes,{errorOrDestroy:N}=S;c(ke.prototype,v.prototype),c(ke,v);function V(){}var _e=d("kOnFinished");function ae(se,ue,Ie){typeof Ie!="boolean"&&(Ie=ue instanceof Us()),this.objectMode=!!(se&&se.objectMode),Ie&&(this.objectMode=this.objectMode||!!(se&&se.writableObjectMode)),this.highWaterMark=se?O(this,se,"writableHighWaterMark",Ie):x(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Q=!!(se&&se.decodeStrings===!1);this.decodeStrings=!Q,this.defaultEncoding=se&&se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=W.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,De(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!se||se.emitClose!==!1,this.autoDestroy=!se||se.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[_e]=[]}function De(se){se.buffered=[],se.bufferedIndex=0,se.allBuffers=!0,se.allNoop=!0}ae.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},l(ae.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ke(se){let ue=this instanceof Us();if(!ue&&!o(ke,this))return new ke(se);this._writableState=new ae(se,this,ue),se&&(typeof se.write=="function"&&(this._write=se.write),typeof se.writev=="function"&&(this._writev=se.writev),typeof se.destroy=="function"&&(this._destroy=se.destroy),typeof se.final=="function"&&(this._final=se.final),typeof se.construct=="function"&&(this._construct=se.construct),se.signal&&T(se.signal,this)),v.call(this,se),S.construct(this,()=>{let Ie=this._writableState;Ie.writing||qe(this,Ie),de(this,Ie)})}l(ke,m,{__proto__:null,value:function(se){return o(this,se)?!0:this!==ke?!1:se&&se._writableState instanceof ae}}),ke.prototype.pipe=function(){N(this,new j)};function fe(se,ue,Ie,Q){let X=se._writableState;if(typeof Ie=="function")Q=Ie,Ie=X.defaultEncoding;else{if(!Ie)Ie=X.defaultEncoding;else if(Ie!=="buffer"&&!w.isEncoding(Ie))throw new $(Ie);typeof Q!="function"&&(Q=V)}if(ue===null)throw new M;if(!X.objectMode)if(typeof ue=="string")X.decodeStrings!==!1&&(ue=w.from(ue,Ie),Ie="buffer");else if(ue instanceof w)Ie="buffer";else if(v._isUint8Array(ue))ue=v._uint8ArrayToBuffer(ue),Ie="buffer";else throw new R("chunk",["string","Buffer","Uint8Array"],ue);let ne;return X.ending?ne=new F:X.destroyed&&(ne=new P("write")),ne?(t.nextTick(Q,ne),N(se,ne,!0),ne):(X.pendingcb++,Ne(se,X,ue,Ie,Q))}ke.prototype.write=function(se,ue,Ie){return fe(this,se,ue,Ie)===!0},ke.prototype.cork=function(){this._writableState.corked++},ke.prototype.uncork=function(){let se=this._writableState;se.corked&&(se.corked--,se.writing||qe(this,se))},ke.prototype.setDefaultEncoding=function(se){if(typeof se=="string"&&(se=h(se)),!w.isEncoding(se))throw new $(se);return this._writableState.defaultEncoding=se,this};function Ne(se,ue,Ie,Q,X){let ne=ue.objectMode?1:Ie.length;ue.length+=ne;let Y=ue.length<ue.highWaterMark;return Y||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Ie,encoding:Q,callback:X}),ue.allBuffers&&Q!=="buffer"&&(ue.allBuffers=!1),ue.allNoop&&X!==V&&(ue.allNoop=!1)):(ue.writelen=ne,ue.writecb=X,ue.writing=!0,ue.sync=!0,se._write(Ie,Q,ue.onwrite),ue.sync=!1),Y&&!ue.errored&&!ue.destroyed}function ie(se,ue,Ie,Q,X,ne,Y){ue.writelen=Q,ue.writecb=Y,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new P("write")):Ie?se._writev(X,ue.onwrite):se._write(X,ne,ue.onwrite),ue.sync=!1}function J(se,ue,Ie,Q){--ue.pendingcb,Q(Ie),oe(ue),N(se,Ie)}function W(se,ue){let Ie=se._writableState,Q=Ie.sync,X=Ie.writecb;if(typeof X!="function"){N(se,new H);return}Ie.writing=!1,Ie.writecb=null,Ie.length-=Ie.writelen,Ie.writelen=0,ue?(ue.stack,Ie.errored||(Ie.errored=ue),se._readableState&&!se._readableState.errored&&(se._readableState.errored=ue),Q?t.nextTick(J,se,Ie,ue,X):J(se,Ie,ue,X)):(Ie.buffered.length>Ie.bufferedIndex&&qe(se,Ie),Q?Ie.afterWriteTickInfo!==null&&Ie.afterWriteTickInfo.cb===X?Ie.afterWriteTickInfo.count++:(Ie.afterWriteTickInfo={count:1,cb:X,stream:se,state:Ie},t.nextTick(Ee,Ie.afterWriteTickInfo)):Le(se,Ie,1,X))}function Ee({stream:se,state:ue,count:Ie,cb:Q}){return ue.afterWriteTickInfo=null,Le(se,ue,Ie,Q)}function Le(se,ue,Ie,Q){for(!ue.ending&&!se.destroyed&&ue.length===0&&ue.needDrain&&(ue.needDrain=!1,se.emit("drain"));Ie-- >0;)ue.pendingcb--,Q();ue.destroyed&&oe(ue),de(se,ue)}function oe(se){if(se.writing)return;for(let X=se.bufferedIndex;X<se.buffered.length;++X){var ue;let{chunk:ne,callback:Y}=se.buffered[X],pe=se.objectMode?1:ne.length;se.length-=pe,Y((ue=se.errored)!==null&&ue!==void 0?ue:new P("write"))}let Ie=se[_e].splice(0);for(let X=0;X<Ie.length;X++){var Q;Ie[X]((Q=se.errored)!==null&&Q!==void 0?Q:new P("end"))}De(se)}function qe(se,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;let{buffered:Ie,bufferedIndex:Q,objectMode:X}=ue,ne=Ie.length-Q;if(!ne)return;let Y=Q;if(ue.bufferProcessing=!0,ne>1&&se._writev){ue.pendingcb-=ne-1;let pe=ue.allNoop?V:ye=>{for(let Xe=Y;Xe<Ie.length;++Xe)Ie[Xe].callback(ye)},be=ue.allNoop&&Y===0?Ie:n(Ie,Y);be.allBuffers=ue.allBuffers,ie(se,ue,!0,ue.length,be,"",pe),De(ue)}else{do{let{chunk:pe,encoding:be,callback:ye}=Ie[Y];Ie[Y++]=null;let Xe=X?1:pe.length;ie(se,ue,!1,Xe,pe,be,ye)}while(Y<Ie.length&&!ue.writing);Y===Ie.length?De(ue):Y>256?(Ie.splice(0,Y),ue.bufferedIndex=0):ue.bufferedIndex=Y}ue.bufferProcessing=!1}ke.prototype._write=function(se,ue,Ie){if(this._writev)this._writev([{chunk:se,encoding:ue}],Ie);else throw new z("_write()")},ke.prototype._writev=null,ke.prototype.end=function(se,ue,Ie){let Q=this._writableState;typeof se=="function"?(Ie=se,se=null,ue=null):typeof ue=="function"&&(Ie=ue,ue=null);let X;if(se!=null){let ne=fe(this,se,ue);ne instanceof s&&(X=ne)}return Q.corked&&(Q.corked=1,this.uncork()),X||(!Q.errored&&!Q.ending?(Q.ending=!0,de(this,Q,!0),Q.ended=!0):Q.finished?X=new k("end"):Q.destroyed&&(X=new P("end"))),typeof Ie=="function"&&(X||Q.finished?t.nextTick(Ie,X):Q[_e].push(Ie)),this};function ce(se){return se.ending&&!se.destroyed&&se.constructed&&se.length===0&&!se.errored&&se.buffered.length===0&&!se.finished&&!se.writing&&!se.errorEmitted&&!se.closeEmitted}function te(se,ue){let Ie=!1;function Q(X){if(Ie){N(se,X??H());return}if(Ie=!0,ue.pendingcb--,X){let ne=ue[_e].splice(0);for(let Y=0;Y<ne.length;Y++)ne[Y](X);N(se,X,ue.sync)}else ce(ue)&&(ue.prefinished=!0,se.emit("prefinish"),ue.pendingcb++,t.nextTick(ge,se,ue))}ue.sync=!0,ue.pendingcb++;try{se._final(Q)}catch(X){Q(X)}ue.sync=!1}function Ae(se,ue){!ue.prefinished&&!ue.finalCalled&&(typeof se._final=="function"&&!ue.destroyed?(ue.finalCalled=!0,te(se,ue)):(ue.prefinished=!0,se.emit("prefinish")))}function de(se,ue,Ie){ce(ue)&&(Ae(se,ue),ue.pendingcb===0&&(Ie?(ue.pendingcb++,t.nextTick((Q,X)=>{ce(X)?ge(Q,X):X.pendingcb--},se,ue)):ce(ue)&&(ue.pendingcb++,ge(se,ue))))}function ge(se,ue){ue.pendingcb--,ue.finished=!0;let Ie=ue[_e].splice(0);for(let Q=0;Q<Ie.length;Q++)Ie[Q]();if(se.emit("finish"),ue.autoDestroy){let Q=se._readableState;(!Q||Q.autoDestroy&&(Q.endEmitted||Q.readable===!1))&&se.destroy()}}u(ke.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(se){this._writableState&&(this._writableState.destroyed=se)}},writable:{__proto__:null,get(){let se=this._writableState;return!!se&&se.writable!==!1&&!se.destroyed&&!se.errored&&!se.ending&&!se.ended},set(se){this._writableState&&(this._writableState.writable=!!se)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let se=this._writableState;return se?!se.destroyed&&!se.ending&&se.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var we=S.destroy;ke.prototype.destroy=function(se,ue){let Ie=this._writableState;return!Ie.destroyed&&(Ie.bufferedIndex<Ie.buffered.length||Ie[_e].length)&&t.nextTick(oe,Ie),we.call(this,se,ue),this},ke.prototype._undestroy=S.undestroy,ke.prototype._destroy=function(se,ue){ue(se)},ke.prototype[y.captureRejectionSymbol]=function(se){this.destroy(se)};var Ve;function Me(){return Ve===void 0&&(Ve={}),Ve}ke.fromWeb=function(se,ue){return Me().newStreamWritableFromWritableStream(se,ue)},ke.toWeb=function(se){return Me().newWritableStreamFromStreamWritable(se)}}),rM=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),n=(Kr(),Kt(Qr)),{isReadable:s,isWritable:o,isIterable:l,isNodeStream:u,isReadableNodeStream:c,isWritableNodeStream:h,isDuplexNodeStream:d,isReadableStream:m,isWritableStream:y}=js(),v=Wo(),{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:T}}=xn(),{destroyer:O}=vu(),x=Us(),R=Yd(),z=m0(),{createDeferredPromise:H}=Un(),j=Vx(),P=globalThis.Blob||n.Blob,k=typeof P<"u"?function(_e){return _e instanceof P}:function(_e){return!1},M=globalThis.AbortController||Lc().AbortController,{FunctionPrototypeCall:F}=dr(),$=class extends x{constructor(_e){super(_e),(_e==null?void 0:_e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(_e==null?void 0:_e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function _e(ae,De){if(d(ae))return ae;if(c(ae))return V({readable:ae});if(h(ae))return V({writable:ae});if(u(ae))return V({writable:!1,readable:!1});if(m(ae))return V({readable:R.fromWeb(ae)});if(y(ae))return V({writable:z.fromWeb(ae)});if(typeof ae=="function"){let{value:fe,write:Ne,final:ie,destroy:J}=N(ae);if(l(fe))return j($,fe,{objectMode:!0,write:Ne,final:ie,destroy:J});let W=fe==null?void 0:fe.then;if(typeof W=="function"){let Ee,Le=F(W,fe,oe=>{if(oe!=null)throw new T("nully","body",oe)},oe=>{O(Ee,oe)});return Ee=new $({objectMode:!0,readable:!1,write:Ne,final(oe){ie(async()=>{try{await Le,t.nextTick(oe,null)}catch(qe){t.nextTick(oe,qe)}})},destroy:J})}throw new T("Iterable, AsyncIterable or AsyncFunction",De,fe)}if(k(ae))return _e(ae.arrayBuffer());if(l(ae))return j($,ae,{objectMode:!0,writable:!1});if(m(ae==null?void 0:ae.readable)&&y(ae==null?void 0:ae.writable))return $.fromWeb(ae);if(typeof(ae==null?void 0:ae.writable)=="object"||typeof(ae==null?void 0:ae.readable)=="object"){let fe=ae!=null&&ae.readable?c(ae==null?void 0:ae.readable)?ae==null?void 0:ae.readable:_e(ae.readable):void 0,Ne=ae!=null&&ae.writable?h(ae==null?void 0:ae.writable)?ae==null?void 0:ae.writable:_e(ae.writable):void 0;return V({readable:fe,writable:Ne})}let ke=ae==null?void 0:ae.then;if(typeof ke=="function"){let fe;return F(ke,ae,Ne=>{Ne!=null&&fe.push(Ne),fe.push(null)},Ne=>{O(fe,Ne)}),fe=new $({objectMode:!0,writable:!1,read(){}})}throw new S(De,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ae)};function N(_e){let{promise:ae,resolve:De}=H(),ke=new M,fe=ke.signal;return{value:_e(async function*(){for(;;){let Ne=ae;ae=null;let{chunk:ie,done:J,cb:W}=await Ne;if(t.nextTick(W),J)return;if(fe.aborted)throw new w(void 0,{cause:fe.reason});({promise:ae,resolve:De}=H()),yield ie}}(),{signal:fe}),write(Ne,ie,J){let W=De;De=null,W({chunk:Ne,done:!1,cb:J})},final(Ne){let ie=De;De=null,ie({done:!0,cb:Ne})},destroy(Ne,ie){ke.abort(),ie(Ne)}}}function V(_e){let ae=_e.readable&&typeof _e.readable.read!="function"?R.wrap(_e.readable):_e.readable,De=_e.writable,ke=!!s(ae),fe=!!o(De),Ne,ie,J,W,Ee;function Le(oe){let qe=W;W=null,qe?qe(oe):oe&&Ee.destroy(oe)}return Ee=new $({readableObjectMode:!!(ae!=null&&ae.readableObjectMode),writableObjectMode:!!(De!=null&&De.writableObjectMode),readable:ke,writable:fe}),fe&&(v(De,oe=>{fe=!1,oe&&O(ae,oe),Le(oe)}),Ee._write=function(oe,qe,ce){De.write(oe,qe)?ce():Ne=ce},Ee._final=function(oe){De.end(),ie=oe},De.on("drain",function(){if(Ne){let oe=Ne;Ne=null,oe()}}),De.on("finish",function(){if(ie){let oe=ie;ie=null,oe()}})),ke&&(v(ae,oe=>{ke=!1,oe&&O(ae,oe),Le(oe)}),ae.on("readable",function(){if(J){let oe=J;J=null,oe()}}),ae.on("end",function(){Ee.push(null)}),Ee._read=function(){for(;;){let oe=ae.read();if(oe===null){J=Ee._read;return}if(!Ee.push(oe))return}}),Ee._destroy=function(oe,qe){!oe&&W!==null&&(oe=new w),J=null,Ne=null,ie=null,W===null?qe(oe):(W=qe,O(De,oe),O(ae,oe))},Ee}}),Us=Ke((r,e)=>{je(),ze(),$e();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:s,ObjectSetPrototypeOf:o}=dr();e.exports=c;var l=Yd(),u=m0();o(c.prototype,l.prototype),o(c,l);{let y=s(u.prototype);for(let v=0;v<y.length;v++){let w=y[v];c.prototype[w]||(c.prototype[w]=u.prototype[w])}}function c(y){if(!(this instanceof c))return new c(y);l.call(this,y),u.call(this,y),y?(this.allowHalfOpen=y.allowHalfOpen!==!1,y.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),y.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(c.prototype,{writable:{__proto__:null,...n(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(u.prototype,"writableLength")},writableFinished:{__proto__:null,...n(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(y){this._readableState&&this._writableState&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}}});var h;function d(){return h===void 0&&(h={}),h}c.fromWeb=function(y,v){return d().newStreamDuplexFromReadableWritablePair(y,v)},c.toWeb=function(y){return d().newReadableWritablePairFromDuplex(y)};var m;c.from=function(y){return m||(m=rM()),m(y,"body")}}),Ux=Ke((r,e)=>{je(),ze(),$e();var{ObjectSetPrototypeOf:t,Symbol:n}=dr();e.exports=c;var{ERR_METHOD_NOT_IMPLEMENTED:s}=xn().codes,o=Us(),{getHighWaterMark:l}=Gd();t(c.prototype,o.prototype),t(c,o);var u=n("kCallback");function c(m){if(!(this instanceof c))return new c(m);let y=m?l(this,m,"readableHighWaterMark",!0):null;y===0&&(m={...m,highWaterMark:null,readableHighWaterMark:y,writableHighWaterMark:m.writableHighWaterMark||0}),o.call(this,m),this._readableState.sync=!1,this[u]=null,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",d)}function h(m){typeof this._flush=="function"&&!this.destroyed?this._flush((y,v)=>{if(y){m?m(y):this.destroy(y);return}v!=null&&this.push(v),this.push(null),m&&m()}):(this.push(null),m&&m())}function d(){this._final!==h&&h.call(this)}c.prototype._final=h,c.prototype._transform=function(m,y,v){throw new s("_transform()")},c.prototype._write=function(m,y,v){let w=this._readableState,S=this._writableState,T=w.length;this._transform(m,y,(O,x)=>{if(O){v(O);return}x!=null&&this.push(x),S.ended||T===w.length||w.length<w.highWaterMark?v():this[u]=v})},c.prototype._read=function(){if(this[u]){let m=this[u];this[u]=null,m()}}}),Bx=Ke((r,e)=>{je(),ze(),$e();var{ObjectSetPrototypeOf:t}=dr();e.exports=s;var n=Ux();t(s.prototype,n.prototype),t(s,n);function s(o){if(!(this instanceof s))return new s(o);n.call(this,o)}s.prototype._transform=function(o,l,u){u(null,o)}}),g0=Ke((r,e)=>{je(),ze(),$e();var t=Ka(),{ArrayIsArray:n,Promise:s,SymbolAsyncIterator:o,SymbolDispose:l}=dr(),u=Wo(),{once:c}=Un(),h=vu(),d=Us(),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:O}=xn(),{validateFunction:x,validateAbortSignal:R}=Jc(),{isIterable:z,isReadable:H,isReadableNodeStream:j,isNodeStream:P,isTransformStream:k,isWebStream:M,isReadableStream:F,isReadableFinished:$}=js(),N=globalThis.AbortController||Lc().AbortController,V,_e,ae;function De(oe,qe,ce){let te=!1;oe.on("close",()=>{te=!0});let Ae=u(oe,{readable:qe,writable:ce},de=>{te=!de});return{destroy:de=>{te||(te=!0,h.destroyer(oe,de||new S("pipe")))},cleanup:Ae}}function ke(oe){return x(oe[oe.length-1],"streams[stream.length - 1]"),oe.pop()}function fe(oe){if(z(oe))return oe;if(j(oe))return Ne(oe);throw new y("val",["Readable","Iterable","AsyncIterable"],oe)}async function*Ne(oe){_e||(_e=Yd()),yield*_e.prototype[o].call(oe)}async function ie(oe,qe,ce,{end:te}){let Ae,de=null,ge=Me=>{if(Me&&(Ae=Me),de){let se=de;de=null,se()}},we=()=>new s((Me,se)=>{Ae?se(Ae):de=()=>{Ae?se(Ae):Me()}});qe.on("drain",ge);let Ve=u(qe,{readable:!1},ge);try{qe.writableNeedDrain&&await we();for await(let Me of oe)qe.write(Me)||await we();te&&(qe.end(),await we()),ce()}catch(Me){ce(Ae!==Me?m(Ae,Me):Me)}finally{Ve(),qe.off("drain",ge)}}async function J(oe,qe,ce,{end:te}){k(qe)&&(qe=qe.writable);let Ae=qe.getWriter();try{for await(let de of oe)await Ae.ready,Ae.write(de).catch(()=>{});await Ae.ready,te&&await Ae.close(),ce()}catch(de){try{await Ae.abort(de),ce(de)}catch(ge){ce(ge)}}}function W(...oe){return Ee(oe,c(ke(oe)))}function Ee(oe,qe,ce){if(oe.length===1&&n(oe[0])&&(oe=oe[0]),oe.length<2)throw new w("streams");let te=new N,Ae=te.signal,de=ce==null?void 0:ce.signal,ge=[];R(de,"options.signal");function we(){X(new O)}ae=ae||Un().addAbortListener;let Ve;de&&(Ve=ae(de,we));let Me,se,ue=[],Ie=0;function Q(be){X(be,--Ie===0)}function X(be,ye){var Xe;if(be&&(!Me||Me.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Me=be),!(!Me&&!ye)){for(;ue.length;)ue.shift()(Me);(Xe=Ve)===null||Xe===void 0||Xe[l](),te.abort(),ye&&(Me||ge.forEach(_=>_()),t.nextTick(qe,Me,se))}}let ne;for(let be=0;be<oe.length;be++){let ye=oe[be],Xe=be<oe.length-1,_=be>0,E=Xe||(ce==null?void 0:ce.end)!==!1,C=be===oe.length-1;if(P(ye)){let q=function(ee){ee&&ee.name!=="AbortError"&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Q(ee)};if(E){let{destroy:ee,cleanup:le}=De(ye,Xe,_);ue.push(ee),H(ye)&&C&&ge.push(le)}ye.on("error",q),H(ye)&&C&&ge.push(()=>{ye.removeListener("error",q)})}if(be===0)if(typeof ye=="function"){if(ne=ye({signal:Ae}),!z(ne))throw new v("Iterable, AsyncIterable or Stream","source",ne)}else z(ye)||j(ye)||k(ye)?ne=ye:ne=d.from(ye);else if(typeof ye=="function"){if(k(ne)){var Y;ne=fe((Y=ne)===null||Y===void 0?void 0:Y.readable)}else ne=fe(ne);if(ne=ye(ne,{signal:Ae}),Xe){if(!z(ne,!0))throw new v("AsyncIterable",`transform[${be-1}]`,ne)}else{var pe;V||(V=Bx());let q=new V({objectMode:!0}),ee=(pe=ne)===null||pe===void 0?void 0:pe.then;if(typeof ee=="function")Ie++,ee.call(ne,Ze=>{se=Ze,Ze!=null&&q.write(Ze),E&&q.end(),t.nextTick(Q)},Ze=>{q.destroy(Ze),t.nextTick(Q,Ze)});else if(z(ne,!0))Ie++,ie(ne,q,Q,{end:E});else if(F(ne)||k(ne)){let Ze=ne.readable||ne;Ie++,ie(Ze,q,Q,{end:E})}else throw new v("AsyncIterable or Promise","destination",ne);ne=q;let{destroy:le,cleanup:Se}=De(ne,!1,!0);ue.push(le),C&&ge.push(Se)}}else if(P(ye)){if(j(ne)){Ie+=2;let q=Le(ne,ye,Q,{end:E});H(ye)&&C&&ge.push(q)}else if(k(ne)||F(ne)){let q=ne.readable||ne;Ie++,ie(q,ye,Q,{end:E})}else if(z(ne))Ie++,ie(ne,ye,Q,{end:E});else throw new y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ne);ne=ye}else if(M(ye)){if(j(ne))Ie++,J(fe(ne),ye,Q,{end:E});else if(F(ne)||z(ne))Ie++,J(ne,ye,Q,{end:E});else if(k(ne))Ie++,J(ne.readable,ye,Q,{end:E});else throw new y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ne);ne=ye}else ne=d.from(ye)}return(Ae!=null&&Ae.aborted||de!=null&&de.aborted)&&t.nextTick(we),ne}function Le(oe,qe,ce,{end:te}){let Ae=!1;if(qe.on("close",()=>{Ae||ce(new T)}),oe.pipe(qe,{end:!1}),te){let de=function(){Ae=!0,qe.end()};$(oe)?t.nextTick(de):oe.once("end",de)}else ce();return u(oe,{readable:!0,writable:!1},de=>{let ge=oe._readableState;de&&de.code==="ERR_STREAM_PREMATURE_CLOSE"&&ge&&ge.ended&&!ge.errored&&!ge.errorEmitted?oe.once("end",ce).once("error",ce):ce(de)}),u(qe,{readable:!1,writable:!0},ce)}e.exports={pipelineImpl:Ee,pipeline:W}}),jx=Ke((r,e)=>{je(),ze(),$e();var{pipeline:t}=g0(),n=Us(),{destroyer:s}=vu(),{isNodeStream:o,isReadable:l,isWritable:u,isWebStream:c,isTransformStream:h,isWritableStream:d,isReadableStream:m}=js(),{AbortError:y,codes:{ERR_INVALID_ARG_VALUE:v,ERR_MISSING_ARGS:w}}=xn(),S=Wo();e.exports=function(...T){if(T.length===0)throw new w("streams");if(T.length===1)return n.from(T[0]);let O=[...T];if(typeof T[0]=="function"&&(T[0]=n.from(T[0])),typeof T[T.length-1]=="function"){let N=T.length-1;T[N]=n.from(T[N])}for(let N=0;N<T.length;++N)if(!(!o(T[N])&&!c(T[N]))){if(N<T.length-1&&!(l(T[N])||m(T[N])||h(T[N])))throw new v(`streams[${N}]`,O[N],"must be readable");if(N>0&&!(u(T[N])||d(T[N])||h(T[N])))throw new v(`streams[${N}]`,O[N],"must be writable")}let x,R,z,H,j;function P(N){let V=H;H=null,V?V(N):N?j.destroy(N):!$&&!F&&j.destroy()}let k=T[0],M=t(T,P),F=!!(u(k)||d(k)||h(k)),$=!!(l(M)||m(M)||h(M));if(j=new n({writableObjectMode:!!(k!=null&&k.writableObjectMode),readableObjectMode:!!(M!=null&&M.readableObjectMode),writable:F,readable:$}),F){if(o(k))j._write=function(V,_e,ae){k.write(V,_e)?ae():x=ae},j._final=function(V){k.end(),R=V},k.on("drain",function(){if(x){let V=x;x=null,V()}});else if(c(k)){let V=(h(k)?k.writable:k).getWriter();j._write=async function(_e,ae,De){try{await V.ready,V.write(_e).catch(()=>{}),De()}catch(ke){De(ke)}},j._final=async function(_e){try{await V.ready,V.close().catch(()=>{}),R=_e}catch(ae){_e(ae)}}}let N=h(M)?M.readable:M;S(N,()=>{if(R){let V=R;R=null,V()}})}if($){if(o(M))M.on("readable",function(){if(z){let N=z;z=null,N()}}),M.on("end",function(){j.push(null)}),j._read=function(){for(;;){let N=M.read();if(N===null){z=j._read;return}if(!j.push(N))return}};else if(c(M)){let N=(h(M)?M.readable:M).getReader();j._read=async function(){for(;;)try{let{value:V,done:_e}=await N.read();if(!j.push(V))return;if(_e){j.push(null);return}}catch{return}}}}return j._destroy=function(N,V){!N&&H!==null&&(N=new y),z=null,x=null,R=null,H===null?V(N):(H=V,o(M)&&s(M,N))},j}}),nM=Ke((r,e)=>{je(),ze(),$e();var t=globalThis.AbortController||Lc().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:l},AbortError:u}=xn(),{validateAbortSignal:c,validateInteger:h,validateObject:d}=Jc(),m=dr().Symbol("kWeak"),y=dr().Symbol("kResistStopPropagation"),{finished:v}=Wo(),w=jx(),{addAbortSignalNoValidate:S}=Kd(),{isWritable:T,isNodeStream:O}=js(),{deprecate:x}=Un(),{ArrayPrototypePush:R,Boolean:z,MathFloor:H,Number:j,NumberIsNaN:P,Promise:k,PromiseReject:M,PromiseResolve:F,PromisePrototypeThen:$,Symbol:N}=dr(),V=N("kEmpty"),_e=N("kEof");function ae(de,ge){if(ge!=null&&d(ge,"options"),(ge==null?void 0:ge.signal)!=null&&c(ge.signal,"options.signal"),O(de)&&!T(de))throw new n("stream",de,"must be writable");let we=w(this,de);return ge!=null&&ge.signal&&S(ge.signal,we),we}function De(de,ge){if(typeof de!="function")throw new s("fn",["Function","AsyncFunction"],de);ge!=null&&d(ge,"options"),(ge==null?void 0:ge.signal)!=null&&c(ge.signal,"options.signal");let we=1;(ge==null?void 0:ge.concurrency)!=null&&(we=H(ge.concurrency));let Ve=we-1;return(ge==null?void 0:ge.highWaterMark)!=null&&(Ve=H(ge.highWaterMark)),h(we,"options.concurrency",1),h(Ve,"options.highWaterMark",0),Ve+=we,(async function*(){let Me=Un().AbortSignalAny([ge==null?void 0:ge.signal].filter(z)),se=this,ue=[],Ie={signal:Me},Q,X,ne=!1,Y=0;function pe(){ne=!0,be()}function be(){Y-=1,ye()}function ye(){X&&!ne&&Y<we&&ue.length<Ve&&(X(),X=null)}async function Xe(){try{for await(let _ of se){if(ne)return;if(Me.aborted)throw new u;try{if(_=de(_,Ie),_===V)continue;_=F(_)}catch(E){_=M(E)}Y+=1,$(_,be,pe),ue.push(_),Q&&(Q(),Q=null),!ne&&(ue.length>=Ve||Y>=we)&&await new k(E=>{X=E})}ue.push(_e)}catch(_){let E=M(_);$(E,be,pe),ue.push(E)}finally{ne=!0,Q&&(Q(),Q=null)}}Xe();try{for(;;){for(;ue.length>0;){let _=await ue[0];if(_===_e)return;if(Me.aborted)throw new u;_!==V&&(yield _),ue.shift(),ye()}await new k(_=>{Q=_})}}finally{ne=!0,X&&(X(),X=null)}}).call(this)}function ke(de=void 0){return de!=null&&d(de,"options"),(de==null?void 0:de.signal)!=null&&c(de.signal,"options.signal"),(async function*(){let ge=0;for await(let Ve of this){var we;if(de!=null&&(we=de.signal)!==null&&we!==void 0&&we.aborted)throw new u({cause:de.signal.reason});yield[ge++,Ve]}}).call(this)}async function fe(de,ge=void 0){for await(let we of W.call(this,de,ge))return!0;return!1}async function Ne(de,ge=void 0){if(typeof de!="function")throw new s("fn",["Function","AsyncFunction"],de);return!await fe.call(this,async(...we)=>!await de(...we),ge)}async function ie(de,ge){for await(let we of W.call(this,de,ge))return we}async function J(de,ge){if(typeof de!="function")throw new s("fn",["Function","AsyncFunction"],de);async function we(Ve,Me){return await de(Ve,Me),V}for await(let Ve of De.call(this,we,ge));}function W(de,ge){if(typeof de!="function")throw new s("fn",["Function","AsyncFunction"],de);async function we(Ve,Me){return await de(Ve,Me)?Ve:V}return De.call(this,we,ge)}var Ee=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Le(de,ge,we){var Ve;if(typeof de!="function")throw new s("reducer",["Function","AsyncFunction"],de);we!=null&&d(we,"options"),(we==null?void 0:we.signal)!=null&&c(we.signal,"options.signal");let Me=arguments.length>1;if(we!=null&&(Ve=we.signal)!==null&&Ve!==void 0&&Ve.aborted){let X=new u(void 0,{cause:we.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(X)),X}let se=new t,ue=se.signal;if(we!=null&&we.signal){let X={once:!0,[m]:this,[y]:!0};we.signal.addEventListener("abort",()=>se.abort(),X)}let Ie=!1;try{for await(let X of this){var Q;if(Ie=!0,we!=null&&(Q=we.signal)!==null&&Q!==void 0&&Q.aborted)throw new u;Me?ge=await de(ge,X,{signal:ue}):(ge=X,Me=!0)}if(!Ie&&!Me)throw new Ee}finally{se.abort()}return ge}async function oe(de){de!=null&&d(de,"options"),(de==null?void 0:de.signal)!=null&&c(de.signal,"options.signal");let ge=[];for await(let Ve of this){var we;if(de!=null&&(we=de.signal)!==null&&we!==void 0&&we.aborted)throw new u(void 0,{cause:de.signal.reason});R(ge,Ve)}return ge}function qe(de,ge){let we=De.call(this,de,ge);return(async function*(){for await(let Ve of we)yield*Ve}).call(this)}function ce(de){if(de=j(de),P(de))return 0;if(de<0)throw new l("number",">= 0",de);return de}function te(de,ge=void 0){return ge!=null&&d(ge,"options"),(ge==null?void 0:ge.signal)!=null&&c(ge.signal,"options.signal"),de=ce(de),(async function*(){var we;if(ge!=null&&(we=ge.signal)!==null&&we!==void 0&&we.aborted)throw new u;for await(let Me of this){var Ve;if(ge!=null&&(Ve=ge.signal)!==null&&Ve!==void 0&&Ve.aborted)throw new u;de--<=0&&(yield Me)}}).call(this)}function Ae(de,ge=void 0){return ge!=null&&d(ge,"options"),(ge==null?void 0:ge.signal)!=null&&c(ge.signal,"options.signal"),de=ce(de),(async function*(){var we;if(ge!=null&&(we=ge.signal)!==null&&we!==void 0&&we.aborted)throw new u;for await(let Me of this){var Ve;if(ge!=null&&(Ve=ge.signal)!==null&&Ve!==void 0&&Ve.aborted)throw new u;if(de-- >0&&(yield Me),de<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:x(ke,"readable.asIndexedPairs will be removed in a future version."),drop:te,filter:W,flatMap:qe,map:De,take:Ae,compose:ae},e.exports.promiseReturningOperators={every:Ne,forEach:J,reduce:Le,toArray:oe,some:fe,find:ie}}),$x=Ke((r,e)=>{je(),ze(),$e();var{ArrayPrototypePop:t,Promise:n}=dr(),{isIterable:s,isNodeStream:o,isWebStream:l}=js(),{pipelineImpl:u}=g0(),{finished:c}=Wo();zx();function h(...d){return new n((m,y)=>{let v,w,S=d[d.length-1];if(S&&typeof S=="object"&&!o(S)&&!s(S)&&!l(S)){let T=t(d);v=T.signal,w=T.end}u(d,(T,O)=>{T?y(T):m(O)},{signal:v,end:w})})}e.exports={finished:c,pipeline:h}}),zx=Ke((r,e)=>{je(),ze(),$e();var{Buffer:t}=(Kr(),Kt(Qr)),{ObjectDefineProperty:n,ObjectKeys:s,ReflectApply:o}=dr(),{promisify:{custom:l}}=Un(),{streamReturningOperators:u,promiseReturningOperators:c}=nM(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=xn(),d=jx(),{setDefaultHighWaterMark:m,getDefaultHighWaterMark:y}=Gd(),{pipeline:v}=g0(),{destroyer:w}=vu(),S=Wo(),T=$x(),O=js(),x=e.exports=p0().Stream;x.isDestroyed=O.isDestroyed,x.isDisturbed=O.isDisturbed,x.isErrored=O.isErrored,x.isReadable=O.isReadable,x.isWritable=O.isWritable,x.Readable=Yd();for(let z of s(u)){let H=function(...P){if(new.target)throw h();return x.Readable.from(o(j,this,P))},j=u[z];n(H,"name",{__proto__:null,value:j.name}),n(H,"length",{__proto__:null,value:j.length}),n(x.Readable.prototype,z,{__proto__:null,value:H,enumerable:!1,configurable:!0,writable:!0})}for(let z of s(c)){let H=function(...P){if(new.target)throw h();return o(j,this,P)},j=c[z];n(H,"name",{__proto__:null,value:j.name}),n(H,"length",{__proto__:null,value:j.length}),n(x.Readable.prototype,z,{__proto__:null,value:H,enumerable:!1,configurable:!0,writable:!0})}x.Writable=m0(),x.Duplex=Us(),x.Transform=Ux(),x.PassThrough=Bx(),x.pipeline=v;var{addAbortSignal:R}=Kd();x.addAbortSignal=R,x.finished=S,x.destroy=w,x.compose=d,x.setDefaultHighWaterMark=m,x.getDefaultHighWaterMark=y,n(x,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),n(v,l,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),n(S,l,{__proto__:null,enumerable:!0,get(){return T.finished}}),x.Stream=x,x._isUint8Array=function(z){return z instanceof Uint8Array},x._uint8ArrayToBuffer=function(z){return t.from(z.buffer,z.byteOffset,z.byteLength)}}),Ga=Ke((r,e)=>{je(),ze(),$e();var t=zx(),n=$x(),s=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=s,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}),iM=Ke((r,e)=>{je(),ze(),$e(),typeof Object.create=="function"?e.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,n){if(n){t.super_=n;var s=function(){};s.prototype=n.prototype,t.prototype=new s,t.prototype.constructor=t}}}),sM=Ke((r,e)=>{je(),ze(),$e();var{Buffer:t}=(Kr(),Kt(Qr)),n=Symbol.for("BufferList");function s(o){if(!(this instanceof s))return new s(o);s._init.call(this,o)}s._init=function(o){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)},s.prototype._new=function(o){return new s(o)},s.prototype._offset=function(o){if(o===0)return[0,0];let l=0;for(let u=0;u<this._bufs.length;u++){let c=l+this._bufs[u].length;if(o<c||u===this._bufs.length-1)return[u,o-l];l=c}},s.prototype._reverseOffset=function(o){let l=o[0],u=o[1];for(let c=0;c<l;c++)u+=this._bufs[c].length;return u},s.prototype.get=function(o){if(o>this.length||o<0)return;let l=this._offset(o);return this._bufs[l[0]][l[1]]},s.prototype.slice=function(o,l){return typeof o=="number"&&o<0&&(o+=this.length),typeof l=="number"&&l<0&&(l+=this.length),this.copy(null,0,o,l)},s.prototype.copy=function(o,l,u,c){if((typeof u!="number"||u<0)&&(u=0),(typeof c!="number"||c>this.length)&&(c=this.length),u>=this.length||c<=0)return o||t.alloc(0);let h=!!o,d=this._offset(u),m=c-u,y=m,v=h&&l||0,w=d[1];if(u===0&&c===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let S=0;S<this._bufs.length;S++)this._bufs[S].copy(o,v),v+=this._bufs[S].length;return o}if(y<=this._bufs[d[0]].length-w)return h?this._bufs[d[0]].copy(o,l,w,w+y):this._bufs[d[0]].slice(w,w+y);h||(o=t.allocUnsafe(m));for(let S=d[0];S<this._bufs.length;S++){let T=this._bufs[S].length-w;if(y>T)this._bufs[S].copy(o,v,w),v+=T;else{this._bufs[S].copy(o,v,w,w+y),v+=T;break}y-=T,w&&(w=0)}return o.length>v?o.slice(0,v):o},s.prototype.shallowSlice=function(o,l){if(o=o||0,l=typeof l!="number"?this.length:l,o<0&&(o+=this.length),l<0&&(l+=this.length),o===l)return this._new();let u=this._offset(o),c=this._offset(l),h=this._bufs.slice(u[0],c[0]+1);return c[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,c[1]),u[1]!==0&&(h[0]=h[0].slice(u[1])),this._new(h)},s.prototype.toString=function(o,l,u){return this.slice(l,u).toString(o)},s.prototype.consume=function(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this},s.prototype.duplicate=function(){let o=this._new();for(let l=0;l<this._bufs.length;l++)o.append(this._bufs[l]);return o},s.prototype.append=function(o){if(o==null)return this;if(o.buffer)this._appendBuffer(t.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let l=0;l<o.length;l++)this.append(o[l]);else if(this._isBufferList(o))for(let l=0;l<o._bufs.length;l++)this.append(o._bufs[l]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(t.from(o));return this},s.prototype._appendBuffer=function(o){this._bufs.push(o),this.length+=o.length},s.prototype.indexOf=function(o,l,u){if(u===void 0&&typeof l=="string"&&(u=l,l=void 0),typeof o=="function"||Array.isArray(o))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof o=="number"?o=t.from([o]):typeof o=="string"?o=t.from(o,u):this._isBufferList(o)?o=o.slice():Array.isArray(o.buffer)?o=t.from(o.buffer,o.byteOffset,o.byteLength):t.isBuffer(o)||(o=t.from(o)),l=Number(l||0),isNaN(l)&&(l=0),l<0&&(l=this.length+l),l<0&&(l=0),o.length===0)return l>this.length?this.length:l;let c=this._offset(l),h=c[0],d=c[1];for(;h<this._bufs.length;h++){let m=this._bufs[h];for(;d<m.length;)if(m.length-d>=o.length){let y=m.indexOf(o,d);if(y!==-1)return this._reverseOffset([h,y]);d=m.length-o.length+1}else{let y=this._reverseOffset([h,d]);if(this._match(y,o))return y;d++}d=0}return-1},s.prototype._match=function(o,l){if(this.length-o<l.length)return!1;for(let u=0;u<l.length;u++)if(this.get(o+u)!==l[u])return!1;return!0},function(){let o={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let l in o)(function(u){o[u]===null?s.prototype[u]=function(c,h){return this.slice(c,c+h)[u](0,h)}:s.prototype[u]=function(c=0){return this.slice(c,c+o[u])[u](0)}})(l)}(),s.prototype._isBufferList=function(o){return o instanceof s||s.isBufferList(o)},s.isBufferList=function(o){return o!=null&&o[n]},e.exports=s}),oM=Ke((r,e)=>{je(),ze(),$e();var t=Ga().Duplex,n=iM(),s=sM();function o(l){if(!(this instanceof o))return new o(l);if(typeof l=="function"){this._callback=l;let u=(function(c){this._callback&&(this._callback(c),this._callback=null)}).bind(this);this.on("pipe",function(c){c.on("error",u)}),this.on("unpipe",function(c){c.removeListener("error",u)}),l=null}s._init.call(this,l),t.call(this)}n(o,t),Object.assign(o.prototype,s.prototype),o.prototype._new=function(l){return new o(l)},o.prototype._write=function(l,u,c){this._appendBuffer(l),typeof c=="function"&&c()},o.prototype._read=function(l){if(!this.length)return this.push(null);l=Math.min(l,this.length),this.push(this.slice(0,l)),this.consume(l)},o.prototype.end=function(l){t.prototype.end.call(this,l),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(l,u){this._bufs.length=0,this.length=0,u(l)},o.prototype._isBufferList=function(l){return l instanceof o||l instanceof s||o.isBufferList(l)},o.isBufferList=s.isBufferList,e.exports=o,e.exports.BufferListStream=o,e.exports.BufferList=s}),aM=Ke((r,e)=>{je(),ze(),$e();var t=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=t}),Wx=Ke((r,e)=>{je(),ze(),$e();var t=e.exports,{Buffer:n}=(Kr(),Kt(Qr));t.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},t.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},t.requiredHeaderFlagsErrors={};for(let o in t.requiredHeaderFlags){let l=t.requiredHeaderFlags[o];t.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+l.toString(16)+" for "+t.types[o]+" packet"}t.codes={};for(let o in t.types){let l=t.types[o];t.codes[l]=o}t.CMD_SHIFT=4,t.CMD_MASK=240,t.DUP_MASK=8,t.QOS_MASK=3,t.QOS_SHIFT=1,t.RETAIN_MASK=1,t.VARBYTEINT_MASK=127,t.VARBYTEINT_FIN_MASK=128,t.VARBYTEINT_MAX=268435455,t.SESSIONPRESENT_MASK=1,t.SESSIONPRESENT_HEADER=n.from([t.SESSIONPRESENT_MASK]),t.CONNACK_HEADER=n.from([t.codes.connack<<t.CMD_SHIFT]),t.USERNAME_MASK=128,t.PASSWORD_MASK=64,t.WILL_RETAIN_MASK=32,t.WILL_QOS_MASK=24,t.WILL_QOS_SHIFT=3,t.WILL_FLAG_MASK=4,t.CLEAN_SESSION_MASK=2,t.CONNECT_HEADER=n.from([t.codes.connect<<t.CMD_SHIFT]),t.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},t.propertiesCodes={};for(let o in t.properties){let l=t.properties[o];t.propertiesCodes[l]=o}t.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function s(o){return[0,1,2].map(l=>[0,1].map(u=>[0,1].map(c=>{let h=n.alloc(1);return h.writeUInt8(t.codes[o]<<t.CMD_SHIFT|(u?t.DUP_MASK:0)|l<<t.QOS_SHIFT|c,0,!0),h})))}t.PUBLISH_HEADER=s("publish"),t.SUBSCRIBE_HEADER=s("subscribe"),t.SUBSCRIBE_OPTIONS_QOS_MASK=3,t.SUBSCRIBE_OPTIONS_NL_MASK=1,t.SUBSCRIBE_OPTIONS_NL_SHIFT=2,t.SUBSCRIBE_OPTIONS_RAP_MASK=1,t.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,t.SUBSCRIBE_OPTIONS_RH_MASK=3,t.SUBSCRIBE_OPTIONS_RH_SHIFT=4,t.SUBSCRIBE_OPTIONS_RH=[0,16,32],t.SUBSCRIBE_OPTIONS_NL=4,t.SUBSCRIBE_OPTIONS_RAP=8,t.SUBSCRIBE_OPTIONS_QOS=[0,1,2],t.UNSUBSCRIBE_HEADER=s("unsubscribe"),t.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},t.SUBACK_HEADER=n.from([t.codes.suback<<t.CMD_SHIFT]),t.VERSION3=n.from([3]),t.VERSION4=n.from([4]),t.VERSION5=n.from([5]),t.VERSION131=n.from([131]),t.VERSION132=n.from([132]),t.QOS=[0,1,2].map(o=>n.from([o])),t.EMPTY={pingreq:n.from([t.codes.pingreq<<4,0]),pingresp:n.from([t.codes.pingresp<<4,0]),disconnect:n.from([t.codes.disconnect<<4,0])},t.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},t.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},t.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},t.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},t.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),lM=Ke((r,e)=>{je(),ze(),$e();var t=1e3,n=t*60,s=n*60,o=s*24,l=o*7,u=o*365.25;e.exports=function(y,v){v=v||{};var w=typeof y;if(w==="string"&&y.length>0)return c(y);if(w==="number"&&isFinite(y))return v.long?d(y):h(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(v){var w=parseFloat(v[1]),S=(v[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*u;case"weeks":case"week":case"w":return w*l;case"days":case"day":case"d":return w*o;case"hours":case"hour":case"hrs":case"hr":case"h":return w*s;case"minutes":case"minute":case"mins":case"min":case"m":return w*n;case"seconds":case"second":case"secs":case"sec":case"s":return w*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function h(y){var v=Math.abs(y);return v>=o?Math.round(y/o)+"d":v>=s?Math.round(y/s)+"h":v>=n?Math.round(y/n)+"m":v>=t?Math.round(y/t)+"s":y+"ms"}function d(y){var v=Math.abs(y);return v>=o?m(y,v,o,"day"):v>=s?m(y,v,s,"hour"):v>=n?m(y,v,n,"minute"):v>=t?m(y,v,t,"second"):y+" ms"}function m(y,v,w,S){var T=v>=w*1.5;return Math.round(y/w)+" "+S+(T?"s":"")}}),uM=Ke((r,e)=>{je(),ze(),$e();function t(n){o.debug=o,o.default=o,o.coerce=m,o.disable=h,o.enable=u,o.enabled=d,o.humanize=lM(),o.destroy=y,Object.keys(n).forEach(v=>{o[v]=n[v]}),o.names=[],o.skips=[],o.formatters={};function s(v){let w=0;for(let S=0;S<v.length;S++)w=(w<<5)-w+v.charCodeAt(S),w|=0;return o.colors[Math.abs(w)%o.colors.length]}o.selectColor=s;function o(v){let w,S=null,T,O;function x(...R){if(!x.enabled)return;let z=x,H=Number(new Date),j=H-(w||H);z.diff=j,z.prev=w,z.curr=H,w=H,R[0]=o.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let P=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(k,M)=>{if(k==="%%")return"%";P++;let F=o.formatters[M];if(typeof F=="function"){let $=R[P];k=F.call(z,$),R.splice(P,1),P--}return k}),o.formatArgs.call(z,R),(z.log||o.log).apply(z,R)}return x.namespace=v,x.useColors=o.useColors(),x.color=o.selectColor(v),x.extend=l,x.destroy=o.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(T!==o.namespaces&&(T=o.namespaces,O=o.enabled(v)),O),set:R=>{S=R}}),typeof o.init=="function"&&o.init(x),x}function l(v,w){let S=o(this.namespace+(typeof w>"u"?":":w)+v);return S.log=this.log,S}function u(v){o.save(v),o.namespaces=v,o.names=[],o.skips=[];let w=(typeof v=="string"?v:"").trim().replace(" ",",").split(",").filter(Boolean);for(let S of w)S[0]==="-"?o.skips.push(S.slice(1)):o.names.push(S)}function c(v,w){let S=0,T=0,O=-1,x=0;for(;S<v.length;)if(T<w.length&&(w[T]===v[S]||w[T]==="*"))w[T]==="*"?(O=T,x=S,T++):(S++,T++);else if(O!==-1)T=O+1,x++,S=x;else return!1;for(;T<w.length&&w[T]==="*";)T++;return T===w.length}function h(){let v=[...o.names,...o.skips.map(w=>"-"+w)].join(",");return o.enable(""),v}function d(v){for(let w of o.skips)if(c(v,w))return!1;for(let w of o.names)if(c(v,w))return!0;return!1}function m(v){return v instanceof Error?v.stack||v.message:v}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}e.exports=t}),Bs=Ke((r,e)=>{je(),ze(),$e(),r.formatArgs=n,r.save=s,r.load=o,r.useColors=t,r.storage=l(),r.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;c.splice(1,0,h,"color: inherit");let d=0,m=0;c[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(m=d))}),c.splice(m,0,h)}r.log=console.debug||console.log||(()=>{});function s(c){try{c?r.storage.setItem("debug",c):r.storage.removeItem("debug")}catch{}}function o(){let c;try{c=r.storage.getItem("debug")}catch{}return!c&&typeof jt<"u"&&"env"in jt&&(c=jt.env.DEBUG),c}function l(){try{return localStorage}catch{}}e.exports=uM()(r);var{formatters:u}=e.exports;u.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),cM=Ke((r,e)=>{je(),ze(),$e();var t=oM(),{EventEmitter:n}=(Qa(),Kt(zo)),s=aM(),o=Wx(),l=Bs()("mqtt-packet:parser"),u=class nv extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof nv?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new nv().parser(h)}_resetState(){l("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new s,this.error=null,this._list=t(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),l("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,l("parse: state complete. _stateCounter is now: %d",this._stateCounter),l("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return l("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),d=h>>o.CMD_SHIFT;this.packet.cmd=o.types[d];let m=h&15,y=o.requiredHeaderFlags[d];return y!=null&&m!==y?this._emitError(new Error(o.requiredHeaderFlagsErrors[d])):(this.packet.retain=(h&o.RETAIN_MASK)!==0,this.packet.qos=h>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&o.DUP_MASK)!==0,l("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),l("_parseLength %d",h.value),!!h}_parsePayload(){l("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return l("_parsePayload complete result: %s",h),h}_parseConnect(){l("_parseConnect");let h,d,m,y,v={},w=this.packet,S=this._parseString();if(S===null)return this._emitError(new Error("Cannot parse protocolId"));if(S!=="MQTT"&&S!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=S,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));v.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,v.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,v.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let T=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),O=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(v.will)w.will={},w.will.retain=T,w.will.qos=O;else{if(T)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(O)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){let R=this._parseProperties();Object.getOwnPropertyNames(R).length&&(w.properties=R)}let x=this._parseString();if(x===null)return this._emitError(new Error("Packet too short"));if(w.clientId=x,l("_parseConnect: packet.clientId: %s",w.clientId),v.will){if(w.protocolVersion===5){let R=this._parseProperties();Object.getOwnPropertyNames(R).length&&(w.will.properties=R)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=h,l("_parseConnect: packet.will.topic: %s",w.will.topic),d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=d,l("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(v.username){if(y=this._parseString(),y===null)return this._emitError(new Error("Cannot parse username"));w.username=y,l("_parseConnect: packet.username: %s",w.username)}if(v.password){if(m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse password"));w.password=m}return this.settings=w,l("_parseConnect: complete"),w}_parseConnack(){l("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let d=this._list.readUInt8(this._pos++);if(d>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(d&o.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(h.properties=m)}l("_parseConnack: complete")}_parsePublish(){l("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}h.payload=this._list.slice(this._pos,h.length),l("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){l("_parseSubscribe");let h=this.packet,d,m,y,v,w,S,T;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let O=this._parseProperties();Object.getOwnPropertyNames(O).length&&(h.properties=O)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(m=this._parseByte(),this.settings.protocolVersion===5){if(m&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(m&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(y=m&o.SUBSCRIBE_OPTIONS_QOS_MASK,y>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(S=(m>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(m>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,v=m>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,v>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));T={topic:d,qos:y},this.settings.protocolVersion===5?(T.nl=S,T.rap=w,T.rh=v):this.settings.bridgeMode&&(T.rh=0,T.rap=!0,T.nl=!0),l("_parseSubscribe: push subscription `%s` to subscription",T),h.subscriptions.push(T)}}}_parseSuback(){l("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!o.MQTT5_SUBACK_CODES[d])return this._emitError(new Error("Invalid suback code"))}else if(d>2&&d!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(d)}}}_parseUnsubscribe(){l("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let d=this._parseString();if(d===null)return this._emitError(new Error("Cannot parse topic"));l("_parseUnsubscribe: push topic `%s` to unsubscriptions",d),h.unsubscriptions.push(d)}}}_parseUnsuback(){l("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let d=this._parseProperties();for(Object.getOwnPropertyNames(d).length&&(h.properties=d),h.granted=[];this._pos<this.packet.length;){let m=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[m])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(m)}}}_parseConfirmation(){l("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}l("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}}return!0}_parseDisconnect(){let h=this.packet;if(l("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}return l("_parseDisconnect result: true"),!0}_parseAuth(){l("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let d=this._parseProperties();return Object.getOwnPropertyNames(d).length&&(h.properties=d),l("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(l("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let d=this._parseNum(),m=d+this._pos;if(d===-1||m>this._list.length||m>this.packet.length)return null;let y=this._list.toString("utf8",this._pos,m);return this._pos+=d,l("_parseString: result: %s",y),y}_parseStringPair(){return l("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),d=h+this._pos;if(h===-1||d>this._list.length||d>this.packet.length)return null;let m=this._list.slice(this._pos,d);return this._pos+=h,l("_parseBuffer: result: %o",m),m}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,l("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,l("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){l("_parseVarByteNum");let d=4,m=0,y=1,v=0,w=!1,S,T=this._pos?this._pos:0;for(;m<d&&T+m<this._list.length;){if(S=this._list.readUInt8(T+m++),v+=y*(S&o.VARBYTEINT_MASK),y*=128,!(S&o.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=m)break}return!w&&m===d&&this._list.length>=m&&this._emitError(new Error("Invalid variable byte integer")),T&&(this._pos+=m),w?h?w={bytes:m,value:v}:w=v:w=!1,l("_parseVarByteNum: result: %o",w),w}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),l("_parseByte: result: %o",h),h}_parseByType(h){switch(l("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){l("_parseProperties");let h=this._parseVarByteNum(),d=this._pos+h,m={};for(;this._pos<d;){let y=this._parseByte();if(!y)return this._emitError(new Error("Cannot parse property code type")),!1;let v=o.propertiesCodes[y];if(!v)return this._emitError(new Error("Unknown property")),!1;if(v==="userProperties"){m[v]||(m[v]=Object.create(null));let w=this._parseByType(o.propertiesTypes[v]);if(m[v][w.name])if(Array.isArray(m[v][w.name]))m[v][w.name].push(w.value);else{let S=m[v][w.name];m[v][w.name]=[S],m[v][w.name].push(w.value)}else m[v][w.name]=w.value;continue}m[v]?Array.isArray(m[v])?m[v].push(this._parseByType(o.propertiesTypes[v])):(m[v]=[m[v]],m[v].push(this._parseByType(o.propertiesTypes[v]))):m[v]=this._parseByType(o.propertiesTypes[v])}return m}_newPacket(){return l("_newPacket"),this.packet&&(this._list.consume(this.packet.length),l("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),l("_newPacket: new packet"),this.packet=new s,this._pos=0,!0}_emitError(h){l("_emitError",h),this.error=h,this.emit("error",h)}};e.exports=u}),hM=Ke((r,e)=>{je(),ze(),$e();var{Buffer:t}=(Kr(),Kt(Qr)),n=65536,s={},o=t.isBuffer(t.from([1,2]).subarray(0,1));function l(d){let m=t.allocUnsafe(2);return m.writeUInt8(d>>8,0),m.writeUInt8(d&255,1),m}function u(){for(let d=0;d<n;d++)s[d]=l(d)}function c(d){let m=0,y=0,v=t.allocUnsafe(4);do m=d%128|0,d=d/128|0,d>0&&(m=m|128),v.writeUInt8(m,y++);while(d>0&&y<4);return d>0&&(y=0),o?v.subarray(0,y):v.slice(0,y)}function h(d){let m=t.allocUnsafe(4);return m.writeUInt32BE(d,0),m}e.exports={cache:s,generateCache:u,generateNumber:l,genBufVariableByteInt:c,generate4ByteBuffer:h}}),fM=Ke((r,e)=>{je(),ze(),$e(),typeof jt>"u"||!jt.version||jt.version.indexOf("v0.")===0||jt.version.indexOf("v1.")===0&&jt.version.indexOf("v1.8.")!==0?e.exports={nextTick:t}:e.exports=jt;function t(n,s,o,l){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,c,h;switch(u){case 0:case 1:return jt.nextTick(n);case 2:return jt.nextTick(function(){n.call(null,s)});case 3:return jt.nextTick(function(){n.call(null,s,o)});case 4:return jt.nextTick(function(){n.call(null,s,o,l)});default:for(c=new Array(u-1),h=0;h<c.length;)c[h++]=arguments[h];return jt.nextTick(function(){n.apply(null,c)})}}}),qx=Ke((r,e)=>{je(),ze(),$e();var t=Wx(),{Buffer:n}=(Kr(),Kt(Qr)),s=n.allocUnsafe(0),o=n.from([0]),l=hM(),u=fM().nextTick,c=Bs()("mqtt-packet:writeToStream"),h=l.cache,d=l.generateNumber,m=l.generateCache,y=l.genBufVariableByteInt,v=l.generate4ByteBuffer,w=ke,S=!0;function T(ce,te,Ae){switch(c("generate called"),te.cork&&(te.cork(),u(O,te)),S&&(S=!1,m()),c("generate: packet.cmd: %s",ce.cmd),ce.cmd){case"connect":return x(ce,te);case"connack":return R(ce,te,Ae);case"publish":return z(ce,te,Ae);case"puback":case"pubrec":case"pubrel":case"pubcomp":return H(ce,te,Ae);case"subscribe":return j(ce,te,Ae);case"suback":return P(ce,te,Ae);case"unsubscribe":return k(ce,te,Ae);case"unsuback":return M(ce,te,Ae);case"pingreq":case"pingresp":return F(ce,te);case"disconnect":return $(ce,te,Ae);case"auth":return N(ce,te,Ae);default:return te.destroy(new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get(){return w===ke},set(ce){ce?((!h||Object.keys(h).length===0)&&(S=!0),w=ke):(S=!1,w=fe)}});function O(ce){ce.uncork()}function x(ce,te,Ae){let de=ce||{},ge=de.protocolId||"MQTT",we=de.protocolVersion||4,Ve=de.will,Me=de.clean,se=de.keepalive||0,ue=de.clientId||"",Ie=de.username,Q=de.password,X=de.properties;Me===void 0&&(Me=!0);let ne=0;if(typeof ge!="string"&&!n.isBuffer(ge))return te.destroy(new Error("Invalid protocolId")),!1;if(ne+=ge.length+2,we!==3&&we!==4&&we!==5)return te.destroy(new Error("Invalid protocol version")),!1;if(ne+=1,(typeof ue=="string"||n.isBuffer(ue))&&(ue||we>=4)&&(ue||Me))ne+=n.byteLength(ue)+2;else{if(we<4)return te.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Me*1===0)return te.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof se!="number"||se<0||se>65535||se%1!==0)return te.destroy(new Error("Invalid keepalive")),!1;ne+=2,ne+=1;let Y,pe;if(we===5){if(Y=J(te,X),!Y)return!1;ne+=Y.length}if(Ve){if(typeof Ve!="object")return te.destroy(new Error("Invalid will")),!1;if(!Ve.topic||typeof Ve.topic!="string")return te.destroy(new Error("Invalid will topic")),!1;if(ne+=n.byteLength(Ve.topic)+2,ne+=2,Ve.payload)if(Ve.payload.length>=0)typeof Ve.payload=="string"?ne+=n.byteLength(Ve.payload):ne+=Ve.payload.length;else return te.destroy(new Error("Invalid will payload")),!1;if(pe={},we===5){if(pe=J(te,Ve.properties),!pe)return!1;ne+=pe.length}}let be=!1;if(Ie!=null)if(qe(Ie))be=!0,ne+=n.byteLength(Ie)+2;else return te.destroy(new Error("Invalid username")),!1;if(Q!=null){if(!be)return te.destroy(new Error("Username is required to use password")),!1;if(qe(Q))ne+=oe(Q)+2;else return te.destroy(new Error("Invalid password")),!1}te.write(t.CONNECT_HEADER),_e(te,ne),ie(te,ge),de.bridgeMode&&(we+=128),te.write(we===131?t.VERSION131:we===132?t.VERSION132:we===4?t.VERSION4:we===5?t.VERSION5:t.VERSION3);let ye=0;return ye|=Ie!=null?t.USERNAME_MASK:0,ye|=Q!=null?t.PASSWORD_MASK:0,ye|=Ve&&Ve.retain?t.WILL_RETAIN_MASK:0,ye|=Ve&&Ve.qos?Ve.qos<<t.WILL_QOS_SHIFT:0,ye|=Ve?t.WILL_FLAG_MASK:0,ye|=Me?t.CLEAN_SESSION_MASK:0,te.write(n.from([ye])),w(te,se),we===5&&Y.write(),ie(te,ue),Ve&&(we===5&&pe.write(),ae(te,Ve.topic),ie(te,Ve.payload)),Ie!=null&&ie(te,Ie),Q!=null&&ie(te,Q),!0}function R(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=de===5?ge.reasonCode:ge.returnCode,Ve=ge.properties,Me=2;if(typeof we!="number")return te.destroy(new Error("Invalid return code")),!1;let se=null;if(de===5){if(se=J(te,Ve),!se)return!1;Me+=se.length}return te.write(t.CONNACK_HEADER),_e(te,Me),te.write(ge.sessionPresent?t.SESSIONPRESENT_HEADER:o),te.write(n.from([we])),se==null||se.write(),!0}function z(ce,te,Ae){c("publish: packet: %o",ce);let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.qos||0,Ve=ge.retain?t.RETAIN_MASK:0,Me=ge.topic,se=ge.payload||s,ue=ge.messageId,Ie=ge.properties,Q=0;if(typeof Me=="string")Q+=n.byteLength(Me)+2;else if(n.isBuffer(Me))Q+=Me.length+2;else return te.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(se)?Q+=se.length:Q+=n.byteLength(se),we&&typeof ue!="number")return te.destroy(new Error("Invalid messageId")),!1;we&&(Q+=2);let X=null;if(de===5){if(X=J(te,Ie),!X)return!1;Q+=X.length}return te.write(t.PUBLISH_HEADER[we][ge.dup?1:0][Ve?1:0]),_e(te,Q),w(te,oe(Me)),te.write(Me),we>0&&w(te,ue),X==null||X.write(),c("publish: payload: %o",se),te.write(se)}function H(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.cmd||"puback",Ve=ge.messageId,Me=ge.dup&&we==="pubrel"?t.DUP_MASK:0,se=0,ue=ge.reasonCode,Ie=ge.properties,Q=de===5?3:2;if(we==="pubrel"&&(se=1),typeof Ve!="number")return te.destroy(new Error("Invalid messageId")),!1;let X=null;if(de===5&&typeof Ie=="object"){if(X=W(te,Ie,Ae,Q),!X)return!1;Q+=X.length}return te.write(t.ACKS[we][se][Me][0]),Q===3&&(Q+=ue!==0?1:-1),_e(te,Q),w(te,Ve),de===5&&Q!==2&&te.write(n.from([ue])),X!==null?X.write():Q===4&&te.write(n.from([0])),!0}function j(ce,te,Ae){c("subscribe: packet: ");let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.dup?t.DUP_MASK:0,Ve=ge.messageId,Me=ge.subscriptions,se=ge.properties,ue=0;if(typeof Ve!="number")return te.destroy(new Error("Invalid messageId")),!1;ue+=2;let Ie=null;if(de===5){if(Ie=J(te,se),!Ie)return!1;ue+=Ie.length}if(typeof Me=="object"&&Me.length)for(let X=0;X<Me.length;X+=1){let ne=Me[X].topic,Y=Me[X].qos;if(typeof ne!="string")return te.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Y!="number")return te.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(de===5){if(typeof(Me[X].nl||!1)!="boolean")return te.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Me[X].rap||!1)!="boolean")return te.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let pe=Me[X].rh||0;if(typeof pe!="number"||pe>2)return te.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}ue+=n.byteLength(ne)+2+1}else return te.destroy(new Error("Invalid subscriptions")),!1;c("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),te.write(t.SUBSCRIBE_HEADER[1][we?1:0][0]),_e(te,ue),w(te,Ve),Ie!==null&&Ie.write();let Q=!0;for(let X of Me){let ne=X.topic,Y=X.qos,pe=+X.nl,be=+X.rap,ye=X.rh,Xe;ae(te,ne),Xe=t.SUBSCRIBE_OPTIONS_QOS[Y],de===5&&(Xe|=pe?t.SUBSCRIBE_OPTIONS_NL:0,Xe|=be?t.SUBSCRIBE_OPTIONS_RAP:0,Xe|=ye?t.SUBSCRIBE_OPTIONS_RH[ye]:0),Q=te.write(n.from([Xe]))}return Q}function P(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.messageId,Ve=ge.granted,Me=ge.properties,se=0;if(typeof we!="number")return te.destroy(new Error("Invalid messageId")),!1;if(se+=2,typeof Ve=="object"&&Ve.length)for(let Ie=0;Ie<Ve.length;Ie+=1){if(typeof Ve[Ie]!="number")return te.destroy(new Error("Invalid qos vector")),!1;se+=1}else return te.destroy(new Error("Invalid qos vector")),!1;let ue=null;if(de===5){if(ue=W(te,Me,Ae,se),!ue)return!1;se+=ue.length}return te.write(t.SUBACK_HEADER),_e(te,se),w(te,we),ue!==null&&ue.write(),te.write(n.from(Ve))}function k(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.messageId,Ve=ge.dup?t.DUP_MASK:0,Me=ge.unsubscriptions,se=ge.properties,ue=0;if(typeof we!="number")return te.destroy(new Error("Invalid messageId")),!1;if(ue+=2,typeof Me=="object"&&Me.length)for(let X=0;X<Me.length;X+=1){if(typeof Me[X]!="string")return te.destroy(new Error("Invalid unsubscriptions")),!1;ue+=n.byteLength(Me[X])+2}else return te.destroy(new Error("Invalid unsubscriptions")),!1;let Ie=null;if(de===5){if(Ie=J(te,se),!Ie)return!1;ue+=Ie.length}te.write(t.UNSUBSCRIBE_HEADER[1][Ve?1:0][0]),_e(te,ue),w(te,we),Ie!==null&&Ie.write();let Q=!0;for(let X=0;X<Me.length;X++)Q=ae(te,Me[X]);return Q}function M(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.messageId,Ve=ge.dup?t.DUP_MASK:0,Me=ge.granted,se=ge.properties,ue=ge.cmd,Ie=0,Q=2;if(typeof we!="number")return te.destroy(new Error("Invalid messageId")),!1;if(de===5)if(typeof Me=="object"&&Me.length)for(let ne=0;ne<Me.length;ne+=1){if(typeof Me[ne]!="number")return te.destroy(new Error("Invalid qos vector")),!1;Q+=1}else return te.destroy(new Error("Invalid qos vector")),!1;let X=null;if(de===5){if(X=W(te,se,Ae,Q),!X)return!1;Q+=X.length}return te.write(t.ACKS[ue][Ie][Ve][0]),_e(te,Q),w(te,we),X!==null&&X.write(),de===5&&te.write(n.from(Me)),!0}function F(ce,te,Ae){return te.write(t.EMPTY[ce.cmd])}function $(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.reasonCode,Ve=ge.properties,Me=de===5?1:0,se=null;if(de===5){if(se=W(te,Ve,Ae,Me),!se)return!1;Me+=se.length}return te.write(n.from([t.codes.disconnect<<4])),_e(te,Me),de===5&&te.write(n.from([we])),se!==null&&se.write(),!0}function N(ce,te,Ae){let de=Ae?Ae.protocolVersion:4,ge=ce||{},we=ge.reasonCode,Ve=ge.properties,Me=de===5?1:0;de!==5&&te.destroy(new Error("Invalid mqtt version for auth packet"));let se=W(te,Ve,Ae,Me);return se?(Me+=se.length,te.write(n.from([t.codes.auth<<4])),_e(te,Me),te.write(n.from([we])),se!==null&&se.write(),!0):!1}var V={};function _e(ce,te){if(te>t.VARBYTEINT_MAX)return ce.destroy(new Error(`Invalid variable byte integer: ${te}`)),!1;let Ae=V[te];return Ae||(Ae=y(te),te<16384&&(V[te]=Ae)),c("writeVarByteInt: writing to stream: %o",Ae),ce.write(Ae)}function ae(ce,te){let Ae=n.byteLength(te);return w(ce,Ae),c("writeString: %s",te),ce.write(te,"utf8")}function De(ce,te,Ae){ae(ce,te),ae(ce,Ae)}function ke(ce,te){return c("writeNumberCached: number: %d",te),c("writeNumberCached: %o",h[te]),ce.write(h[te])}function fe(ce,te){let Ae=d(te);return c("writeNumberGenerated: %o",Ae),ce.write(Ae)}function Ne(ce,te){let Ae=v(te);return c("write4ByteNumber: %o",Ae),ce.write(Ae)}function ie(ce,te){typeof te=="string"?ae(ce,te):te?(w(ce,te.length),ce.write(te)):w(ce,0)}function J(ce,te){if(typeof te!="object"||te.length!=null)return{length:1,write(){Le(ce,{},0)}};let Ae=0;function de(ge,we){let Ve=t.propertiesTypes[ge],Me=0;switch(Ve){case"byte":{if(typeof we!="boolean")return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=2;break}case"int8":{if(typeof we!="number"||we<0||we>255)return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=2;break}case"binary":{if(we&&we===null)return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=1+n.byteLength(we)+2;break}case"int16":{if(typeof we!="number"||we<0||we>65535)return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=3;break}case"int32":{if(typeof we!="number"||we<0||we>4294967295)return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=5;break}case"var":{if(typeof we!="number"||we<0||we>268435455)return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=1+n.byteLength(y(we));break}case"string":{if(typeof we!="string")return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=3+n.byteLength(we.toString());break}case"pair":{if(typeof we!="object")return ce.destroy(new Error(`Invalid ${ge}: ${we}`)),!1;Me+=Object.getOwnPropertyNames(we).reduce((se,ue)=>{let Ie=we[ue];return Array.isArray(Ie)?se+=Ie.reduce((Q,X)=>(Q+=3+n.byteLength(ue.toString())+2+n.byteLength(X.toString()),Q),0):se+=3+n.byteLength(ue.toString())+2+n.byteLength(we[ue].toString()),se},0);break}default:return ce.destroy(new Error(`Invalid property ${ge}: ${we}`)),!1}return Me}if(te)for(let ge in te){let we=0,Ve=0,Me=te[ge];if(Array.isArray(Me))for(let se=0;se<Me.length;se++){if(Ve=de(ge,Me[se]),!Ve)return!1;we+=Ve}else{if(Ve=de(ge,Me),!Ve)return!1;we=Ve}if(!we)return!1;Ae+=we}return{length:n.byteLength(y(Ae))+Ae,write(){Le(ce,te,Ae)}}}function W(ce,te,Ae,de){let ge=["reasonString","userProperties"],we=Ae&&Ae.properties&&Ae.properties.maximumPacketSize?Ae.properties.maximumPacketSize:0,Ve=J(ce,te);if(we)for(;de+Ve.length>we;){let Me=ge.shift();if(Me&&te[Me])delete te[Me],Ve=J(ce,te);else return!1}return Ve}function Ee(ce,te,Ae){switch(t.propertiesTypes[te]){case"byte":{ce.write(n.from([t.properties[te]])),ce.write(n.from([+Ae]));break}case"int8":{ce.write(n.from([t.properties[te]])),ce.write(n.from([Ae]));break}case"binary":{ce.write(n.from([t.properties[te]])),ie(ce,Ae);break}case"int16":{ce.write(n.from([t.properties[te]])),w(ce,Ae);break}case"int32":{ce.write(n.from([t.properties[te]])),Ne(ce,Ae);break}case"var":{ce.write(n.from([t.properties[te]])),_e(ce,Ae);break}case"string":{ce.write(n.from([t.properties[te]])),ae(ce,Ae);break}case"pair":{Object.getOwnPropertyNames(Ae).forEach(de=>{let ge=Ae[de];Array.isArray(ge)?ge.forEach(we=>{ce.write(n.from([t.properties[te]])),De(ce,de.toString(),we.toString())}):(ce.write(n.from([t.properties[te]])),De(ce,de.toString(),ge.toString()))});break}default:return ce.destroy(new Error(`Invalid property ${te} value: ${Ae}`)),!1}}function Le(ce,te,Ae){_e(ce,Ae);for(let de in te)if(Object.prototype.hasOwnProperty.call(te,de)&&te[de]!==null){let ge=te[de];if(Array.isArray(ge))for(let we=0;we<ge.length;we++)Ee(ce,de,ge[we]);else Ee(ce,de,ge)}}function oe(ce){return ce?ce instanceof n?ce.length:n.byteLength(ce):0}function qe(ce){return typeof ce=="string"||ce instanceof n}e.exports=T}),dM=Ke((r,e)=>{je(),ze(),$e();var t=qx(),{EventEmitter:n}=(Qa(),Kt(zo)),{Buffer:s}=(Kr(),Kt(Qr));function o(u,c){let h=new l;return t(u,h,c),h.concat()}var l=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,c=new Array(this._array.length),h=this._array,d=0,m;for(m=0;m<h.length&&h[m]!==void 0;m++)typeof h[m]!="string"?c[m]=h[m].length:c[m]=s.byteLength(h[m]),u+=c[m];let y=s.allocUnsafe(u);for(m=0;m<h.length&&h[m]!==void 0;m++)typeof h[m]!="string"?(h[m].copy(y,d),d+=c[m]):(y.write(h[m],d),d+=c[m]);return y}destroy(u){u&&this.emit("error",u)}};e.exports=o}),pM=Ke(r=>{je(),ze(),$e(),r.parser=cM().parser,r.generate=dM(),r.writeToStream=qx()}),Hx=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let t=this.nextId++;return this.nextId===65536&&(this.nextId=1),t}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(t){return!0}deallocate(t){}clear(){}};r.default=e}),mM=Ke((r,e)=>{je(),ze(),$e(),e.exports=n;function t(o){return o instanceof gd?gd.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function n(o){if(o=o||{},o.circles)return s(o);let l=new Map;if(l.set(Date,m=>new Date(m)),l.set(Map,(m,y)=>new Map(c(Array.from(m),y))),l.set(Set,(m,y)=>new Set(c(Array.from(m),y))),o.constructorHandlers)for(let m of o.constructorHandlers)l.set(m[0],m[1]);let u=null;return o.proto?d:h;function c(m,y){let v=Object.keys(m),w=new Array(v.length);for(let S=0;S<v.length;S++){let T=v[S],O=m[T];typeof O!="object"||O===null?w[T]=O:O.constructor!==Object&&(u=l.get(O.constructor))?w[T]=u(O,y):ArrayBuffer.isView(O)?w[T]=t(O):w[T]=y(O)}return w}function h(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return c(m,h);if(m.constructor!==Object&&(u=l.get(m.constructor)))return u(m,h);let y={};for(let v in m){if(Object.hasOwnProperty.call(m,v)===!1)continue;let w=m[v];typeof w!="object"||w===null?y[v]=w:w.constructor!==Object&&(u=l.get(w.constructor))?y[v]=u(w,h):ArrayBuffer.isView(w)?y[v]=t(w):y[v]=h(w)}return y}function d(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return c(m,d);if(m.constructor!==Object&&(u=l.get(m.constructor)))return u(m,d);let y={};for(let v in m){let w=m[v];typeof w!="object"||w===null?y[v]=w:w.constructor!==Object&&(u=l.get(w.constructor))?y[v]=u(w,d):ArrayBuffer.isView(w)?y[v]=t(w):y[v]=d(w)}return y}}function s(o){let l=[],u=[],c=new Map;if(c.set(Date,v=>new Date(v)),c.set(Map,(v,w)=>new Map(d(Array.from(v),w))),c.set(Set,(v,w)=>new Set(d(Array.from(v),w))),o.constructorHandlers)for(let v of o.constructorHandlers)c.set(v[0],v[1]);let h=null;return o.proto?y:m;function d(v,w){let S=Object.keys(v),T=new Array(S.length);for(let O=0;O<S.length;O++){let x=S[O],R=v[x];if(typeof R!="object"||R===null)T[x]=R;else if(R.constructor!==Object&&(h=c.get(R.constructor)))T[x]=h(R,w);else if(ArrayBuffer.isView(R))T[x]=t(R);else{let z=l.indexOf(R);z!==-1?T[x]=u[z]:T[x]=w(R)}}return T}function m(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,m);if(v.constructor!==Object&&(h=c.get(v.constructor)))return h(v,m);let w={};l.push(v),u.push(w);for(let S in v){if(Object.hasOwnProperty.call(v,S)===!1)continue;let T=v[S];if(typeof T!="object"||T===null)w[S]=T;else if(T.constructor!==Object&&(h=c.get(T.constructor)))w[S]=h(T,m);else if(ArrayBuffer.isView(T))w[S]=t(T);else{let O=l.indexOf(T);O!==-1?w[S]=u[O]:w[S]=m(T)}}return l.pop(),u.pop(),w}function y(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,y);if(v.constructor!==Object&&(h=c.get(v.constructor)))return h(v,y);let w={};l.push(v),u.push(w);for(let S in v){let T=v[S];if(typeof T!="object"||T===null)w[S]=T;else if(T.constructor!==Object&&(h=c.get(T.constructor)))w[S]=h(T,y);else if(ArrayBuffer.isView(T))w[S]=t(T);else{let O=l.indexOf(T);O!==-1?w[S]=u[O]:w[S]=y(T)}}return l.pop(),u.pop(),w}}}),gM=Ke((r,e)=>{je(),ze(),$e(),e.exports=mM()()}),yM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0}),r.validateTopic=e,r.validateTopics=t;function e(n){let s=n.split("/");for(let o=0;o<s.length;o++)if(s[o]!=="+"){if(s[o]==="#")return o===s.length-1;if(s[o].indexOf("+")!==-1||s[o].indexOf("#")!==-1)return!1}return!0}function t(n){if(n.length===0)return"empty_topic_list";for(let s=0;s<n.length;s++)if(!e(n[s]))return n[s];return null}}),Qx=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=Ga(),t={objectMode:!0},n={clean:!0},s=class{constructor(o){this.options=o||{},this.options=Object.assign(Object.assign({},n),o),this._inflights=new Map}put(o,l){return this._inflights.set(o.messageId,o),l&&l(),this}createStream(){let o=new e.Readable(t),l=[],u=!1,c=0;return this._inflights.forEach((h,d)=>{l.push(h)}),o._read=()=>{!u&&c<l.length?o.push(l[c++]):o.push(null)},o.destroy=h=>{if(!u)return u=!0,setTimeout(()=>{o.emit("close")},0),o},o}del(o,l){let u=this._inflights.get(o.messageId);return u?(this._inflights.delete(o.messageId),l(null,u)):l&&l(new Error("missing packet")),this}get(o,l){let u=this._inflights.get(o.messageId);return u?l(null,u):l&&l(new Error("missing packet")),this}close(o){this.options.clean&&(this._inflights=null),o&&o()}};r.default=s}),vM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],t=(n,s,o)=>{n.log("handlePublish: packet %o",s),o=typeof o<"u"?o:n.noop;let l=s.topic.toString(),u=s.payload,{qos:c}=s,{messageId:h}=s,{options:d}=n;if(n.options.protocolVersion===5){let m;if(s.properties&&(m=s.properties.topicAlias),typeof m<"u")if(l.length===0)if(m>0&&m<=65535){let y=n.topicAliasRecv.getTopicByAlias(m);if(y)l=y,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",l,m);else{n.log("handlePublish :: unregistered topic alias. alias: %d",m),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",m),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(l,m))n.log("handlePublish :: registered topic: %s - alias: %d",l,m);else{n.log("handlePublish :: topic alias out of range. alias: %d",m),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",c),c){case 2:{d.customHandleAcks(l,u,s,(m,y)=>{if(typeof m=="number"&&(y=m,m=null),m)return n.emit("error",m);if(e.indexOf(y)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));y?n._sendPacket({cmd:"pubrec",messageId:h,reasonCode:y},o):n.incomingStore.put(s,()=>{n._sendPacket({cmd:"pubrec",messageId:h},o)})});break}case 1:{d.customHandleAcks(l,u,s,(m,y)=>{if(typeof m=="number"&&(y=m,m=null),m)return n.emit("error",m);if(e.indexOf(y)===-1)return n.emit("error",new Error("Wrong reason code for puback"));y||n.emit("message",l,u,s),n.handleMessage(s,v=>{if(v)return o&&o(v);n._sendPacket({cmd:"puback",messageId:h,reasonCode:y},o)})});break}case 0:n.emit("message",l,u,s),n.handleMessage(s,o);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};r.default=t}),_M=Ke((r,e)=>{e.exports={version:"5.10.4"}}),_u=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0}),r.MQTTJS_VERSION=r.nextTick=r.ErrorWithReasonCode=void 0,r.applyMixin=t;var e=class Kx extends Error{constructor(s,o){super(s),this.code=o,Object.setPrototypeOf(this,Kx.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};r.ErrorWithReasonCode=e;function t(n,s,o=!1){var l;let u=[s];for(;;){let c=u[0],h=Object.getPrototypeOf(c);if(h!=null&&h.prototype)u.unshift(h);else break}for(let c of u)for(let h of Object.getOwnPropertyNames(c.prototype))(o||h!=="constructor")&&Object.defineProperty(n.prototype,h,(l=Object.getOwnPropertyDescriptor(c.prototype,h))!==null&&l!==void 0?l:Object.create(null))}r.nextTick=typeof(jt==null?void 0:jt.nextTick)=="function"?jt.nextTick:n=>{setTimeout(n,0)},r.MQTTJS_VERSION=_M().version}),Jd=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=void 0;var e=_u();r.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var t=(n,s)=>{let{messageId:o}=s,l=s.cmd,u=null,c=n.outgoing[o]?n.outgoing[o].cb:null,h=null;if(!c){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",l),l){case"pubcomp":case"puback":{let d=s.reasonCode;d&&d>0&&d!==16?(h=new e.ErrorWithReasonCode(`Publish error: ${r.ReasonCodes[d]}`,d),n._removeOutgoingAndStoreMessage(o,()=>{c(h,s)})):n._removeOutgoingAndStoreMessage(o,c);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:o};let d=s.reasonCode;d&&d>0&&d!==16?(h=new e.ErrorWithReasonCode(`Publish error: ${r.ReasonCodes[d]}`,d),n._removeOutgoingAndStoreMessage(o,()=>{c(h,s)})):n._sendPacket(u);break}case"suback":{delete n.outgoing[o],n.messageIdProvider.deallocate(o);let d=s.granted;for(let m=0;m<d.length;m++){let y=d[m];if(y&128){h=new Error(`Subscribe error: ${r.ReasonCodes[y]}`),h.code=y;let v=n.messageIdToTopic[o];v&&v.forEach(w=>{delete n._resubscribeTopics[w]})}}delete n.messageIdToTopic[o],n._invokeStoreProcessingQueue(),c(h,s);break}case"unsuback":{delete n.outgoing[o],n.messageIdProvider.deallocate(o),n._invokeStoreProcessingQueue(),c(null,s);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};r.default=t}),wM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=_u(),t=Jd(),n=(s,o)=>{let{options:l}=s,u=l.protocolVersion,c=u===5?o.reasonCode:o.returnCode;if(u!==5){let h=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,c);s.emit("error",h);return}s.handleAuth(o,(h,d)=>{if(h){s.emit("error",h);return}if(c===24)s.reconnecting=!1,s._sendPacket(d);else{let m=new e.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[c]}`,c);s.emit("error",m)}})};r.default=n}),bM=Ke(r=>{var v,w,S,T,O,x,R,z,H,j,P,k,M,F,$,N,V,_e,ae,De,ke,fe,Ne,ie,J,W,Ee,Le,oe,iv,ce,te,Ae,de,Gx,we,Ve,Me,yo,vo,sv,Bf,jf,tr,ov,pc,_o,av,Xe;je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,n=typeof jt=="object"&&jt?jt:{},s=(_,E,C,q)=>{typeof n.emitWarning=="function"?n.emitWarning(_,E,C,q):console.error(`[${C}] ${E}: ${_}`)},o=globalThis.AbortController,l=globalThis.AbortSignal;if(typeof o>"u"){l=class{constructor(){or(this,"onabort");or(this,"_onabort",[]);or(this,"reason");or(this,"aborted",!1)}addEventListener(C,q){this._onabort.push(q)}},o=class{constructor(){or(this,"signal",new l);E()}abort(C){var q,ee;if(!this.signal.aborted){this.signal.reason=C,this.signal.aborted=!0;for(let le of this.signal._onabort)le(C);(ee=(q=this.signal).onabort)==null||ee.call(q,C)}}};let _=((v=n.env)==null?void 0:v.LRU_CACHE_IGNORE_AC_WARNING)!=="1",E=()=>{_&&(_=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",E))}}var u=_=>!t.has(_),c=_=>_&&_===Math.floor(_)&&_>0&&isFinite(_),h=_=>c(_)?_<=Math.pow(2,8)?Uint8Array:_<=Math.pow(2,16)?Uint16Array:_<=Math.pow(2,32)?Uint32Array:_<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(_){super(_),this.fill(0)}},m=(w=class{constructor(E,C){or(this,"heap");or(this,"length");if(!L(w,S))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new C(E),this.length=0}static create(E){let C=h(E);if(!C)return[];Ue(w,S,!0);let q=new w(E,C);return Ue(w,S,!1),q}push(E){this.heap[this.length++]=E}pop(){return this.heap[--this.length]}},S=new WeakMap,nt(w,S,!1),w),y=(Xe=class{constructor(E){nt(this,oe);nt(this,x);nt(this,R);nt(this,z);nt(this,H);nt(this,j);nt(this,P);or(this,"ttl");or(this,"ttlResolution");or(this,"ttlAutopurge");or(this,"updateAgeOnGet");or(this,"updateAgeOnHas");or(this,"allowStale");or(this,"noDisposeOnSet");or(this,"noUpdateTTL");or(this,"maxEntrySize");or(this,"sizeCalculation");or(this,"noDeleteOnFetchRejection");or(this,"noDeleteOnStaleGet");or(this,"allowStaleOnFetchAbort");or(this,"allowStaleOnFetchRejection");or(this,"ignoreFetchAbort");nt(this,k);nt(this,M);nt(this,F);nt(this,$);nt(this,N);nt(this,V);nt(this,_e);nt(this,ae);nt(this,De);nt(this,ke);nt(this,fe);nt(this,Ne);nt(this,ie);nt(this,J);nt(this,W);nt(this,Ee);nt(this,Le);nt(this,ce,()=>{});nt(this,te,()=>{});nt(this,Ae,()=>{});nt(this,de,()=>!1);nt(this,we,E=>{});nt(this,Ve,(E,C,q)=>{});nt(this,Me,(E,C,q,ee)=>{if(q||ee)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});or(this,T,"LRUCache");let{max:C=0,ttl:q,ttlResolution:ee=1,ttlAutopurge:le,updateAgeOnGet:Se,updateAgeOnHas:Ze,allowStale:et,dispose:ft,disposeAfter:bt,noDisposeOnSet:gt,noUpdateTTL:Br,maxSize:_r=0,maxEntrySize:Tr=0,sizeCalculation:kt,fetchMethod:Wt,memoMethod:mt,noDeleteOnFetchRejection:Pt,noDeleteOnStaleGet:mr,allowStaleOnFetchRejection:Gt,allowStaleOnFetchAbort:wr,ignoreFetchAbort:jr}=E;if(C!==0&&!c(C))throw new TypeError("max option must be a nonnegative integer");let G=C?h(C):Array;if(!G)throw new Error("invalid max value: "+C);if(Ue(this,x,C),Ue(this,R,_r),this.maxEntrySize=Tr||L(this,R),this.sizeCalculation=kt,this.sizeCalculation){if(!L(this,R)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(mt!==void 0&&typeof mt!="function")throw new TypeError("memoMethod must be a function if defined");if(Ue(this,P,mt),Wt!==void 0&&typeof Wt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Ue(this,j,Wt),Ue(this,Ee,!!Wt),Ue(this,F,new Map),Ue(this,$,new Array(C).fill(void 0)),Ue(this,N,new Array(C).fill(void 0)),Ue(this,V,new G(C)),Ue(this,_e,new G(C)),Ue(this,ae,0),Ue(this,De,0),Ue(this,ke,m.create(C)),Ue(this,k,0),Ue(this,M,0),typeof ft=="function"&&Ue(this,z,ft),typeof bt=="function"?(Ue(this,H,bt),Ue(this,fe,[])):(Ue(this,H,void 0),Ue(this,fe,void 0)),Ue(this,W,!!L(this,z)),Ue(this,Le,!!L(this,H)),this.noDisposeOnSet=!!gt,this.noUpdateTTL=!!Br,this.noDeleteOnFetchRejection=!!Pt,this.allowStaleOnFetchRejection=!!Gt,this.allowStaleOnFetchAbort=!!wr,this.ignoreFetchAbort=!!jr,this.maxEntrySize!==0){if(L(this,R)!==0&&!c(L(this,R)))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");We(this,oe,Gx).call(this)}if(this.allowStale=!!et,this.noDeleteOnStaleGet=!!mr,this.updateAgeOnGet=!!Se,this.updateAgeOnHas=!!Ze,this.ttlResolution=c(ee)||ee===0?ee:1,this.ttlAutopurge=!!le,this.ttl=q||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");We(this,oe,iv).call(this)}if(L(this,x)===0&&this.ttl===0&&L(this,R)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!L(this,x)&&!L(this,R)){let Z="LRU_CACHE_UNBOUNDED";u(Z)&&(t.add(Z),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Z,Xe))}}static unsafeExposeInternals(E){return{starts:L(E,ie),ttls:L(E,J),sizes:L(E,Ne),keyMap:L(E,F),keyList:L(E,$),valList:L(E,N),next:L(E,V),prev:L(E,_e),get head(){return L(E,ae)},get tail(){return L(E,De)},free:L(E,ke),isBackgroundFetch:C=>{var q;return We(q=E,oe,tr).call(q,C)},backgroundFetch:(C,q,ee,le)=>{var Se;return We(Se=E,oe,jf).call(Se,C,q,ee,le)},moveToTail:C=>{var q;return We(q=E,oe,pc).call(q,C)},indexes:C=>{var q;return We(q=E,oe,yo).call(q,C)},rindexes:C=>{var q;return We(q=E,oe,vo).call(q,C)},isStale:C=>{var q;return L(q=E,de).call(q,C)}}}get max(){return L(this,x)}get maxSize(){return L(this,R)}get calculatedSize(){return L(this,M)}get size(){return L(this,k)}get fetchMethod(){return L(this,j)}get memoMethod(){return L(this,P)}get dispose(){return L(this,z)}get disposeAfter(){return L(this,H)}getRemainingTTL(E){return L(this,F).has(E)?1/0:0}*entries(){for(let E of We(this,oe,yo).call(this))L(this,N)[E]!==void 0&&L(this,$)[E]!==void 0&&!We(this,oe,tr).call(this,L(this,N)[E])&&(yield[L(this,$)[E],L(this,N)[E]])}*rentries(){for(let E of We(this,oe,vo).call(this))L(this,N)[E]!==void 0&&L(this,$)[E]!==void 0&&!We(this,oe,tr).call(this,L(this,N)[E])&&(yield[L(this,$)[E],L(this,N)[E]])}*keys(){for(let E of We(this,oe,yo).call(this)){let C=L(this,$)[E];C!==void 0&&!We(this,oe,tr).call(this,L(this,N)[E])&&(yield C)}}*rkeys(){for(let E of We(this,oe,vo).call(this)){let C=L(this,$)[E];C!==void 0&&!We(this,oe,tr).call(this,L(this,N)[E])&&(yield C)}}*values(){for(let E of We(this,oe,yo).call(this))L(this,N)[E]!==void 0&&!We(this,oe,tr).call(this,L(this,N)[E])&&(yield L(this,N)[E])}*rvalues(){for(let E of We(this,oe,vo).call(this))L(this,N)[E]!==void 0&&!We(this,oe,tr).call(this,L(this,N)[E])&&(yield L(this,N)[E])}[(O=Symbol.iterator,T=Symbol.toStringTag,O)](){return this.entries()}find(E,C={}){for(let q of We(this,oe,yo).call(this)){let ee=L(this,N)[q],le=We(this,oe,tr).call(this,ee)?ee.__staleWhileFetching:ee;if(le!==void 0&&E(le,L(this,$)[q],this))return this.get(L(this,$)[q],C)}}forEach(E,C=this){for(let q of We(this,oe,yo).call(this)){let ee=L(this,N)[q],le=We(this,oe,tr).call(this,ee)?ee.__staleWhileFetching:ee;le!==void 0&&E.call(C,le,L(this,$)[q],this)}}rforEach(E,C=this){for(let q of We(this,oe,vo).call(this)){let ee=L(this,N)[q],le=We(this,oe,tr).call(this,ee)?ee.__staleWhileFetching:ee;le!==void 0&&E.call(C,le,L(this,$)[q],this)}}purgeStale(){let E=!1;for(let C of We(this,oe,vo).call(this,{allowStale:!0}))L(this,de).call(this,C)&&(We(this,oe,_o).call(this,L(this,$)[C],"expire"),E=!0);return E}info(E){let C=L(this,F).get(E);if(C===void 0)return;let q=L(this,N)[C],ee=We(this,oe,tr).call(this,q)?q.__staleWhileFetching:q;if(ee===void 0)return;let le={value:ee};if(L(this,J)&&L(this,ie)){let Se=L(this,J)[C],Ze=L(this,ie)[C];if(Se&&Ze){let et=Se-(e.now()-Ze);le.ttl=et,le.start=Date.now()}}return L(this,Ne)&&(le.size=L(this,Ne)[C]),le}dump(){let E=[];for(let C of We(this,oe,yo).call(this,{allowStale:!0})){let q=L(this,$)[C],ee=L(this,N)[C],le=We(this,oe,tr).call(this,ee)?ee.__staleWhileFetching:ee;if(le===void 0||q===void 0)continue;let Se={value:le};if(L(this,J)&&L(this,ie)){Se.ttl=L(this,J)[C];let Ze=e.now()-L(this,ie)[C];Se.start=Math.floor(Date.now()-Ze)}L(this,Ne)&&(Se.size=L(this,Ne)[C]),E.unshift([q,Se])}return E}load(E){this.clear();for(let[C,q]of E){if(q.start){let ee=Date.now()-q.start;q.start=e.now()-ee}this.set(C,q.value,q)}}set(E,C,q={}){var Br,_r,Tr,kt,Wt;if(C===void 0)return this.delete(E),this;let{ttl:ee=this.ttl,start:le,noDisposeOnSet:Se=this.noDisposeOnSet,sizeCalculation:Ze=this.sizeCalculation,status:et}=q,{noUpdateTTL:ft=this.noUpdateTTL}=q,bt=L(this,Me).call(this,E,C,q.size||0,Ze);if(this.maxEntrySize&&bt>this.maxEntrySize)return et&&(et.set="miss",et.maxEntrySizeExceeded=!0),We(this,oe,_o).call(this,E,"set"),this;let gt=L(this,k)===0?void 0:L(this,F).get(E);if(gt===void 0)gt=L(this,k)===0?L(this,De):L(this,ke).length!==0?L(this,ke).pop():L(this,k)===L(this,x)?We(this,oe,Bf).call(this,!1):L(this,k),L(this,$)[gt]=E,L(this,N)[gt]=C,L(this,F).set(E,gt),L(this,V)[L(this,De)]=gt,L(this,_e)[gt]=L(this,De),Ue(this,De,gt),fa(this,k)._++,L(this,Ve).call(this,gt,bt,et),et&&(et.set="add"),ft=!1;else{We(this,oe,pc).call(this,gt);let mt=L(this,N)[gt];if(C!==mt){if(L(this,Ee)&&We(this,oe,tr).call(this,mt)){mt.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Pt}=mt;Pt!==void 0&&!Se&&(L(this,W)&&((Br=L(this,z))==null||Br.call(this,Pt,E,"set")),L(this,Le)&&((_r=L(this,fe))==null||_r.push([Pt,E,"set"])))}else Se||(L(this,W)&&((Tr=L(this,z))==null||Tr.call(this,mt,E,"set")),L(this,Le)&&((kt=L(this,fe))==null||kt.push([mt,E,"set"])));if(L(this,we).call(this,gt),L(this,Ve).call(this,gt,bt,et),L(this,N)[gt]=C,et){et.set="replace";let Pt=mt&&We(this,oe,tr).call(this,mt)?mt.__staleWhileFetching:mt;Pt!==void 0&&(et.oldValue=Pt)}}else et&&(et.set="update")}if(ee!==0&&!L(this,J)&&We(this,oe,iv).call(this),L(this,J)&&(ft||L(this,Ae).call(this,gt,ee,le),et&&L(this,te).call(this,et,gt)),!Se&&L(this,Le)&&L(this,fe)){let mt=L(this,fe),Pt;for(;Pt=mt==null?void 0:mt.shift();)(Wt=L(this,H))==null||Wt.call(this,...Pt)}return this}pop(){var E;try{for(;L(this,k);){let C=L(this,N)[L(this,ae)];if(We(this,oe,Bf).call(this,!0),We(this,oe,tr).call(this,C)){if(C.__staleWhileFetching)return C.__staleWhileFetching}else if(C!==void 0)return C}}finally{if(L(this,Le)&&L(this,fe)){let C=L(this,fe),q;for(;q=C==null?void 0:C.shift();)(E=L(this,H))==null||E.call(this,...q)}}}has(E,C={}){let{updateAgeOnHas:q=this.updateAgeOnHas,status:ee}=C,le=L(this,F).get(E);if(le!==void 0){let Se=L(this,N)[le];if(We(this,oe,tr).call(this,Se)&&Se.__staleWhileFetching===void 0)return!1;if(L(this,de).call(this,le))ee&&(ee.has="stale",L(this,te).call(this,ee,le));else return q&&L(this,ce).call(this,le),ee&&(ee.has="hit",L(this,te).call(this,ee,le)),!0}else ee&&(ee.has="miss");return!1}peek(E,C={}){let{allowStale:q=this.allowStale}=C,ee=L(this,F).get(E);if(ee===void 0||!q&&L(this,de).call(this,ee))return;let le=L(this,N)[ee];return We(this,oe,tr).call(this,le)?le.__staleWhileFetching:le}async fetch(E,C={}){let{allowStale:q=this.allowStale,updateAgeOnGet:ee=this.updateAgeOnGet,noDeleteOnStaleGet:le=this.noDeleteOnStaleGet,ttl:Se=this.ttl,noDisposeOnSet:Ze=this.noDisposeOnSet,size:et=0,sizeCalculation:ft=this.sizeCalculation,noUpdateTTL:bt=this.noUpdateTTL,noDeleteOnFetchRejection:gt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Br=this.allowStaleOnFetchRejection,ignoreFetchAbort:_r=this.ignoreFetchAbort,allowStaleOnFetchAbort:Tr=this.allowStaleOnFetchAbort,context:kt,forceRefresh:Wt=!1,status:mt,signal:Pt}=C;if(!L(this,Ee))return mt&&(mt.fetch="get"),this.get(E,{allowStale:q,updateAgeOnGet:ee,noDeleteOnStaleGet:le,status:mt});let mr={allowStale:q,updateAgeOnGet:ee,noDeleteOnStaleGet:le,ttl:Se,noDisposeOnSet:Ze,size:et,sizeCalculation:ft,noUpdateTTL:bt,noDeleteOnFetchRejection:gt,allowStaleOnFetchRejection:Br,allowStaleOnFetchAbort:Tr,ignoreFetchAbort:_r,status:mt,signal:Pt},Gt=L(this,F).get(E);if(Gt===void 0){mt&&(mt.fetch="miss");let wr=We(this,oe,jf).call(this,E,Gt,mr,kt);return wr.__returned=wr}else{let wr=L(this,N)[Gt];if(We(this,oe,tr).call(this,wr)){let Ge=q&&wr.__staleWhileFetching!==void 0;return mt&&(mt.fetch="inflight",Ge&&(mt.returnedStale=!0)),Ge?wr.__staleWhileFetching:wr.__returned=wr}let jr=L(this,de).call(this,Gt);if(!Wt&&!jr)return mt&&(mt.fetch="hit"),We(this,oe,pc).call(this,Gt),ee&&L(this,ce).call(this,Gt),mt&&L(this,te).call(this,mt,Gt),wr;let G=We(this,oe,jf).call(this,E,Gt,mr,kt),Z=G.__staleWhileFetching!==void 0&&q;return mt&&(mt.fetch=jr?"stale":"refresh",Z&&jr&&(mt.returnedStale=!0)),Z?G.__staleWhileFetching:G.__returned=G}}async forceFetch(E,C={}){let q=await this.fetch(E,C);if(q===void 0)throw new Error("fetch() returned undefined");return q}memo(E,C={}){let q=L(this,P);if(!q)throw new Error("no memoMethod provided to constructor");let{context:ee,forceRefresh:le,...Se}=C,Ze=this.get(E,Se);if(!le&&Ze!==void 0)return Ze;let et=q(E,Ze,{options:Se,context:ee});return this.set(E,et,Se),et}get(E,C={}){let{allowStale:q=this.allowStale,updateAgeOnGet:ee=this.updateAgeOnGet,noDeleteOnStaleGet:le=this.noDeleteOnStaleGet,status:Se}=C,Ze=L(this,F).get(E);if(Ze!==void 0){let et=L(this,N)[Ze],ft=We(this,oe,tr).call(this,et);return Se&&L(this,te).call(this,Se,Ze),L(this,de).call(this,Ze)?(Se&&(Se.get="stale"),ft?(Se&&q&&et.__staleWhileFetching!==void 0&&(Se.returnedStale=!0),q?et.__staleWhileFetching:void 0):(le||We(this,oe,_o).call(this,E,"expire"),Se&&q&&(Se.returnedStale=!0),q?et:void 0)):(Se&&(Se.get="hit"),ft?et.__staleWhileFetching:(We(this,oe,pc).call(this,Ze),ee&&L(this,ce).call(this,Ze),et))}else Se&&(Se.get="miss")}delete(E){return We(this,oe,_o).call(this,E,"delete")}clear(){return We(this,oe,av).call(this,"delete")}},x=new WeakMap,R=new WeakMap,z=new WeakMap,H=new WeakMap,j=new WeakMap,P=new WeakMap,k=new WeakMap,M=new WeakMap,F=new WeakMap,$=new WeakMap,N=new WeakMap,V=new WeakMap,_e=new WeakMap,ae=new WeakMap,De=new WeakMap,ke=new WeakMap,fe=new WeakMap,Ne=new WeakMap,ie=new WeakMap,J=new WeakMap,W=new WeakMap,Ee=new WeakMap,Le=new WeakMap,oe=new WeakSet,iv=function(){let E=new d(L(this,x)),C=new d(L(this,x));Ue(this,J,E),Ue(this,ie,C),Ue(this,Ae,(le,Se,Ze=e.now())=>{if(C[le]=Se!==0?Ze:0,E[le]=Se,Se!==0&&this.ttlAutopurge){let et=setTimeout(()=>{L(this,de).call(this,le)&&We(this,oe,_o).call(this,L(this,$)[le],"expire")},Se+1);et.unref&&et.unref()}}),Ue(this,ce,le=>{C[le]=E[le]!==0?e.now():0}),Ue(this,te,(le,Se)=>{if(E[Se]){let Ze=E[Se],et=C[Se];if(!Ze||!et)return;le.ttl=Ze,le.start=et,le.now=q||ee();let ft=le.now-et;le.remainingTTL=Ze-ft}});let q=0,ee=()=>{let le=e.now();if(this.ttlResolution>0){q=le;let Se=setTimeout(()=>q=0,this.ttlResolution);Se.unref&&Se.unref()}return le};this.getRemainingTTL=le=>{let Se=L(this,F).get(le);if(Se===void 0)return 0;let Ze=E[Se],et=C[Se];if(!Ze||!et)return 1/0;let ft=(q||ee())-et;return Ze-ft},Ue(this,de,le=>{let Se=C[le],Ze=E[le];return!!Ze&&!!Se&&(q||ee())-Se>Ze})},ce=new WeakMap,te=new WeakMap,Ae=new WeakMap,de=new WeakMap,Gx=function(){let E=new d(L(this,x));Ue(this,M,0),Ue(this,Ne,E),Ue(this,we,C=>{Ue(this,M,L(this,M)-E[C]),E[C]=0}),Ue(this,Me,(C,q,ee,le)=>{if(We(this,oe,tr).call(this,q))return 0;if(!c(ee))if(le){if(typeof le!="function")throw new TypeError("sizeCalculation must be a function");if(ee=le(q,C),!c(ee))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return ee}),Ue(this,Ve,(C,q,ee)=>{if(E[C]=q,L(this,R)){let le=L(this,R)-E[C];for(;L(this,M)>le;)We(this,oe,Bf).call(this,!0)}Ue(this,M,L(this,M)+E[C]),ee&&(ee.entrySize=q,ee.totalCalculatedSize=L(this,M))})},we=new WeakMap,Ve=new WeakMap,Me=new WeakMap,yo=function*({allowStale:E=this.allowStale}={}){if(L(this,k))for(let C=L(this,De);!(!We(this,oe,sv).call(this,C)||((E||!L(this,de).call(this,C))&&(yield C),C===L(this,ae)));)C=L(this,_e)[C]},vo=function*({allowStale:E=this.allowStale}={}){if(L(this,k))for(let C=L(this,ae);!(!We(this,oe,sv).call(this,C)||((E||!L(this,de).call(this,C))&&(yield C),C===L(this,De)));)C=L(this,V)[C]},sv=function(E){return E!==void 0&&L(this,F).get(L(this,$)[E])===E},Bf=function(E){var le,Se;let C=L(this,ae),q=L(this,$)[C],ee=L(this,N)[C];return L(this,Ee)&&We(this,oe,tr).call(this,ee)?ee.__abortController.abort(new Error("evicted")):(L(this,W)||L(this,Le))&&(L(this,W)&&((le=L(this,z))==null||le.call(this,ee,q,"evict")),L(this,Le)&&((Se=L(this,fe))==null||Se.push([ee,q,"evict"]))),L(this,we).call(this,C),E&&(L(this,$)[C]=void 0,L(this,N)[C]=void 0,L(this,ke).push(C)),L(this,k)===1?(Ue(this,ae,Ue(this,De,0)),L(this,ke).length=0):Ue(this,ae,L(this,V)[C]),L(this,F).delete(q),fa(this,k)._--,C},jf=function(E,C,q,ee){let le=C===void 0?void 0:L(this,N)[C];if(We(this,oe,tr).call(this,le))return le;let Se=new o,{signal:Ze}=q;Ze==null||Ze.addEventListener("abort",()=>Se.abort(Ze.reason),{signal:Se.signal});let et={signal:Se.signal,options:q,context:ee},ft=(kt,Wt=!1)=>{let{aborted:mt}=Se.signal,Pt=q.ignoreFetchAbort&&kt!==void 0;if(q.status&&(mt&&!Wt?(q.status.fetchAborted=!0,q.status.fetchError=Se.signal.reason,Pt&&(q.status.fetchAbortIgnored=!0)):q.status.fetchResolved=!0),mt&&!Pt&&!Wt)return gt(Se.signal.reason);let mr=_r;return L(this,N)[C]===_r&&(kt===void 0?mr.__staleWhileFetching?L(this,N)[C]=mr.__staleWhileFetching:We(this,oe,_o).call(this,E,"fetch"):(q.status&&(q.status.fetchUpdated=!0),this.set(E,kt,et.options))),kt},bt=kt=>(q.status&&(q.status.fetchRejected=!0,q.status.fetchError=kt),gt(kt)),gt=kt=>{let{aborted:Wt}=Se.signal,mt=Wt&&q.allowStaleOnFetchAbort,Pt=mt||q.allowStaleOnFetchRejection,mr=Pt||q.noDeleteOnFetchRejection,Gt=_r;if(L(this,N)[C]===_r&&(!mr||Gt.__staleWhileFetching===void 0?We(this,oe,_o).call(this,E,"fetch"):mt||(L(this,N)[C]=Gt.__staleWhileFetching)),Pt)return q.status&&Gt.__staleWhileFetching!==void 0&&(q.status.returnedStale=!0),Gt.__staleWhileFetching;if(Gt.__returned===Gt)throw kt},Br=(kt,Wt)=>{var Pt;let mt=(Pt=L(this,j))==null?void 0:Pt.call(this,E,le,et);mt&&mt instanceof Promise&&mt.then(mr=>kt(mr===void 0?void 0:mr),Wt),Se.signal.addEventListener("abort",()=>{(!q.ignoreFetchAbort||q.allowStaleOnFetchAbort)&&(kt(void 0),q.allowStaleOnFetchAbort&&(kt=mr=>ft(mr,!0)))})};q.status&&(q.status.fetchDispatched=!0);let _r=new Promise(Br).then(ft,bt),Tr=Object.assign(_r,{__abortController:Se,__staleWhileFetching:le,__returned:void 0});return C===void 0?(this.set(E,Tr,{...et.options,status:void 0}),C=L(this,F).get(E)):L(this,N)[C]=Tr,Tr},tr=function(E){if(!L(this,Ee))return!1;let C=E;return!!C&&C instanceof Promise&&C.hasOwnProperty("__staleWhileFetching")&&C.__abortController instanceof o},ov=function(E,C){L(this,_e)[C]=E,L(this,V)[E]=C},pc=function(E){E!==L(this,De)&&(E===L(this,ae)?Ue(this,ae,L(this,V)[E]):We(this,oe,ov).call(this,L(this,_e)[E],L(this,V)[E]),We(this,oe,ov).call(this,L(this,De),E),Ue(this,De,E))},_o=function(E,C){var ee,le,Se,Ze;let q=!1;if(L(this,k)!==0){let et=L(this,F).get(E);if(et!==void 0)if(q=!0,L(this,k)===1)We(this,oe,av).call(this,C);else{L(this,we).call(this,et);let ft=L(this,N)[et];if(We(this,oe,tr).call(this,ft)?ft.__abortController.abort(new Error("deleted")):(L(this,W)||L(this,Le))&&(L(this,W)&&((ee=L(this,z))==null||ee.call(this,ft,E,C)),L(this,Le)&&((le=L(this,fe))==null||le.push([ft,E,C]))),L(this,F).delete(E),L(this,$)[et]=void 0,L(this,N)[et]=void 0,et===L(this,De))Ue(this,De,L(this,_e)[et]);else if(et===L(this,ae))Ue(this,ae,L(this,V)[et]);else{let bt=L(this,_e)[et];L(this,V)[bt]=L(this,V)[et];let gt=L(this,V)[et];L(this,_e)[gt]=L(this,_e)[et]}fa(this,k)._--,L(this,ke).push(et)}}if(L(this,Le)&&((Se=L(this,fe))!=null&&Se.length)){let et=L(this,fe),ft;for(;ft=et==null?void 0:et.shift();)(Ze=L(this,H))==null||Ze.call(this,...ft)}return q},av=function(E){var C,q,ee;for(let le of We(this,oe,vo).call(this,{allowStale:!0})){let Se=L(this,N)[le];if(We(this,oe,tr).call(this,Se))Se.__abortController.abort(new Error("deleted"));else{let Ze=L(this,$)[le];L(this,W)&&((C=L(this,z))==null||C.call(this,Se,Ze,E)),L(this,Le)&&((q=L(this,fe))==null||q.push([Se,Ze,E]))}}if(L(this,F).clear(),L(this,N).fill(void 0),L(this,$).fill(void 0),L(this,J)&&L(this,ie)&&(L(this,J).fill(0),L(this,ie).fill(0)),L(this,Ne)&&L(this,Ne).fill(0),Ue(this,ae,0),Ue(this,De,0),L(this,ke).length=0,Ue(this,M,0),Ue(this,k,0),L(this,Le)&&L(this,fe)){let le=L(this,fe),Se;for(;Se=le==null?void 0:le.shift();)(ee=L(this,H))==null||ee.call(this,...Se)}},Xe);r.LRUCache=y}),$s=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.ContainerIterator=r.Container=r.Base=void 0;var e=class{constructor(s=0){this.iteratorType=s}equals(s){return this.o===s.o}};r.ContainerIterator=e;var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};r.Base=t;var n=class extends t{};r.Container=n}),EM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=$s(),t=class extends e.Base{constructor(s=[]){super(),this.S=[];let o=this;s.forEach(function(l){o.push(l)})}clear(){this.i=0,this.S=[]}push(s){return this.S.push(s),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=t;r.default=n}),SM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=$s(),t=class extends e.Base{constructor(s=[]){super(),this.j=0,this.q=[];let o=this;s.forEach(function(l){o.push(l)})}clear(){this.q=[],this.i=this.j=0}push(s){let o=this.q.length;if(this.j/o>.5&&this.j+this.i>=o&&o>4096){let l=this.i;for(let u=0;u<l;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=s}else this.q[this.j+this.i]=s;return++this.i}pop(){if(this.i===0)return;let s=this.q[this.j++];return this.i-=1,s}front(){if(this.i!==0)return this.q[this.j]}},n=t;r.default=n}),TM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=$s(),t=class extends e.Base{constructor(s=[],o=function(u,c){return u>c?-1:u<c?1:0},l=!0){if(super(),this.v=o,Array.isArray(s))this.C=l?[...s]:s;else{this.C=[];let c=this;s.forEach(function(h){c.C.push(h)})}this.i=this.C.length;let u=this.i>>1;for(let c=this.i-1>>1;c>=0;--c)this.k(c,u)}m(s){let o=this.C[s];for(;s>0;){let l=s-1>>1,u=this.C[l];if(this.v(u,o)<=0)break;this.C[s]=u,s=l}this.C[s]=o}k(s,o){let l=this.C[s];for(;s<o;){let u=s<<1|1,c=u+1,h=this.C[u];if(c<this.i&&this.v(h,this.C[c])>0&&(u=c,h=this.C[c]),this.v(h,l)>=0)break;this.C[s]=h,s=u}this.C[s]=l}clear(){this.i=0,this.C.length=0}push(s){this.C.push(s),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let s=this.C[0],o=this.C.pop();return this.i-=1,this.i&&(this.C[0]=o,this.k(0,this.i>>1)),s}top(){return this.C[0]}find(s){return this.C.indexOf(s)>=0}remove(s){let o=this.C.indexOf(s);return o<0?!1:(o===0?this.pop():o===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(o,1,this.C.pop()),this.i-=1,this.m(o),this.k(o,this.i>>1)),!0)}updateItem(s){let o=this.C.indexOf(s);return o<0?!1:(this.m(o),this.k(o,this.i>>1),!0)}toArray(){return[...this.C]}},n=t;r.default=n}),y0=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=$s(),t=class extends e.Container{},n=t;r.default=n}),zs=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),Yx=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.RandomIterator=void 0;var e=$s(),t=zs(),n=class extends e.ContainerIterator{constructor(s,o){super(o),this.o=s,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,t.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,t.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,t.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,t.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(s){this.container.setElementByPos(this.o,s)}};r.RandomIterator=n}),xM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=n(y0()),t=Yx();function n(u){return u&&u.t?u:{default:u}}var s=class Jx extends t.RandomIterator{constructor(c,h,d){super(c,d),this.container=h}copy(){return new Jx(this.o,this.container,this.iteratorType)}},o=class extends e.default{constructor(u=[],c=!0){if(super(),Array.isArray(u))this.J=c?[...u]:u,this.i=u.length;else{this.J=[];let h=this;u.forEach(function(d){h.pushBack(d)})}}clear(){this.i=0,this.J.length=0}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let c=0;for(let h=0;h<this.i;++h)this.J[h]!==u&&(this.J[c++]=this.J[h]);return this.i=this.J.length=c,this.i}eraseElementByIterator(u){let c=u.o;return u=u.next(),this.eraseElementByPos(c),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,c){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=c}insert(u,c,h=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(h).fill(c)),this.i+=h,this.i}find(u){for(let c=0;c<this.i;++c)if(this.J[c]===u)return new s(c,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let c=1;c<this.i;++c)this.J[c]!==this.J[c-1]&&(this.J[u++]=this.J[c]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let c=0;c<this.i;++c)u(this.J[c],c,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},l=o;r.default=l}),AM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=s(y0()),t=$s(),n=zs();function s(c){return c&&c.t?c:{default:c}}var o=class Xx extends t.ContainerIterator{constructor(h,d,m,y){super(y),this.o=h,this.h=d,this.container=m,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=h}copy(){return new Xx(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.default{constructor(c=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;c.forEach(function(d){h.pushBack(d)})}V(c){let{L:h,B:d}=c;h.B=d,d.L=h,c===this.p&&(this.p=d),c===this._&&(this._=h),this.i-=1}G(c,h){let d=h.B,m={l:c,L:h,B:d};h.B=m,d.L=m,h===this.h&&(this.p=m),d===this.h&&(this._=m),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return h.l}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return this.V(h),this.i}eraseElementByValue(c){let h=this.p;for(;h!==this.h;)h.l===c&&this.V(h),h=h.B;return this.i}eraseElementByIterator(c){let h=c.o;return h===this.h&&(0,n.throwIteratorAccessError)(),c=c.next(),this.V(h),c}pushBack(c){return this.G(c,this._),this.i}popBack(){if(this.i===0)return;let c=this._.l;return this.V(this._),c}pushFront(c){return this.G(c,this.h),this.i}popFront(){if(this.i===0)return;let c=this.p.l;return this.V(this.p),c}setElementByPos(c,h){if(c<0||c>this.i-1)throw new RangeError;let d=this.p;for(;c--;)d=d.B;d.l=h}insert(c,h,d=1){if(c<0||c>this.i)throw new RangeError;if(d<=0)return this.i;if(c===0)for(;d--;)this.pushFront(h);else if(c===this.i)for(;d--;)this.pushBack(h);else{let m=this.p;for(let v=1;v<c;++v)m=m.B;let y=m.B;for(this.i+=d;d--;)m.B={l:h,L:m},m.B.L=m,m=m.B;m.B=y,y.L=m}return this.i}find(c){let h=this.p;for(;h!==this.h;){if(h.l===c)return new o(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let c=this.p,h=this._,d=0;for(;d<<1<this.i;){let m=c.l;c.l=h.l,h.l=m,c=c.B,h=h.L,d+=1}}unique(){if(this.i<=1)return this.i;let c=this.p;for(;c!==this.h;){let h=c;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;c.B=h.B,c.B.L=c,c=c.B}return this.i}sort(c){if(this.i<=1)return;let h=[];this.forEach(function(m){h.push(m)}),h.sort(c);let d=this.p;h.forEach(function(m){d.l=m,d=d.B})}merge(c){let h=this;if(this.i===0)c.forEach(function(d){h.pushBack(d)});else{let d=this.p;c.forEach(function(m){for(;d!==h.h&&d.l<=m;)d=d.B;h.G(m,d.L)})}return this.i}forEach(c){let h=this.p,d=0;for(;h!==this.h;)c(h.l,d++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let c=this.p;for(;c!==this.h;)yield c.l,c=c.B}).bind(this)()}},u=l;r.default=u}),IM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=n(y0()),t=Yx();function n(u){return u&&u.t?u:{default:u}}var s=class Zx extends t.RandomIterator{constructor(c,h,d){super(c,d),this.container=h}copy(){return new Zx(this.o,this.container,this.iteratorType)}},o=class extends e.default{constructor(u=[],c=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=c,this.P=Math.max(Math.ceil(h/this.F),1);for(let y=0;y<this.P;++y)this.A.push(new Array(this.F));let d=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(d>>1),this.D=this.N=this.F-h%this.F>>1;let m=this;u.forEach(function(y){m.pushBack(y)})}T(){let u=[],c=Math.max(this.P>>1,1);for(let h=0;h<c;++h)u[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)u[u.length]=this.A[h];for(let h=0;h<this.R;++h)u[u.length]=this.A[h];u[u.length]=[...this.A[this.R]],this.j=c,this.R=u.length-1;for(let h=0;h<c;++h)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let c=this.D+u+1,h=c%this.F,d=h-1,m=this.j+(c-h)/this.F;return h===0&&(m-=1),m%=this.P,d<0&&(d+=this.F),{curNodeBucketIndex:m,curNodePointerIndex:d}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:h}=this.O(u);return this.A[c][h]}setElementByPos(u,c){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:d}=this.O(u);this.A[h][d]=c}insert(u,c,h=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;h--;)this.pushFront(c);else if(u===this.i)for(;h--;)this.pushBack(c);else{let d=[];for(let m=u;m<this.i;++m)d.push(this.getElementByPos(m));this.cut(u-1);for(let m=0;m<h;++m)this.pushBack(c);for(let m=0;m<d.length;++m)this.pushBack(d[m])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:c,curNodePointerIndex:h}=this.O(u);return this.R=c,this.N=h,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let c=[];for(let d=u+1;d<this.i;++d)c.push(this.getElementByPos(d));this.cut(u),this.popBack();let h=this;c.forEach(function(d){h.pushBack(d)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let c=[];for(let d=0;d<this.i;++d){let m=this.getElementByPos(d);m!==u&&c.push(m)}let h=c.length;for(let d=0;d<h;++d)this.setElementByPos(d,c[d]);return this.cut(h-1)}eraseElementByIterator(u){let c=u.o;return this.eraseElementByPos(c),u=u.next(),u}find(u){for(let c=0;c<this.i;++c)if(this.getElementByPos(c)===u)return new s(c,this);return this.end()}reverse(){let u=0,c=this.i-1;for(;u<c;){let h=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(c)),this.setElementByPos(c,h),u+=1,c-=1}}unique(){if(this.i<=1)return this.i;let u=1,c=this.getElementByPos(0);for(let h=1;h<this.i;++h){let d=this.getElementByPos(h);d!==c&&(c=d,this.setElementByPos(u++,d))}for(;this.i>u;)this.popBack();return this.i}sort(u){let c=[];for(let h=0;h<this.i;++h)c.push(this.getElementByPos(h));c.sort(u);for(let h=0;h<this.i;++h)this.setElementByPos(h,c[h])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(c){u.push(c)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let c=0;c<this.P;++c)this.A.push(new Array(this.F));for(let c=0;c<u.length;++c)this.pushBack(u[c])}forEach(u){for(let c=0;c<this.i;++c)u(this.getElementByPos(c),c,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},l=o;r.default=l}),CM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.TreeNodeEnableIndex=r.TreeNode=void 0;var e=class{constructor(n,s){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=s}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let s=n.tt;for(;s.U===n;)n=s,s=n.tt;n=s}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let s=n.tt;for(;s.W===n;)n=s,s=n.tt;return n.W!==s?s:n}}te(){let n=this.tt,s=this.W,o=s.U;return n.tt===this?n.tt=s:n.U===this?n.U=s:n.W=s,s.tt=n,s.U=this,this.tt=s,this.W=o,o&&(o.tt=this),s}se(){let n=this.tt,s=this.U,o=s.W;return n.tt===this?n.tt=s:n.U===this?n.U=s:n.W=s,s.tt=n,s.W=this,this.tt=s,this.U=o,o&&(o.tt=this),s}};r.TreeNode=e;var t=class extends e{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};r.TreeNodeEnableIndex=t}),eA=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=CM(),t=$s(),n=zs(),s=class extends t.Container{constructor(l=function(c,h){return c<h?-1:c>h?1:0},u=!1){super(),this.Y=void 0,this.v=l,u?(this.re=e.TreeNodeEnableIndex,this.M=function(c,h,d){let m=this.ne(c,h,d);if(m){let y=m.tt;for(;y!==this.h;)y.rt+=1,y=y.tt;let v=this.he(m);if(v){let{parentNode:w,grandParent:S,curNode:T}=v;w.ie(),S.ie(),T.ie()}}return this.i},this.V=function(c){let h=this.fe(c);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=e.TreeNode,this.M=function(c,h,d){let m=this.ne(c,h,d);return m&&this.he(m),this.i},this.V=this.fe),this.h=new this.re}X(l,u){let c=this.h;for(;l;){let h=this.v(l.u,u);if(h<0)l=l.W;else if(h>0)c=l,l=l.U;else return l}return c}Z(l,u){let c=this.h;for(;l;)this.v(l.u,u)<=0?l=l.W:(c=l,l=l.U);return c}$(l,u){let c=this.h;for(;l;){let h=this.v(l.u,u);if(h<0)c=l,l=l.W;else if(h>0)l=l.U;else return l}return c}rr(l,u){let c=this.h;for(;l;)this.v(l.u,u)<0?(c=l,l=l.W):l=l.U;return c}ue(l){for(;;){let u=l.tt;if(u===this.h)return;if(l.ee===1){l.ee=0;return}if(l===u.U){let c=u.W;if(c.ee===1)c.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(c.W&&c.W.ee===1){c.ee=u.ee,u.ee=0,c.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else c.U&&c.U.ee===1?(c.ee=1,c.U.ee=0,c.se()):(c.ee=1,l=u)}else{let c=u.U;if(c.ee===1)c.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(c.U&&c.U.ee===1){c.ee=u.ee,u.ee=0,c.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else c.W&&c.W.ee===1?(c.ee=1,c.W.ee=0,c.te()):(c.ee=1,l=u)}}}fe(l){if(this.i===1)return this.clear(),this.h;let u=l;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[l.u,u.u]=[u.u,l.u],[l.l,u.l]=[u.l,l.l],l=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let c=u.tt;return u===c.U?c.U=void 0:c.W=void 0,this.i-=1,this.Y.ee=0,c}oe(l,u){return l===void 0?!1:this.oe(l.U,u)||u(l)?!0:this.oe(l.W,u)}he(l){for(;;){let u=l.tt;if(u.ee===0)return;let c=u.tt;if(u===c.U){let h=c.W;if(h&&h.ee===1){if(h.ee=u.ee=0,c===this.Y)return;c.ee=1,l=c;continue}else if(l===u.W){if(l.ee=0,l.U&&(l.U.tt=u),l.W&&(l.W.tt=c),u.W=l.U,c.U=l.W,l.U=u,l.W=c,c===this.Y)this.Y=l,this.h.tt=l;else{let d=c.tt;d.U===c?d.U=l:d.W=l}return l.tt=c.tt,u.tt=l,c.tt=l,c.ee=1,{parentNode:u,grandParent:c,curNode:l}}else u.ee=0,c===this.Y?this.Y=c.se():c.se(),c.ee=1}else{let h=c.U;if(h&&h.ee===1){if(h.ee=u.ee=0,c===this.Y)return;c.ee=1,l=c;continue}else if(l===u.U){if(l.ee=0,l.U&&(l.U.tt=c),l.W&&(l.W.tt=u),c.W=l.U,u.U=l.W,l.U=c,l.W=u,c===this.Y)this.Y=l,this.h.tt=l;else{let d=c.tt;d.U===c?d.U=l:d.W=l}return l.tt=c.tt,u.tt=l,c.tt=l,c.ee=1,{parentNode:u,grandParent:c,curNode:l}}else u.ee=0,c===this.Y?this.Y=c.te():c.te(),c.ee=1}return}}ne(l,u,c){if(this.Y===void 0){this.i+=1,this.Y=new this.re(l,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,d=this.h.U,m=this.v(d.u,l);if(m===0){d.l=u;return}else if(m>0)d.U=new this.re(l,u),d.U.tt=d,h=d.U,this.h.U=h;else{let y=this.h.W,v=this.v(y.u,l);if(v===0){y.l=u;return}else if(v<0)y.W=new this.re(l,u),y.W.tt=y,h=y.W,this.h.W=h;else{if(c!==void 0){let w=c.o;if(w!==this.h){let S=this.v(w.u,l);if(S===0){w.l=u;return}else if(S>0){let T=w.L(),O=this.v(T.u,l);if(O===0){T.l=u;return}else O<0&&(h=new this.re(l,u),T.W===void 0?(T.W=h,h.tt=T):(w.U=h,h.tt=w))}}}if(h===void 0)for(h=this.Y;;){let w=this.v(h.u,l);if(w>0){if(h.U===void 0){h.U=new this.re(l,u),h.U.tt=h,h=h.U;break}h=h.U}else if(w<0){if(h.W===void 0){h.W=new this.re(l,u),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=u;return}}}}return this.i+=1,h}I(l,u){for(;l;){let c=this.v(l.u,u);if(c<0)l=l.W;else if(c>0)l=l.U;else return l}return l||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(l,u){let c=l.o;if(c===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return c.u=u,!0;if(c===this.h.U)return this.v(c.B().u,u)>0?(c.u=u,!0):!1;if(c===this.h.W)return this.v(c.L().u,u)<0?(c.u=u,!0):!1;let h=c.L().u;if(this.v(h,u)>=0)return!1;let d=c.B().u;return this.v(d,u)<=0?!1:(c.u=u,!0)}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=0,c=this;return this.oe(this.Y,function(h){return l===u?(c.V(h),!0):(u+=1,!1)}),this.i}eraseElementByKey(l){if(this.i===0)return!1;let u=this.I(this.Y,l);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(l){let u=l.o;u===this.h&&(0,n.throwIteratorAccessError)();let c=u.W===void 0;return l.iteratorType===0?c&&l.next():(!c||u.U===void 0)&&l.next(),this.V(u),l}forEach(l){let u=0;for(let c of this)l(c,u++,this)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u,c=0;for(let h of this){if(c===l){u=h;break}c+=1}return u}getHeight(){if(this.i===0)return 0;let l=function(u){return u?Math.max(l(u.U),l(u.W))+1:0};return l(this.Y)}},o=s;r.default=o}),tA=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=$s(),t=zs(),n=class extends e.ContainerIterator{constructor(o,l,u){super(u),this.o=o,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,t.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let o=this.o,l=this.h.tt;if(o===this.h)return l?l.rt-1:0;let u=0;for(o.U&&(u+=o.U.rt);o!==l;){let c=o.tt;o===c.W&&(u+=1,c.U&&(u+=c.U.rt)),o=c}return u}},s=n;r.default=s}),RM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=s(eA()),t=s(tA()),n=zs();function s(c){return c&&c.t?c:{default:c}}var o=class rA extends t.default{constructor(h,d,m,y){super(h,d,y),this.container=m}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new rA(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.default{constructor(c=[],h,d){super(h,d);let m=this;c.forEach(function(y){m.insert(y)})}*K(c){c!==void 0&&(yield*this.K(c.U),yield c.u,yield*this.K(c.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(c,h){return this.M(c,void 0,h)}find(c){let h=this.I(this.Y,c);return new o(h,this.h,this)}lowerBound(c){let h=this.X(this.Y,c);return new o(h,this.h,this)}upperBound(c){let h=this.Z(this.Y,c);return new o(h,this.h,this)}reverseLowerBound(c){let h=this.$(this.Y,c);return new o(h,this.h,this)}reverseUpperBound(c){let h=this.rr(this.Y,c);return new o(h,this.h,this)}union(c){let h=this;return c.forEach(function(d){h.insert(d)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=l;r.default=u}),kM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=s(eA()),t=s(tA()),n=zs();function s(c){return c&&c.t?c:{default:c}}var o=class nA extends t.default{constructor(h,d,m,y){super(h,d,y),this.container=m}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let h=this;return new Proxy([],{get(d,m){if(m==="0")return h.o.u;if(m==="1")return h.o.l},set(d,m,y){if(m!=="1")throw new TypeError("props must be 1");return h.o.l=y,!0}})}copy(){return new nA(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.default{constructor(c=[],h,d){super(h,d);let m=this;c.forEach(function(y){m.setElement(y[0],y[1])})}*K(c){c!==void 0&&(yield*this.K(c.U),yield[c.u,c.l],yield*this.K(c.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i===0)return;let c=this.h.U;return[c.u,c.l]}back(){if(this.i===0)return;let c=this.h.W;return[c.u,c.l]}lowerBound(c){let h=this.X(this.Y,c);return new o(h,this.h,this)}upperBound(c){let h=this.Z(this.Y,c);return new o(h,this.h,this)}reverseLowerBound(c){let h=this.$(this.Y,c);return new o(h,this.h,this)}reverseUpperBound(c){let h=this.rr(this.Y,c);return new o(h,this.h,this)}setElement(c,h,d){return this.M(c,h,d)}find(c){let h=this.I(this.Y,c);return new o(h,this.h,this)}getElementByKey(c){return this.I(this.Y,c).l}union(c){let h=this;return c.forEach(function(d){h.setElement(d[0],d[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=l;r.default=u}),iA=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=e;function e(t){let n=typeof t;return n==="object"&&t!==null||n==="function"}}),sA=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.HashContainerIterator=r.HashContainer=void 0;var e=$s(),t=s(iA()),n=zs();function s(u){return u&&u.t?u:{default:u}}var o=class extends e.ContainerIterator{constructor(u,c,h){super(h),this.o=u,this.h=c,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};r.HashContainerIterator=o;var l=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:c,B:h}=u;c.B=h,h.L=c,u===this.p&&(this.p=h),u===this._&&(this._=c),this.i-=1}M(u,c,h){h===void 0&&(h=(0,t.default)(u));let d;if(h){let m=u[this.HASH_TAG];if(m!==void 0)return this.H[m].l=c,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),d={u,l:c,L:this._,B:this.h},this.H.push(d)}else{let m=this.g[u];if(m)return m.l=c,this.i;d={u,l:c,L:this._,B:this.h},this.g[u]=d}return this.i===0?(this.p=d,this.h.B=d):this._.B=d,this._=d,this.h.L=d,++this.i}I(u,c){if(c===void 0&&(c=(0,t.default)(u)),c){let h=u[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(c){delete c.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,c){let h;if(c===void 0&&(c=(0,t.default)(u)),c){let d=u[this.HASH_TAG];if(d===void 0)return!1;delete u[this.HASH_TAG],h=this.H[d],delete this.H[d]}else{if(h=this.g[u],h===void 0)return!1;delete this.g[u]}return this.V(h),!0}eraseElementByIterator(u){let c=u.o;return c===this.h&&(0,n.throwIteratorAccessError)(),this.V(c),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let c=this.p;for(;u--;)c=c.B;return this.V(c),this.i}};r.HashContainer=l}),PM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=sA(),t=zs(),n=class oA extends e.HashContainerIterator{constructor(u,c,h,d){super(u,c,d),this.container=h}get pointer(){return this.o===this.h&&(0,t.throwIteratorAccessError)(),this.o.u}copy(){return new oA(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(c){u.insert(c)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(l,u){return this.M(l,void 0,u)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.u}find(l,u){let c=this.I(l,u);return new n(c,this.h,this)}forEach(l){let u=0,c=this.p;for(;c!==this.h;)l(c.u,u++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield l.u,l=l.B}).bind(this)()}},o=s;r.default=o}),NM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var e=sA(),t=s(iA()),n=zs();function s(c){return c&&c.t?c:{default:c}}var o=class aA extends e.HashContainerIterator{constructor(h,d,m,y){super(h,d,y),this.container=m}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let h=this;return new Proxy([],{get(d,m){if(m==="0")return h.o.u;if(m==="1")return h.o.l},set(d,m,y){if(m!=="1")throw new TypeError("props must be 1");return h.o.l=y,!0}})}copy(){return new aA(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.HashContainer{constructor(c=[]){super();let h=this;c.forEach(function(d){h.setElement(d[0],d[1])})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(c,h,d){return this.M(c,h,d)}getElementByKey(c,h){if(h===void 0&&(h=(0,t.default)(c)),h){let m=c[this.HASH_TAG];return m!==void 0?this.H[m].l:void 0}let d=this.g[c];return d?d.l:void 0}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return[h.u,h.l]}find(c,h){let d=this.I(c,h);return new o(d,this.h,this)}forEach(c){let h=0,d=this.p;for(;d!==this.h;)c([d.u,d.l],h++,this),d=d.B}[Symbol.iterator](){return(function*(){let c=this.p;for(;c!==this.h;)yield[c.u,c.l],c=c.B}).bind(this)()}},u=l;r.default=u}),OM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"t",{value:!0}),Object.defineProperty(r,"Deque",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"HashMap",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"OrderedMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"Queue",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"Vector",{enumerable:!0,get:function(){return s.default}});var e=m(EM()),t=m(SM()),n=m(TM()),s=m(xM()),o=m(AM()),l=m(IM()),u=m(RM()),c=m(kM()),h=m(PM()),d=m(NM());function m(y){return y&&y.t?y:{default:y}}}),DM=Ke((r,e)=>{je(),ze(),$e();var t=OM().OrderedSet,n=Bs()("number-allocator:trace"),s=Bs()("number-allocator:error");function o(u,c){this.low=u,this.high=c}o.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},o.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function l(u,c){if(!(this instanceof l))return new l(u,c);this.min=u,this.max=c,this.ss=new t([],(h,d)=>h.compare(d)),n("Create"),this.clear()}l.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},l.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let u=this.ss.begin(),c=u.pointer.low,h=u.pointer.high,d=c;return d+1<=h?this.ss.updateKeyByIterator(u,new o(c+1,h)):this.ss.eraseElementByPos(0),n("alloc():"+d),d},l.prototype.use=function(u){let c=new o(u,u),h=this.ss.lowerBound(c);if(!h.equals(this.ss.end())){let d=h.pointer.low,m=h.pointer.high;return h.pointer.equals(c)?(this.ss.eraseElementByIterator(h),n("use():"+u),!0):d>u?!1:d===u?(this.ss.updateKeyByIterator(h,new o(d+1,m)),n("use():"+u),!0):m===u?(this.ss.updateKeyByIterator(h,new o(d,m-1)),n("use():"+u),!0):(this.ss.updateKeyByIterator(h,new o(u+1,m)),this.ss.insert(new o(d,u-1)),n("use():"+u),!0)}return n("use():failed"),!1},l.prototype.free=function(u){if(u<this.min||u>this.max){s("free():"+u+" is out of range");return}let c=new o(u,u),h=this.ss.upperBound(c);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(c);return}h.pre();let d=h.pointer.high;h.pointer.high+1===u?this.ss.updateKeyByIterator(h,new o(d,u)):this.ss.insert(c)}else if(h.equals(this.ss.begin()))if(u+1===h.pointer.low){let d=h.pointer.high;this.ss.updateKeyByIterator(h,new o(u,d))}else this.ss.insert(c);else{let d=h.pointer.low,m=h.pointer.high;h.pre();let y=h.pointer.low;h.pointer.high+1===u?u+1===d?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new o(y,m))):this.ss.updateKeyByIterator(h,new o(y,u)):u+1===d?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new o(u,m))):this.ss.insert(c)}n("free():"+u)},l.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},l.prototype.intervalCount=function(){return this.ss.size()},l.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},e.exports=l}),lA=Ke((r,e)=>{je(),ze(),$e();var t=DM();e.exports.NumberAllocator=t}),LM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=bM(),t=lA(),n=class{constructor(s){s>0&&(this.aliasToTopic=new e.LRUCache({max:s}),this.topicToAlias={},this.numberAllocator=new t.NumberAllocator(1,s),this.max=s,this.length=0)}put(s,o){if(o===0||o>this.max)return!1;let l=this.aliasToTopic.get(o);return l&&delete this.topicToAlias[l],this.aliasToTopic.set(o,s),this.topicToAlias[s]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.size,!0}getTopicByAlias(s){return this.aliasToTopic.get(s)}getAliasByTopic(s){let o=this.topicToAlias[s];return typeof o<"u"&&this.aliasToTopic.get(o),o}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};r.default=n}),MM=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0});var t=Jd(),n=e(LM()),s=_u(),o=(l,u)=>{l.log("_handleConnack");let{options:c}=l,h=c.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(l.connackTimer),delete l.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){l.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(l.topicAliasSend=new n.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&c.keepalive&&(c.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(c.properties||(c.properties={}),c.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(h===0)l.reconnecting=!1,l._onConnect(u);else if(h>0){let d=new s.ErrorWithReasonCode(`Connection refused: ${t.ReasonCodes[h]}`,h);l.emit("error",d),l.options.reconnectOnConnackError&&l._cleanUp(!0)}};r.default=o}),FM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=(t,n,s)=>{t.log("handling pubrel packet");let o=typeof s<"u"?s:t.noop,{messageId:l}=n,u={cmd:"pubcomp",messageId:l};t.incomingStore.get(n,(c,h)=>{c?t._sendPacket(u,o):(t.emit("message",h.topic,h.payload,h),t.handleMessage(h,d=>{if(d)return o(d);t.incomingStore.del(h,t.noop),t._sendPacket(u,o)}))})};r.default=e}),VM=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0});var t=e(vM()),n=e(wM()),s=e(MM()),o=e(Jd()),l=e(FM()),u=(c,h,d)=>{let{options:m}=c;if(m.protocolVersion===5&&m.properties&&m.properties.maximumPacketSize&&m.properties.maximumPacketSize<h.length)return c.emit("error",new Error(`exceeding packets size ${h.cmd}`)),c.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),c;switch(c.log("_handlePacket :: emitting packetreceive"),c.emit("packetreceive",h),h.cmd){case"publish":(0,t.default)(c,h,d);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":c.reschedulePing(),(0,o.default)(c,h),d();break;case"pubrel":c.reschedulePing(),(0,l.default)(c,h,d);break;case"connack":(0,s.default)(c,h),d();break;case"auth":c.reschedulePing(),(0,n.default)(c,h),d();break;case"pingresp":c.log("_handlePacket :: received pingresp"),c.reschedulePing(!0),d();break;case"disconnect":c.emit("disconnect",h),d();break;default:c.log("_handlePacket :: unknown command"),d();break}};r.default=u}),UM=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(r,"__esModule",{value:!0}),r.TypedEventEmitter=void 0;var t=e((Qa(),Kt(zo))),n=_u(),s=class{};r.TypedEventEmitter=s,(0,n.applyMixin)(s,t.default)}),Xd=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0}),r.isReactNativeBrowser=r.isWebWorker=void 0;var e=()=>{var o;return typeof window<"u"?typeof navigator<"u"&&((o=navigator.userAgent)===null||o===void 0?void 0:o.toLowerCase().indexOf(" electron/"))>-1&&jt!=null&&jt.versions?!Object.prototype.hasOwnProperty.call(jt.versions,"electron"):typeof window.document<"u":!1},t=()=>{var o,l;return!!(typeof self=="object"&&!((l=(o=self==null?void 0:self.constructor)===null||o===void 0?void 0:o.name)===null||l===void 0)&&l.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",s=e()||t()||n();r.isWebWorker=t(),r.isReactNativeBrowser=n(),r.default=s}),BM=Ke((r,e)=>{je(),ze(),$e(),function(t,n){typeof r=="object"&&typeof e<"u"?n(r):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.fastUniqueNumbers={}))}(r,function(t){var n=function(v){return function(w){var S=v(w);return w.add(S),S}},s=function(v){return function(w,S){return v.set(w,S),S}},o=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,l=536870912,u=l*2,c=function(v,w){return function(S){var T=w.get(S),O=T===void 0?S.size:T<u?T+1:0;if(!S.has(O))return v(S,O);if(S.size<l){for(;S.has(O);)O=Math.floor(Math.random()*u);return v(S,O)}if(S.size>o)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;S.has(O);)O=Math.floor(Math.random()*o);return v(S,O)}},h=new WeakMap,d=s(h),m=c(d,h),y=n(m);t.addUniqueNumber=y,t.generateUniqueNumber=m})}),jM=Ke((r,e)=>{je(),ze(),$e(),function(t,n){typeof r=="object"&&typeof e<"u"?n(r,BM()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.workerTimersBroker={},t.fastUniqueNumbers))}(r,function(t,n){var s=function(u){return u.method!==void 0&&u.method==="call"},o=function(u){return u.error===null&&typeof u.id=="number"},l=function(u){var c=new Map([[0,function(){}]]),h=new Map([[0,function(){}]]),d=new Map,m=new Worker(u);m.addEventListener("message",function(T){var O=T.data;if(s(O)){var x=O.params,R=x.timerId,z=x.timerType;if(z==="interval"){var H=c.get(R);if(typeof H=="number"){var j=d.get(H);if(j===void 0||j.timerId!==R||j.timerType!==z)throw new Error("The timer is in an undefined state.")}else if(typeof H<"u")H();else throw new Error("The timer is in an undefined state.")}else if(z==="timeout"){var P=h.get(R);if(typeof P=="number"){var k=d.get(P);if(k===void 0||k.timerId!==R||k.timerType!==z)throw new Error("The timer is in an undefined state.")}else if(typeof P<"u")P(),h.delete(R);else throw new Error("The timer is in an undefined state.")}}else if(o(O)){var M=O.id,F=d.get(M);if(F===void 0)throw new Error("The timer is in an undefined state.");var $=F.timerId,N=F.timerType;d.delete(M),N==="interval"?c.delete($):h.delete($)}else{var V=O.error.message;throw new Error(V)}});var y=function(T){var O=n.generateUniqueNumber(d);d.set(O,{timerId:T,timerType:"interval"}),c.set(T,O),m.postMessage({id:O,method:"clear",params:{timerId:T,timerType:"interval"}})},v=function(T){var O=n.generateUniqueNumber(d);d.set(O,{timerId:T,timerType:"timeout"}),h.set(T,O),m.postMessage({id:O,method:"clear",params:{timerId:T,timerType:"timeout"}})},w=function(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=n.generateUniqueNumber(c);return c.set(x,function(){T(),typeof c.get(x)=="function"&&m.postMessage({id:null,method:"set",params:{delay:O,now:performance.now(),timerId:x,timerType:"interval"}})}),m.postMessage({id:null,method:"set",params:{delay:O,now:performance.now(),timerId:x,timerType:"interval"}}),x},S=function(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=n.generateUniqueNumber(h);return h.set(x,T),m.postMessage({id:null,method:"set",params:{delay:O,now:performance.now(),timerId:x,timerType:"timeout"}}),x};return{clearInterval:y,clearTimeout:v,setInterval:w,setTimeout:S}};t.load=l})}),$M=Ke((r,e)=>{je(),ze(),$e(),function(t,n){typeof r=="object"&&typeof e<"u"?n(r,jM()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.workerTimers={},t.workerTimersBroker))}(r,function(t,n){var s=function(m,y){var v=null;return function(){if(v!==null)return v;var w=new Blob([y],{type:"application/javascript; charset=utf-8"}),S=URL.createObjectURL(w);return v=m(S),setTimeout(function(){return URL.revokeObjectURL(S)}),v}},o=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,l=s(n.load,o),u=function(m){return l().clearInterval(m)},c=function(m){return l().clearTimeout(m)},h=function(){var m;return(m=l()).setInterval.apply(m,arguments)},d=function(){var m;return(m=l()).setTimeout.apply(m,arguments)};t.clearInterval=u,t.clearTimeout=c,t.setInterval=h,t.setTimeout=d})}),zM=Ke(r=>{je(),ze(),$e();var e=r&&r.__createBinding||(Object.create?function(h,d,m,y){y===void 0&&(y=m);var v=Object.getOwnPropertyDescriptor(d,m);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(h,y,v)}:function(h,d,m,y){y===void 0&&(y=m),h[y]=d[m]}),t=r&&r.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),n=r&&r.__importStar||function(){var h=function(d){return h=Object.getOwnPropertyNames||function(m){var y=[];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(y[y.length]=v);return y},h(d)};return function(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var y=h(d),v=0;v<y.length;v++)y[v]!=="default"&&e(m,d,y[v]);return t(m,d),m}}();Object.defineProperty(r,"__esModule",{value:!0});var s=n(Xd()),o=$M(),l={set:o.setInterval,clear:o.clearInterval},u={set:(h,d)=>setInterval(h,d),clear:h=>clearInterval(h)},c=h=>{switch(h){case"native":return u;case"worker":return l;case"auto":default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?l:u}};r.default=c}),uA=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0});var t=e(zM()),n=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(s,o){this.destroyed=!1,this.client=s,this.timer=typeof o=="object"&&"set"in o&&"clear"in o?o:(0,t.default)(o),this.setKeepalive(s.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(s){if(s*=1e3,isNaN(s)||s<=0||s>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${s}`);this._keepalive=s,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${s}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let s=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+s,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};r.default=n}),lv=Ke(r=>{je(),ze(),$e();var e=r&&r.__createBinding||(Object.create?function(H,j,P,k){k===void 0&&(k=P);var M=Object.getOwnPropertyDescriptor(j,P);(!M||("get"in M?!j.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return j[P]}}),Object.defineProperty(H,k,M)}:function(H,j,P,k){k===void 0&&(k=P),H[k]=j[P]}),t=r&&r.__setModuleDefault||(Object.create?function(H,j){Object.defineProperty(H,"default",{enumerable:!0,value:j})}:function(H,j){H.default=j}),n=r&&r.__importStar||function(){var H=function(j){return H=Object.getOwnPropertyNames||function(P){var k=[];for(var M in P)Object.prototype.hasOwnProperty.call(P,M)&&(k[k.length]=M);return k},H(j)};return function(j){if(j&&j.__esModule)return j;var P={};if(j!=null)for(var k=H(j),M=0;M<k.length;M++)k[M]!=="default"&&e(P,j,k[M]);return t(P,j),P}}(),s=r&&r.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(r,"__esModule",{value:!0});var o=s(JL()),l=s(pM()),u=s(Hx()),c=Ga(),h=s(gM()),d=n(yM()),m=s(Bs()),y=s(Qx()),v=s(VM()),w=_u(),S=UM(),T=s(uA()),O=n(Xd()),x=globalThis.setImmediate||((...H)=>{let j=H.shift();(0,w.nextTick)(()=>{j(...H)})}),R={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},z=class uv extends S.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(j,P){super(),this.options=P||{};for(let k in R)typeof this.options[k]>"u"?this.options[k]=R[k]:this.options[k]=P[k];this.log=this.options.log||(0,m.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",uv.VERSION),O.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",O.default?"browser":"node"),this.log("MqttClient :: options.protocol",P.protocol),this.log("MqttClient :: options.protocolVersion",P.protocolVersion),this.log("MqttClient :: options.username",P.username),this.log("MqttClient :: options.keepalive",P.keepalive),this.log("MqttClient :: options.reconnectPeriod",P.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",P.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",P.properties?P.properties.topicAliasMaximum:void 0),this.options.clientId=typeof P.clientId=="string"?P.clientId:uv.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=P.protocolVersion===5&&P.customHandleAcks?P.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(l.default.writeToStream.cacheNumbers=!1),this.streamBuilder=j,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u.default:this.options.messageIdProvider,this.outgoingStore=P.outgoingStore||new y.default,this.incomingStore=P.incomingStore||new y.default,this.queueQoSZero=P.queueQoSZero===void 0?!0:P.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,P.properties&&P.properties.topicAliasMaximum>0&&(P.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(P.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,M=()=>{let F=k.shift();this.log("deliver :: entry %o",F);let $=null;if(!F){this._resubscribe();return}$=F.packet,this.log("deliver :: call _sendPacket for %o",$);let N=!0;$.messageId&&$.messageId!==0&&(this.messageIdProvider.register($.messageId)||(N=!1)),N?this._sendPacket($,V=>{F.cb&&F.cb(V),M()}):(this.log("messageId: %d has already used. The message is skipped and removed.",$.messageId),M())};this.log("connect :: sending queued packets"),M()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(j,P){P()}handleMessage(j,P){P()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var j;let P=new c.Writable,k=l.default.parser(this.options),M=null,F=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new y.default,this.outgoingStore=this.options.outgoingStore||new y.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),k.on("packet",ae=>{this.log("parser :: on packet push to packets array."),F.push(ae)});let $=()=>{this.log("work :: getting next packet in queue");let ae=F.shift();if(ae)this.log("work :: packet pulled from queue"),(0,v.default)(this,ae,N);else{this.log("work :: no packets in queue");let De=M;M=null,this.log("work :: done flag is %s",!!De),De&&De()}},N=()=>{if(F.length)(0,w.nextTick)($);else{let ae=M;M=null,ae()}};P._write=(ae,De,ke)=>{M=ke,this.log("writable stream :: parsing buffer"),k.parse(ae),$()};let V=ae=>{this.log("streamErrorHandler :: error",ae.message),ae.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",ae)):this.noop(ae)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(P),this.stream.on("error",V),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let _e={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(_e.will=Object.assign(Object.assign({},this.options.will),{payload:(j=this.options.will)===null||j===void 0?void 0:j.payload})),this.topicAliasRecv&&(_e.properties||(_e.properties={}),this.topicAliasRecv&&(_e.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(_e),k.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let ae=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(ae)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(j,P,k,M){this.log("publish :: message `%s` to topic `%s`",P,j);let{options:F}=this;typeof k=="function"&&(M=k,k=null),k=k||{},k=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),k);let{qos:$,retain:N,dup:V,properties:_e,cbStorePut:ae}=k;if(this._checkDisconnecting(M))return this;let De=()=>{let ke=0;if(($===1||$===2)&&(ke=this._nextId(),ke===null))return this.log("No messageId left"),!1;let fe={cmd:"publish",topic:j,payload:P,qos:$,retain:N,messageId:ke,dup:V};switch(F.protocolVersion===5&&(fe.properties=_e),this.log("publish :: qos",$),$){case 1:case 2:this.outgoing[fe.messageId]={volatile:!1,cb:M||this.noop},this.log("MqttClient:publish: packet cmd: %s",fe.cmd),this._sendPacket(fe,void 0,ae);break;default:this.log("MqttClient:publish: packet cmd: %s",fe.cmd),this._sendPacket(fe,M,ae);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!De())&&this._storeProcessingQueue.push({invoke:De,cbStorePut:k.cbStorePut,callback:M}),this}publishAsync(j,P,k){return new Promise((M,F)=>{this.publish(j,P,k,($,N)=>{$?F($):M(N)})})}subscribe(j,P,k){let M=this.options.protocolVersion;typeof P=="function"&&(k=P),k=k||this.noop;let F=!1,$=[];typeof j=="string"?(j=[j],$=j):Array.isArray(j)?$=j:typeof j=="object"&&(F=j.resubscribe,delete j.resubscribe,$=Object.keys(j));let N=d.validateTopics($);if(N!==null)return x(k,new Error(`Invalid topic ${N}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let V={qos:0};M===5&&(V.nl=!1,V.rap=!1,V.rh=0),P=Object.assign(Object.assign({},V),P);let _e=P.properties,ae=[],De=(fe,Ne)=>{if(Ne=Ne||P,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,fe)||this._resubscribeTopics[fe].qos<Ne.qos||F){let ie={topic:fe,qos:Ne.qos};M===5&&(ie.nl=Ne.nl,ie.rap=Ne.rap,ie.rh=Ne.rh,ie.properties=_e),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ie.topic,ie.qos),ae.push(ie)}};if(Array.isArray(j)?j.forEach(fe=>{this.log("subscribe: array topic %s",fe),De(fe)}):Object.keys(j).forEach(fe=>{this.log("subscribe: object topic %s, %o",fe,j[fe]),De(fe,j[fe])}),!ae.length)return k(null,[]),this;let ke=()=>{let fe=this._nextId();if(fe===null)return this.log("No messageId left"),!1;let Ne={cmd:"subscribe",subscriptions:ae,messageId:fe};if(_e&&(Ne.properties=_e),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ie=[];ae.forEach(J=>{if(this.options.reconnectPeriod>0){let W={qos:J.qos};M===5&&(W.nl=J.nl||!1,W.rap=J.rap||!1,W.rh=J.rh||0,W.properties=J.properties),this._resubscribeTopics[J.topic]=W,ie.push(J.topic)}}),this.messageIdToTopic[Ne.messageId]=ie}return this.outgoing[Ne.messageId]={volatile:!0,cb(ie,J){if(!ie){let{granted:W}=J;for(let Ee=0;Ee<W.length;Ee+=1)ae[Ee].qos=W[Ee]}k(ie,ae,J)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(Ne),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ke())&&this._storeProcessingQueue.push({invoke:ke,callback:k}),this}subscribeAsync(j,P){return new Promise((k,M)=>{this.subscribe(j,P,(F,$)=>{F?M(F):k($)})})}unsubscribe(j,P,k){typeof j=="string"&&(j=[j]),typeof P=="function"&&(k=P),k=k||this.noop;let M=d.validateTopics(j);if(M!==null)return x(k,new Error(`Invalid topic ${M}`)),this;if(this._checkDisconnecting(k))return this;let F=()=>{let $=this._nextId();if($===null)return this.log("No messageId left"),!1;let N={cmd:"unsubscribe",messageId:$,unsubscriptions:[]};return typeof j=="string"?N.unsubscriptions=[j]:Array.isArray(j)&&(N.unsubscriptions=j),this.options.resubscribe&&N.unsubscriptions.forEach(V=>{delete this._resubscribeTopics[V]}),typeof P=="object"&&P.properties&&(N.properties=P.properties),this.outgoing[N.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(N),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!F())&&this._storeProcessingQueue.push({invoke:F,callback:k}),this}unsubscribeAsync(j,P){return new Promise((k,M)=>{this.unsubscribe(j,P,(F,$)=>{F?M(F):k($)})})}end(j,P,k){this.log("end :: (%s)",this.options.clientId),(j==null||typeof j!="boolean")&&(k=k||P,P=j,j=!1),typeof P!="object"&&(k=k||P,P=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let M=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close($=>{this.outgoingStore.close(N=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let V=$||N;this.log("end :: closeStores: invoking callback with args"),k(V)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},F=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,j),this._cleanUp(j,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,w.nextTick)(M)},P)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!j&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,F,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),F()),this)}endAsync(j,P){return new Promise((k,M)=>{this.end(j,P,F=>{F?M(F):k()})})}removeOutgoingMessage(j){if(this.outgoing[j]){let{cb:P}=this.outgoing[j];this._removeOutgoingAndStoreMessage(j,()=>{P(new Error("Message removed"))})}return this}reconnect(j){this.log("client reconnect");let P=()=>{j?(this.options.incomingStore=j.incomingStore,this.options.outgoingStore=j.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new y.default,this.outgoingStore=this.options.outgoingStore||new y.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=P:P(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(j=>{this.outgoing[j].volatile&&typeof this.outgoing[j].cb=="function"&&(this.outgoing[j].cb(new Error("Connection closed")),delete this.outgoing[j])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(j=>{typeof this.outgoing[j].cb=="function"&&(this.outgoing[j].cb(new Error("Connection closed")),delete this.outgoing[j])}))}_removeTopicAliasAndRecoverTopicName(j){let P;j.properties&&(P=j.properties.topicAlias);let k=j.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",P,k),k.length===0){if(typeof P>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(P),typeof k>"u")return new Error("Unregistered Topic Alias");j.topic=k}P&&delete j.properties.topicAlias}_checkDisconnecting(j){return this.disconnecting&&(j&&j!==this.noop?j(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(j,P,k={}){if(P&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",P)),this.log("_cleanUp :: forced? %s",j),j)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let M=Object.assign({cmd:"disconnect"},k);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(M,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),x(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),P&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",P),P())}_storeAndSend(j,P,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",j.cmd);let M=j,F;if(M.cmd==="publish"&&(M=(0,h.default)(j),F=this._removeTopicAliasAndRecoverTopicName(M),F))return P&&P(F);this.outgoingStore.put(M,$=>{if($)return P&&P($);k(),this._writePacket(j,P)})}_applyTopicAlias(j){if(this.options.protocolVersion===5&&j.cmd==="publish"){let P;j.properties&&(P=j.properties.topicAlias);let k=j.topic.toString();if(this.topicAliasSend)if(P){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,P),!this.topicAliasSend.put(k,P)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,P),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(P=this.topicAliasSend.getAliasByTopic(k),P?(j.topic="",j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,P)):(P=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,P),j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,P))):this.options.autoUseTopicAlias&&(P=this.topicAliasSend.getAliasByTopic(k),P&&(j.topic="",j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:P}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,P))));else if(P)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,P),new Error("Sending Topic Alias out of range")}}_noop(j){this.log("noop ::",j)}_writePacket(j,P){this.log("_writePacket :: packet: %O",j),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",j),this.log("_writePacket :: writing to stream");let k=l.default.writeToStream(j,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&P&&P!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",P)):P&&(this.log("_writePacket :: invoking cb"),P())}_sendPacket(j,P,k,M){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,P=P||this.noop;let F=this._applyTopicAlias(j);if(F){P(F);return}if(!this.connected){if(j.cmd==="auth"){this._writePacket(j,P);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(j,P,k);return}if(M){this._writePacket(j,P);return}switch(j.cmd){case"publish":break;case"pubrel":this._storeAndSend(j,P,k);return;default:this._writePacket(j,P);return}switch(j.qos){case 2:case 1:this._storeAndSend(j,P,k);break;case 0:default:this._writePacket(j,P);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(j,P,k){this.log("_storePacket :: packet: %o",j),this.log("_storePacket :: cb? %s",!!P),k=k||this.noop;let M=j;if(M.cmd==="publish"){M=(0,h.default)(j);let $=this._removeTopicAliasAndRecoverTopicName(M);if($)return P&&P($)}let F=M.qos||0;F===0&&this.queueQoSZero||M.cmd!=="publish"?this.queue.push({packet:M,cb:P}):F>0?(P=this.outgoing[M.messageId]?this.outgoing[M.messageId].cb:null,this.outgoingStore.put(M,$=>{if($)return P&&P($);k()})):P&&P(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new T.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(j=!1){this.keepaliveManager&&this.options.keepalive&&(j||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let j=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&j.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let P=0;P<j.length;P++){let k={};k[j[P]]=this._resubscribeTopics[j[P]],k.resubscribe=!0,this.subscribe(k,{properties:k[j[P]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(j){if(this.disconnected){this.emit("connect",j);return}this.connackPacket=j,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let P=()=>{let k=this.outgoingStore.createStream(),M=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),F()},F=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",M),k.on("error",N=>{F(),this._flushStoreProcessingQueue(),this.removeListener("close",M),this.emit("error",N)});let $=()=>{if(!k)return;let N=k.read(1),V;if(!N){k.once("readable",$);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[N.messageId]){$();return}!this.disconnecting&&!this.reconnectTimer?(V=this.outgoing[N.messageId]?this.outgoing[N.messageId].cb:null,this.outgoing[N.messageId]={volatile:!1,cb(_e,ae){V&&V(_e,ae),$()}},this._packetIdsDuringStoreProcessing[N.messageId]=!0,this.messageIdProvider.register(N.messageId)?this._sendPacket(N,void 0,void 0,!0):this.log("messageId: %d has already used.",N.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let N=!0;for(let V in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[V]){N=!1;break}this.removeListener("close",M),N?(F(),this._invokeAllStoreProcessingQueue(),this.emit("connect",j)):P()}),$()};P()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let j=this._storeProcessingQueue[0];if(j&&j.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let j of this._storeProcessingQueue)j.cbStorePut&&j.cbStorePut(new Error("Connection closed")),j.callback&&j.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(j,P){delete this.outgoing[j],this.outgoingStore.del({messageId:j},(k,M)=>{P(k,M),this.messageIdProvider.deallocate(j),this._invokeStoreProcessingQueue()})}};z.VERSION=w.MQTTJS_VERSION,r.default=z}),WM=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=lA(),t=class{constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};r.default=t});function pa(r){throw new RangeError(hA[r])}function DE(r,e){let t=r.split("@"),n="";t.length>1&&(n=t[0]+"@",r=t[1]);let s=function(o,l){let u=[],c=o.length;for(;c--;)u[c]=l(o[c]);return u}((r=r.replace(cA,".")).split("."),e).join(".");return n+s}function LE(r){let e=[],t=0,n=r.length;for(;t<n;){let s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){let o=r.charCodeAt(t++);(64512&o)==56320?e.push(((1023&s)<<10)+(1023&o)+65536):(e.push(s),t--)}else e.push(s)}return e}var ME,FE,cA,hA,Si,wf,Gm,Ym,Jm,Xm,wo,qM=Tn(()=>{je(),ze(),$e(),ME=/^xn--/,FE=/[^\0-\x7E]/,cA=/[\x2E\u3002\uFF0E\uFF61]/g,hA={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Si=Math.floor,wf=String.fromCharCode,Gm=function(r,e){return r+22+75*(r<26)-((e!=0)<<5)},Ym=function(r,e,t){let n=0;for(r=t?Si(r/700):r>>1,r+=Si(r/e);r>455;n+=36)r=Si(r/35);return Si(n+36*r/(r+38))},Jm=function(r){let e=[],t=r.length,n=0,s=128,o=72,l=r.lastIndexOf("-");l<0&&(l=0);for(let c=0;c<l;++c)r.charCodeAt(c)>=128&&pa("not-basic"),e.push(r.charCodeAt(c));for(let c=l>0?l+1:0;c<t;){let h=n;for(let m=1,y=36;;y+=36){c>=t&&pa("invalid-input");let v=(u=r.charCodeAt(c++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(v>=36||v>Si((2147483647-n)/m))&&pa("overflow"),n+=v*m;let w=y<=o?1:y>=o+26?26:y-o;if(v<w)break;let S=36-w;m>Si(2147483647/S)&&pa("overflow"),m*=S}let d=e.length+1;o=Ym(n-h,d,h==0),Si(n/d)>2147483647-s&&pa("overflow"),s+=Si(n/d),n%=d,e.splice(n++,0,s)}var u;return String.fromCodePoint(...e)},Xm=function(r){let e=[],t=(r=LE(r)).length,n=128,s=0,o=72;for(let c of r)c<128&&e.push(wf(c));let l=e.length,u=l;for(l&&e.push("-");u<t;){let c=2147483647;for(let d of r)d>=n&&d<c&&(c=d);let h=u+1;c-n>Si((2147483647-s)/h)&&pa("overflow"),s+=(c-n)*h,n=c;for(let d of r)if(d<n&&++s>2147483647&&pa("overflow"),d==n){let m=s;for(let y=36;;y+=36){let v=y<=o?1:y>=o+26?26:y-o;if(m<v)break;let w=m-v,S=36-v;e.push(wf(Gm(v+w%S,0))),m=Si(w/S)}e.push(wf(Gm(m,0))),o=Ym(s,h,u==l),s=0,++u}++s,++n}return e.join("")},wo={version:"2.1.0",ucs2:{decode:LE,encode:r=>String.fromCodePoint(...r)},decode:Jm,encode:Xm,toASCII:function(r){return DE(r,function(e){return FE.test(e)?"xn--"+Xm(e):e})},toUnicode:function(r){return DE(r,function(e){return ME.test(e)?Jm(e.slice(4).toLowerCase()):e})}},wo.decode,wo.encode,wo.toASCII,wo.toUnicode,wo.ucs2,wo.version});function HM(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var VE,kl,UE,qi,QM=Tn(()=>{je(),ze(),$e(),VE=function(r,e,t,n){e=e||"&",t=t||"=";var s={};if(typeof r!="string"||r.length===0)return s;var o=/\+/g;r=r.split(e);var l=1e3;n&&typeof n.maxKeys=="number"&&(l=n.maxKeys);var u=r.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,d,m,y,v=r[c].replace(o,"%20"),w=v.indexOf(t);w>=0?(h=v.substr(0,w),d=v.substr(w+1)):(h=v,d=""),m=decodeURIComponent(h),y=decodeURIComponent(d),HM(s,m)?Array.isArray(s[m])?s[m].push(y):s[m]=[s[m],y]:s[m]=y}return s},kl=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},UE=function(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(s){var o=encodeURIComponent(kl(s))+t;return Array.isArray(r[s])?r[s].map(function(l){return o+encodeURIComponent(kl(l))}).join(e):o+encodeURIComponent(kl(r[s]))}).join(e):n?encodeURIComponent(kl(n))+t+encodeURIComponent(kl(r)):""},qi={},qi.decode=qi.parse=VE,qi.encode=qi.stringify=UE,qi.decode,qi.encode,qi.parse,qi.stringify});function cv(){throw new Error("setTimeout has not been defined")}function hv(){throw new Error("clearTimeout has not been defined")}function fA(r){if(As===setTimeout)return setTimeout(r,0);if((As===cv||!As)&&setTimeout)return As=setTimeout,setTimeout(r,0);try{return As(r,0)}catch{try{return As.call(null,r,0)}catch{return As.call(this||La,r,0)}}}function KM(){Ma&&ba&&(Ma=!1,ba.length?es=ba.concat(es):bc=-1,es.length&&dA())}function dA(){if(!Ma){var r=fA(KM);Ma=!0;for(var e=es.length;e;){for(ba=es,es=[];++bc<e;)ba&&ba[bc].run();bc=-1,e=es.length}ba=null,Ma=!1,function(t){if(Is===clearTimeout)return clearTimeout(t);if((Is===hv||!Is)&&clearTimeout)return Is=clearTimeout,clearTimeout(t);try{Is(t)}catch{try{return Is.call(null,t)}catch{return Is.call(this||La,t)}}}(r)}}function BE(r,e){(this||La).fun=r,(this||La).array=e}function bs(){}var jE,As,Is,La,yr,ba,es,Ma,bc,fr,GM=Tn(()=>{je(),ze(),$e(),La=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,yr=jE={},function(){try{As=typeof setTimeout=="function"?setTimeout:cv}catch{As=cv}try{Is=typeof clearTimeout=="function"?clearTimeout:hv}catch{Is=hv}}(),es=[],Ma=!1,bc=-1,yr.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];es.push(new BE(r,e)),es.length!==1||Ma||fA(dA)},BE.prototype.run=function(){(this||La).fun.apply(null,(this||La).array)},yr.title="browser",yr.browser=!0,yr.env={},yr.argv=[],yr.version="",yr.versions={},yr.on=bs,yr.addListener=bs,yr.once=bs,yr.off=bs,yr.removeListener=bs,yr.removeAllListeners=bs,yr.emit=bs,yr.prependListener=bs,yr.prependOnceListener=bs,yr.listeners=function(r){return[]},yr.binding=function(r){throw new Error("process.binding is not supported")},yr.cwd=function(){return"/"},yr.chdir=function(r){throw new Error("process.chdir is not supported")},yr.umask=function(){return 0},fr=jE,fr.addListener,fr.argv,fr.binding,fr.browser,fr.chdir,fr.cwd,fr.emit,fr.env,fr.listeners,fr.nextTick,fr.off,fr.on,fr.once,fr.prependListener,fr.prependOnceListener,fr.removeAllListeners,fr.removeListener,fr.title,fr.umask,fr.version,fr.versions});function YM(){if(fv)return $f;fv=!0;var r=$f={},e,t;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?t=clearTimeout:t=s}catch{t=s}})();function o(S){if(e===setTimeout)return setTimeout(S,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(S,0);try{return e(S,0)}catch{try{return e.call(null,S,0)}catch{return e.call(this||ya,S,0)}}}function l(S){if(t===clearTimeout)return clearTimeout(S);if((t===s||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(S);try{return t(S)}catch{try{return t.call(null,S)}catch{return t.call(this||ya,S)}}}var u=[],c=!1,h,d=-1;function m(){!c||!h||(c=!1,h.length?u=h.concat(u):d=-1,u.length&&y())}function y(){if(!c){var S=o(m);c=!0;for(var T=u.length;T;){for(h=u,u=[];++d<T;)h&&h[d].run();d=-1,T=u.length}h=null,c=!1,l(S)}}r.nextTick=function(S){var T=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)T[O-1]=arguments[O];u.push(new v(S,T)),u.length===1&&!c&&o(y)};function v(S,T){(this||ya).fun=S,(this||ya).array=T}v.prototype.run=function(){(this||ya).fun.apply(null,(this||ya).array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function w(){}return r.on=w,r.addListener=w,r.once=w,r.off=w,r.removeListener=w,r.removeAllListeners=w,r.emit=w,r.prependListener=w,r.prependOnceListener=w,r.listeners=function(S){return[]},r.binding=function(S){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(S){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},$f}var $f,fv,ya,ar,pA=Tn(()=>{je(),ze(),$e(),$f={},fv=!1,ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ar=YM(),ar.platform="browser",ar.addListener,ar.argv,ar.binding,ar.browser,ar.chdir,ar.cwd,ar.emit,ar.env,ar.listeners,ar.nextTick,ar.off,ar.on,ar.once,ar.prependListener,ar.prependOnceListener,ar.removeAllListeners,ar.removeListener,ar.title,ar.umask,ar.version,ar.versions});function JM(){if(dv)return zf;dv=!0;var r=ar;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,l){for(var u="",c=0,h=-1,d=0,m,y=0;y<=o.length;++y){if(y<o.length)m=o.charCodeAt(y);else{if(m===47)break;m=47}if(m===47){if(!(h===y-1||d===1))if(h!==y-1&&d===2){if(u.length<2||c!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var v=u.lastIndexOf("/");if(v!==u.length-1){v===-1?(u="",c=0):(u=u.slice(0,v),c=u.length-1-u.lastIndexOf("/")),h=y,d=0;continue}}else if(u.length===2||u.length===1){u="",c=0,h=y,d=0;continue}}l&&(u.length>0?u+="/..":u="..",c=2)}else u.length>0?u+="/"+o.slice(h+1,y):u=o.slice(h+1,y),c=y-h-1;h=y,d=0}else m===46&&d!==-1?++d:d=-1}return u}function n(o,l){var u=l.dir||l.root,c=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+c:u+o+c:c}var s={resolve:function(){for(var o="",l=!1,u,c=arguments.length-1;c>=-1&&!l;c--){var h;c>=0?h=arguments[c]:(u===void 0&&(u=r.cwd()),h=u),e(h),h.length!==0&&(o=h+"/"+o,l=h.charCodeAt(0)===47)}return o=t(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var l=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=t(o,!l),o.length===0&&!l&&(o="."),o.length>0&&u&&(o+="/"),l?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,l=0;l<arguments.length;++l){var u=arguments[l];e(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":s.normalize(o)},relative:function(o,l){if(e(o),e(l),o===l||(o=s.resolve(o),l=s.resolve(l),o===l))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,h=c-u,d=1;d<l.length&&l.charCodeAt(d)===47;++d);for(var m=l.length,y=m-d,v=h<y?h:y,w=-1,S=0;S<=v;++S){if(S===v){if(y>v){if(l.charCodeAt(d+S)===47)return l.slice(d+S+1);if(S===0)return l.slice(d+S)}else h>v&&(o.charCodeAt(u+S)===47?w=S:S===0&&(w=0));break}var T=o.charCodeAt(u+S),O=l.charCodeAt(d+S);if(T!==O)break;T===47&&(w=S)}var x="";for(S=u+w+1;S<=c;++S)(S===c||o.charCodeAt(S)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+l.slice(d+w):(d+=w,l.charCodeAt(d)===47&&++d,l.slice(d))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var l=o.charCodeAt(0),u=l===47,c=-1,h=!0,d=o.length-1;d>=1;--d)if(l=o.charCodeAt(d),l===47){if(!h){c=d;break}}else h=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');e(o);var u=0,c=-1,h=!0,d;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l.length===o.length&&l===o)return"";var m=l.length-1,y=-1;for(d=o.length-1;d>=0;--d){var v=o.charCodeAt(d);if(v===47){if(!h){u=d+1;break}}else y===-1&&(h=!1,y=d+1),m>=0&&(v===l.charCodeAt(m)?--m===-1&&(c=d):(m=-1,c=y))}return u===c?c=y:c===-1&&(c=o.length),o.slice(u,c)}else{for(d=o.length-1;d>=0;--d)if(o.charCodeAt(d)===47){if(!h){u=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":o.slice(u,c)}},extname:function(o){e(o);for(var l=-1,u=0,c=-1,h=!0,d=0,m=o.length-1;m>=0;--m){var y=o.charCodeAt(m);if(y===47){if(!h){u=m+1;break}continue}c===-1&&(h=!1,c=m+1),y===46?l===-1?l=m:d!==1&&(d=1):l!==-1&&(d=-1)}return l===-1||c===-1||d===0||d===1&&l===c-1&&l===u+1?"":o.slice(l,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return n("/",o)},parse:function(o){e(o);var l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;var u=o.charCodeAt(0),c=u===47,h;c?(l.root="/",h=1):h=0;for(var d=-1,m=0,y=-1,v=!0,w=o.length-1,S=0;w>=h;--w){if(u=o.charCodeAt(w),u===47){if(!v){m=w+1;break}continue}y===-1&&(v=!1,y=w+1),u===46?d===-1?d=w:S!==1&&(S=1):d!==-1&&(S=-1)}return d===-1||y===-1||S===0||S===1&&d===y-1&&d===m+1?y!==-1&&(m===0&&c?l.base=l.name=o.slice(1,y):l.base=l.name=o.slice(m,y)):(m===0&&c?(l.name=o.slice(1,d),l.base=o.slice(1,y)):(l.name=o.slice(m,d),l.base=o.slice(m,y)),l.ext=o.slice(d,y)),m>0?l.dir=o.slice(0,m-1):c&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,zf=s,zf}var zf,dv,pv,XM=Tn(()=>{je(),ze(),$e(),pA(),zf={},dv=!1,pv=JM()}),mA={};yu(mA,{URL:()=>OA,Url:()=>CA,default:()=>Ht,fileURLToPath:()=>gA,format:()=>RA,parse:()=>NA,pathToFileURL:()=>yA,resolve:()=>kA,resolveObject:()=>PA});function oi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function ic(r,e,t){if(r&&Ti.isObject(r)&&r instanceof oi)return r;var n=new oi;return n.parse(r,e,t),n}function ZM(){if(mv)return Wf;mv=!0;var r=fr;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function t(o,l){for(var u="",c=0,h=-1,d=0,m,y=0;y<=o.length;++y){if(y<o.length)m=o.charCodeAt(y);else{if(m===47)break;m=47}if(m===47){if(!(h===y-1||d===1))if(h!==y-1&&d===2){if(u.length<2||c!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var v=u.lastIndexOf("/");if(v!==u.length-1){v===-1?(u="",c=0):(u=u.slice(0,v),c=u.length-1-u.lastIndexOf("/")),h=y,d=0;continue}}else if(u.length===2||u.length===1){u="",c=0,h=y,d=0;continue}}l&&(u.length>0?u+="/..":u="..",c=2)}else u.length>0?u+="/"+o.slice(h+1,y):u=o.slice(h+1,y),c=y-h-1;h=y,d=0}else m===46&&d!==-1?++d:d=-1}return u}function n(o,l){var u=l.dir||l.root,c=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+c:u+o+c:c}var s={resolve:function(){for(var o="",l=!1,u,c=arguments.length-1;c>=-1&&!l;c--){var h;c>=0?h=arguments[c]:(u===void 0&&(u=r.cwd()),h=u),e(h),h.length!==0&&(o=h+"/"+o,l=h.charCodeAt(0)===47)}return o=t(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var l=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=t(o,!l),o.length===0&&!l&&(o="."),o.length>0&&u&&(o+="/"),l?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,l=0;l<arguments.length;++l){var u=arguments[l];e(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":s.normalize(o)},relative:function(o,l){if(e(o),e(l),o===l||(o=s.resolve(o),l=s.resolve(l),o===l))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,h=c-u,d=1;d<l.length&&l.charCodeAt(d)===47;++d);for(var m=l.length,y=m-d,v=h<y?h:y,w=-1,S=0;S<=v;++S){if(S===v){if(y>v){if(l.charCodeAt(d+S)===47)return l.slice(d+S+1);if(S===0)return l.slice(d+S)}else h>v&&(o.charCodeAt(u+S)===47?w=S:S===0&&(w=0));break}var T=o.charCodeAt(u+S),O=l.charCodeAt(d+S);if(T!==O)break;T===47&&(w=S)}var x="";for(S=u+w+1;S<=c;++S)(S===c||o.charCodeAt(S)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+l.slice(d+w):(d+=w,l.charCodeAt(d)===47&&++d,l.slice(d))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var l=o.charCodeAt(0),u=l===47,c=-1,h=!0,d=o.length-1;d>=1;--d)if(l=o.charCodeAt(d),l===47){if(!h){c=d;break}}else h=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');e(o);var u=0,c=-1,h=!0,d;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l.length===o.length&&l===o)return"";var m=l.length-1,y=-1;for(d=o.length-1;d>=0;--d){var v=o.charCodeAt(d);if(v===47){if(!h){u=d+1;break}}else y===-1&&(h=!1,y=d+1),m>=0&&(v===l.charCodeAt(m)?--m===-1&&(c=d):(m=-1,c=y))}return u===c?c=y:c===-1&&(c=o.length),o.slice(u,c)}else{for(d=o.length-1;d>=0;--d)if(o.charCodeAt(d)===47){if(!h){u=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":o.slice(u,c)}},extname:function(o){e(o);for(var l=-1,u=0,c=-1,h=!0,d=0,m=o.length-1;m>=0;--m){var y=o.charCodeAt(m);if(y===47){if(!h){u=m+1;break}continue}c===-1&&(h=!1,c=m+1),y===46?l===-1?l=m:d!==1&&(d=1):l!==-1&&(d=-1)}return l===-1||c===-1||d===0||d===1&&l===c-1&&l===u+1?"":o.slice(l,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return n("/",o)},parse:function(o){e(o);var l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;var u=o.charCodeAt(0),c=u===47,h;c?(l.root="/",h=1):h=0;for(var d=-1,m=0,y=-1,v=!0,w=o.length-1,S=0;w>=h;--w){if(u=o.charCodeAt(w),u===47){if(!v){m=w+1;break}continue}y===-1&&(v=!1,y=w+1),u===46?d===-1?d=w:S!==1&&(S=1):d!==-1&&(S=-1)}return d===-1||y===-1||S===0||S===1&&d===y-1&&d===m+1?y!==-1&&(m===0&&c?l.base=l.name=o.slice(1,y):l.base=l.name=o.slice(m,y)):(m===0&&c?(l.name=o.slice(1,d),l.base=o.slice(1,y)):(l.name=o.slice(m,d),l.base=o.slice(m,y)),l.ext=o.slice(d,y)),m>0?l.dir=o.slice(0,m-1):c&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Wf=s,Wf}function eF(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return yd?tF(r):rF(r)}function tF(r){let e=r.hostname,t=r.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let s=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&s===102||t[n+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(EA,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let n=t.codePointAt(1)|32,s=t[2];if(n<wA||n>bA||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function rF(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=r.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let n=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function nF(r){let e=gv.resolve(r),t=r.charCodeAt(r.length-1);(t===_A||yd&&t===vA)&&e[e.length-1]!==gv.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(SA,"%25")),!yd&&e.includes("\\")&&(e=e.replace(TA,"%5C")),e.includes(`
`)&&(e=e.replace(xA,"%0A")),e.includes("\r")&&(e=e.replace(AA,"%0D")),e.includes("	")&&(e=e.replace(IA,"%09")),n.pathname=e,n}function gA(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return vd?iF(r):sF(r)}function iF(r){let e=r.hostname,t=r.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let s=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&s===102||t[n+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(t=t.replace(VA,"\\"),t=decodeURIComponent(t),e!=="")return`\\\\${e}${t}`;{let n=t.codePointAt(1)|32,s=t[2];if(n<MA||n>FA||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return t.slice(1)}}function sF(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=r.pathname;for(let t=0;t<e.length;t++)if(e[t]==="%"){let n=e.codePointAt(t+2)||32;if(e[t+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function yA(r){let e=pv.resolve(r),t=r.charCodeAt(r.length-1);(t===LA||vd&&t===DA)&&e[e.length-1]!==pv.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(UA,"%25")),!vd&&e.includes("\\")&&(e=e.replace(BA,"%5C")),e.includes(`
`)&&(e=e.replace(jA,"%0A")),e.includes("\r")&&(e=e.replace($A,"%0D")),e.includes("	")&&(e=e.replace(zA,"%09")),n.pathname=e,n}var Ht,$E,Ti,zE,WE,qE,HE,bf,Zm,eg,tg,QE,KE,Ef,ma,Sf,Wf,mv,gv,GE,vA,_A,wA,bA,yd,EA,SA,TA,xA,AA,IA,YE,CA,RA,kA,PA,NA,OA,DA,LA,MA,FA,vd,VA,UA,BA,jA,$A,zA,oF=Tn(()=>{je(),ze(),$e(),qM(),QM(),GM(),XM(),pA(),Ht={},$E=wo,Ti={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},Ht.parse=ic,Ht.resolve=function(r,e){return ic(r,!1,!0).resolve(e)},Ht.resolveObject=function(r,e){return r?ic(r,!1,!0).resolveObject(e):e},Ht.format=function(r){return Ti.isString(r)&&(r=ic(r)),r instanceof oi?r.format():oi.prototype.format.call(r)},Ht.Url=oi,zE=/^([a-z0-9.+-]+:)/i,WE=/:[0-9]*$/,qE=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,HE=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),bf=["'"].concat(HE),Zm=["%","/","?",";","#"].concat(bf),eg=["/","?","#"],tg=/^[+a-z0-9A-Z_-]{0,63}$/,QE=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,KE={javascript:!0,"javascript:":!0},Ef={javascript:!0,"javascript:":!0},ma={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Sf=qi,oi.prototype.parse=function(r,e,t){if(!Ti.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),s=n!==-1&&n<r.indexOf("#")?"?":"#",o=r.split(s);o[0]=o[0].replace(/\\/g,"/");var l=r=o.join(s);if(l=l.trim(),!t&&r.split("#").length===1){var u=qE.exec(l);if(u)return this.path=l,this.href=l,this.pathname=u[1],u[2]?(this.search=u[2],this.query=e?Sf.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=zE.exec(l);if(c){var h=(c=c[0]).toLowerCase();this.protocol=h,l=l.substr(c.length)}if(t||c||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var d=l.substr(0,2)==="//";!d||c&&Ef[c]||(l=l.substr(2),this.slashes=!0)}if(!Ef[c]&&(d||c&&!ma[c])){for(var m,y,v=-1,w=0;w<eg.length;w++)(S=l.indexOf(eg[w]))!==-1&&(v===-1||S<v)&&(v=S);for((y=v===-1?l.lastIndexOf("@"):l.lastIndexOf("@",v))!==-1&&(m=l.slice(0,y),l=l.slice(y+1),this.auth=decodeURIComponent(m)),v=-1,w=0;w<Zm.length;w++){var S;(S=l.indexOf(Zm[w]))!==-1&&(v===-1||S<v)&&(v=S)}v===-1&&(v=l.length),this.host=l.slice(0,v),l=l.slice(v),this.parseHost(),this.hostname=this.hostname||"";var T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T)for(var O=this.hostname.split(/\./),x=(w=0,O.length);w<x;w++){var R=O[w];if(R&&!R.match(tg)){for(var z="",H=0,j=R.length;H<j;H++)R.charCodeAt(H)>127?z+="x":z+=R[H];if(!z.match(tg)){var P=O.slice(0,w),k=O.slice(w+1),M=R.match(QE);M&&(P.push(M[1]),k.unshift(M[2])),k.length&&(l="/"+k.join(".")+l),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=$E.toASCII(this.hostname));var F=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+F,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!KE[h])for(w=0,x=bf.length;w<x;w++){var N=bf[w];if(l.indexOf(N)!==-1){var V=encodeURIComponent(N);V===N&&(V=escape(N)),l=l.split(N).join(V)}}var _e=l.indexOf("#");_e!==-1&&(this.hash=l.substr(_e),l=l.slice(0,_e));var ae=l.indexOf("?");if(ae!==-1?(this.search=l.substr(ae),this.query=l.substr(ae+1),e&&(this.query=Sf.parse(this.query)),l=l.slice(0,ae)):e&&(this.search="",this.query={}),l&&(this.pathname=l),ma[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var De=this.search||"";this.path=F+De}return this.href=this.format(),this},oi.prototype.format=function(){var r=this.auth||"";r&&(r=(r=encodeURIComponent(r)).replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=r+this.host:this.hostname&&(s=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&Ti.isObject(this.query)&&Object.keys(this.query).length&&(o=Sf.stringify(this.query));var l=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ma[e])&&s!==!1?(s="//"+(s||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),l&&l.charAt(0)!=="?"&&(l="?"+l),e+s+(t=t.replace(/[?#]/g,function(u){return encodeURIComponent(u)}))+(l=l.replace("#","%23"))+n},oi.prototype.resolve=function(r){return this.resolveObject(ic(r,!1,!0)).format()},oi.prototype.resolveObject=function(r){if(Ti.isString(r)){var e=new oi;e.parse(r,!1,!0),r=e}for(var t=new oi,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];t[o]=this[o]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var l=Object.keys(r),u=0;u<l.length;u++){var c=l[u];c!=="protocol"&&(t[c]=r[c])}return ma[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!ma[r.protocol]){for(var h=Object.keys(r),d=0;d<h.length;d++){var m=h[d];t[m]=r[m]}return t.href=t.format(),t}if(t.protocol=r.protocol,r.host||Ef[r.protocol])t.pathname=r.pathname;else{for(var y=(r.pathname||"").split("/");y.length&&!(r.host=y.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),t.pathname=y.join("/")}if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var v=t.pathname||"",w=t.search||"";t.path=v+w}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var S=t.pathname&&t.pathname.charAt(0)==="/",T=r.host||r.pathname&&r.pathname.charAt(0)==="/",O=T||S||t.host&&r.pathname,x=O,R=t.pathname&&t.pathname.split("/")||[],z=(y=r.pathname&&r.pathname.split("/")||[],t.protocol&&!ma[t.protocol]);if(z&&(t.hostname="",t.port=null,t.host&&(R[0]===""?R[0]=t.host:R.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host=null),O=O&&(y[0]===""||R[0]==="")),T)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,R=y;else if(y.length)R||(R=[]),R.pop(),R=R.concat(y),t.search=r.search,t.query=r.query;else if(!Ti.isNullOrUndefined(r.search))return z&&(t.hostname=t.host=R.shift(),(M=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=M.shift(),t.host=t.hostname=M.shift())),t.search=r.search,t.query=r.query,Ti.isNull(t.pathname)&&Ti.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!R.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var H=R.slice(-1)[0],j=(t.host||r.host||R.length>1)&&(H==="."||H==="..")||H==="",P=0,k=R.length;k>=0;k--)(H=R[k])==="."?R.splice(k,1):H===".."?(R.splice(k,1),P++):P&&(R.splice(k,1),P--);if(!O&&!x)for(;P--;P)R.unshift("..");!O||R[0]===""||R[0]&&R[0].charAt(0)==="/"||R.unshift(""),j&&R.join("/").substr(-1)!=="/"&&R.push("");var M,F=R[0]===""||R[0]&&R[0].charAt(0)==="/";return z&&(t.hostname=t.host=F?"":R.length?R.shift():"",(M=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=M.shift(),t.host=t.hostname=M.shift())),(O=O||t.host&&R.length)&&!F&&R.unshift(""),R.length?t.pathname=R.join("/"):(t.pathname=null,t.path=null),Ti.isNull(t.pathname)&&Ti.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t},oi.prototype.parseHost=function(){var r=this.host,e=WE.exec(r);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)},Ht.Url,Ht.format,Ht.resolve,Ht.resolveObject,Wf={},mv=!1,gv=ZM(),GE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ht.URL=typeof URL<"u"?URL:null,Ht.pathToFileURL=nF,Ht.fileURLToPath=eF,Ht.Url,Ht.format,Ht.resolve,Ht.resolveObject,Ht.URL,vA=92,_A=47,wA=97,bA=122,yd=GE==="win32",EA=/\//g,SA=/%/g,TA=/\\/g,xA=/\n/g,AA=/\r/g,IA=/\t/g,YE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ht.URL=typeof URL<"u"?URL:null,Ht.pathToFileURL=yA,Ht.fileURLToPath=gA,CA=Ht.Url,RA=Ht.format,kA=Ht.resolve,PA=Ht.resolveObject,NA=Ht.parse,OA=Ht.URL,DA=92,LA=47,MA=97,FA=122,vd=YE==="win32",VA=/\//g,UA=/%/g,BA=/\\/g,jA=/\n/g,$A=/\r/g,zA=/\t/g}),aF=Ke((r,e)=>{je(),ze(),$e(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),v0=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0}),r.BufferedDuplex=void 0,r.writev=n;var e=Ga(),t=(Kr(),Kt(Qr));function n(o,l){let u=new Array(o.length);for(let c=0;c<o.length;c++)typeof o[c].chunk=="string"?u[c]=t.Buffer.from(o[c].chunk,"utf8"):u[c]=o[c].chunk;this._write(t.Buffer.concat(u),"binary",l)}var s=class extends e.Duplex{constructor(o,l,u){super({objectMode:!0}),this.proxy=l,this.socket=u,this.writeQueue=[],o.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",c=>{!this.destroyed&&this.readable&&this.push(c)})}_read(o){this.proxy.read(o)}_write(o,l,u){this.isSocketOpen?this.writeToProxy(o,l,u):this.writeQueue.push({chunk:o,encoding:l,cb:u})}_final(o){this.writeQueue=[],this.proxy.end(o)}_destroy(o,l){this.writeQueue=[],this.proxy.destroy(),l(o)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(o,l,u){this.proxy.write(o,l)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:o,encoding:l,cb:u}=this.writeQueue.shift();this.writeToProxy(o,l,u)}}};r.BufferedDuplex=s}),Tf=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(r,"__esModule",{value:!0}),r.streamBuilder=r.browserStreamBuilder=void 0;var t=(Kr(),Kt(Qr)),n=e(aF()),s=e(Bs()),o=Ga(),l=e(Xd()),u=v0(),c=(0,s.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function d(O,x){let R=`${O.protocol}://${O.hostname}:${O.port}${O.path}`;return typeof O.transformWsUrl=="function"&&(R=O.transformWsUrl(R,O,x)),R}function m(O){let x=O;return O.port||(O.protocol==="wss"?x.port=443:x.port=80),O.path||(x.path="/"),O.wsOptions||(x.wsOptions={}),!l.default&&!O.forceNativeWebSocket&&O.protocol==="wss"&&h.forEach(R=>{Object.prototype.hasOwnProperty.call(O,R)&&!Object.prototype.hasOwnProperty.call(O.wsOptions,R)&&(x.wsOptions[R]=O[R])}),x}function y(O){let x=m(O);if(x.hostname||(x.hostname=x.host),!x.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let R=new URL(document.URL);x.hostname=R.hostname,x.port||(x.port=Number(R.port))}return x.objectMode===void 0&&(x.objectMode=!(x.binary===!0||x.binary===void 0)),x}function v(O,x,R){c("createWebSocket"),c(`protocol: ${R.protocolId} ${R.protocolVersion}`);let z=R.protocolId==="MQIsdp"&&R.protocolVersion===3?"mqttv3.1":"mqtt";c(`creating new Websocket for url: ${x} and protocol: ${z}`);let H;return R.createWebsocket?H=R.createWebsocket(x,[z],R):H=new n.default(x,[z],R.wsOptions),H}function w(O,x){let R=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt",z=d(x,O),H;return x.createWebsocket?H=x.createWebsocket(z,[R],x):H=new WebSocket(z,[R]),H.binaryType="arraybuffer",H}var S=(O,x)=>{c("streamBuilder");let R=m(x);R.hostname=R.hostname||R.host||"localhost";let z=d(R,O),H=v(O,z,R),j=n.default.createWebSocketStream(H,R.wsOptions);return j.url=z,H.on("close",()=>{j.destroy()}),j};r.streamBuilder=S;var T=(O,x)=>{c("browserStreamBuilder");let R,z=y(x).browserBufferSize||1024*512,H=x.browserBufferTimeout||1e3,j=!x.objectMode,P=w(O,x),k=F(x,ae,De);x.objectMode||(k._writev=u.writev.bind(k)),k.on("close",()=>{P.close()});let M=typeof P.addEventListener<"u";P.readyState===P.OPEN?(R=k,R.socket=P):(R=new u.BufferedDuplex(x,k,P),M?P.addEventListener("open",$):P.onopen=$),M?(P.addEventListener("close",N),P.addEventListener("error",V),P.addEventListener("message",_e)):(P.onclose=N,P.onerror=V,P.onmessage=_e);function F(ke,fe,Ne){let ie=new o.Transform({objectMode:ke.objectMode});return ie._write=fe,ie._flush=Ne,ie}function $(){c("WebSocket onOpen"),R instanceof u.BufferedDuplex&&R.socketReady()}function N(ke){c("WebSocket onClose",ke),R.end(),R.destroy()}function V(ke){c("WebSocket onError",ke);let fe=new Error("WebSocket error");fe.event=ke,R.destroy(fe)}async function _e(ke){if(!k||k.destroyed||!k.readable)return;let{data:fe}=ke;fe instanceof ArrayBuffer?fe=t.Buffer.from(fe):fe instanceof Blob?fe=t.Buffer.from(await new Response(fe).arrayBuffer()):fe=t.Buffer.from(fe,"utf8"),k.push(fe)}function ae(ke,fe,Ne){if(P.bufferedAmount>z){setTimeout(ae,H,ke,fe,Ne);return}j&&typeof ke=="string"&&(ke=t.Buffer.from(ke,"utf8"));try{P.send(ke)}catch(ie){return Ne(ie)}Ne()}function De(ke){P.close(),ke()}return R};r.browserStreamBuilder=T}),_0={};yu(_0,{Server:()=>lr,Socket:()=>lr,Stream:()=>lr,_createServerHandle:()=>lr,_normalizeArgs:()=>lr,_setSimultaneousAccepts:()=>lr,connect:()=>lr,createConnection:()=>lr,createServer:()=>lr,default:()=>WA,isIP:()=>lr,isIPv4:()=>lr,isIPv6:()=>lr});function lr(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var WA,qA=Tn(()=>{je(),ze(),$e(),WA={_createServerHandle:lr,_normalizeArgs:lr,_setSimultaneousAccepts:lr,connect:lr,createConnection:lr,createServer:lr,isIP:lr,isIPv4:lr,isIPv6:lr,Server:lr,Socket:lr,Stream:lr}}),JE=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0});var t=e((qA(),Kt(_0))),n=e(Bs()),s=(0,n.default)("mqttjs:tcp"),o=(l,u)=>{u.port=u.port||1883,u.hostname=u.hostname||u.host||"localhost";let{port:c,path:h}=u,d=u.hostname;return s("port %d and host %s",c,d),t.default.createConnection({port:c,host:d,path:h})};r.default=o}),HA={};yu(HA,{default:()=>QA});var QA,lF=Tn(()=>{je(),ze(),$e(),QA={}}),XE=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0});var t=e((lF(),Kt(HA))),n=e((qA(),Kt(_0))),s=e(Bs()),o=(0,s.default)("mqttjs:tls"),l=(u,c)=>{c.port=c.port||8883,c.host=c.hostname||c.host||"localhost",n.default.isIP(c.host)===0&&(c.servername=c.host),c.rejectUnauthorized=c.rejectUnauthorized!==!1,delete c.path,o("port %d host %s rejectUnauthorized %b",c.port,c.host,c.rejectUnauthorized);let h=t.default.connect(c);h.on("secureConnect",()=>{c.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",d)});function d(m){c.rejectUnauthorized&&u.emit("error",m),h.end()}return h.on("error",d),h};r.default=l}),ZE=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=(Kr(),Kt(Qr)),t=Ga(),n=v0(),s,o,l;function u(){let y=new t.Transform;return y._write=(v,w,S)=>{s.send({data:v.buffer,success(){S()},fail(T){S(new Error(T))}})},y._flush=v=>{s.close({success(){v()}})},y}function c(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function h(y,v){let w=y.protocol==="wxs"?"wss":"ws",S=`${w}://${y.hostname}${y.path}`;return y.port&&y.port!==80&&y.port!==443&&(S=`${w}://${y.hostname}:${y.port}${y.path}`),typeof y.transformWsUrl=="function"&&(S=y.transformWsUrl(S,y,v)),S}function d(){s.onOpen(()=>{l.socketReady()}),s.onMessage(y=>{let{data:v}=y;v instanceof ArrayBuffer?v=e.Buffer.from(v):v=e.Buffer.from(v,"utf8"),o.push(v)}),s.onClose(()=>{l.emit("close"),l.end(),l.destroy()}),s.onError(y=>{let v=new Error(y.errMsg);l.destroy(v)})}var m=(y,v)=>{if(v.hostname=v.hostname||v.host,!v.hostname)throw new Error("Could not determine host. Specify host manually.");let w=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";c(v);let S=h(v,y);s=wx.connectSocket({url:S,protocols:[w]}),o=u(),l=new n.BufferedDuplex(v,o,s),l._destroy=(O,x)=>{s.close({success(){x&&x(O)}})};let T=l.destroy;return l.destroy=(O,x)=>(l.destroy=T,setTimeout(()=>{s.close({fail(){l._destroy(O,x)}})},0),l),d(),l};r.default=m}),e1=Ke(r=>{je(),ze(),$e(),Object.defineProperty(r,"__esModule",{value:!0});var e=(Kr(),Kt(Qr)),t=Ga(),n=v0(),s,o,l,u=!1;function c(){let v=new t.Transform;return v._write=(w,S,T)=>{s.sendSocketMessage({data:w.buffer,success(){T()},fail(){T(new Error)}})},v._flush=w=>{s.closeSocket({success(){w()}})},v}function h(v){v.hostname||(v.hostname="localhost"),v.path||(v.path="/"),v.wsOptions||(v.wsOptions={})}function d(v,w){let S=v.protocol==="alis"?"wss":"ws",T=`${S}://${v.hostname}${v.path}`;return v.port&&v.port!==80&&v.port!==443&&(T=`${S}://${v.hostname}:${v.port}${v.path}`),typeof v.transformWsUrl=="function"&&(T=v.transformWsUrl(T,v,w)),T}function m(){u||(u=!0,s.onSocketOpen(()=>{l.socketReady()}),s.onSocketMessage(v=>{if(typeof v.data=="string"){let w=e.Buffer.from(v.data,"base64");o.push(w)}else{let w=new FileReader;w.addEventListener("load",()=>{let S=w.result;S instanceof ArrayBuffer?S=e.Buffer.from(S):S=e.Buffer.from(S,"utf8"),o.push(S)}),w.readAsArrayBuffer(v.data)}}),s.onSocketClose(()=>{l.end(),l.destroy()}),s.onSocketError(v=>{l.destroy(v)}))}var y=(v,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let S=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";h(w);let T=d(w,v);return s=w.my,s.connectSocket({url:T,protocols:S}),o=c(),l=new n.BufferedDuplex(w,o,s),m(),l};r.default=y}),uF=Ke(r=>{je(),ze(),$e();var e=r&&r.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0}),r.connectAsync=d;var t=e(Bs()),n=e((oF(),Kt(mA))),s=e(lv()),o=e(Xd());typeof(jt==null?void 0:jt.nextTick)!="function"&&(jt.nextTick=setImmediate);var l=(0,t.default)("mqttjs"),u=null;function c(m){let y;m.auth&&(y=m.auth.match(/^(.+):(.+)$/),y?(m.username=y[1],m.password=y[2]):m.username=m.auth)}function h(m,y){var v,w,S;if(l("connecting to an MQTT broker..."),typeof m=="object"&&!y&&(y=m,m=""),y=y||{},m&&typeof m=="string"){let x=n.default.parse(m,!0),R={};if(x.port!=null&&(R.port=Number(x.port)),R.host=x.hostname,R.query=x.query,R.auth=x.auth,R.protocol=x.protocol,R.path=x.path,y=Object.assign(Object.assign({},R),y),!y.protocol)throw new Error("Missing protocol");y.protocol=y.protocol.replace(/:$/,"")}if(y.unixSocket=y.unixSocket||((v=y.protocol)===null||v===void 0?void 0:v.includes("+unix")),y.unixSocket?y.protocol=y.protocol.replace("+unix",""):!(!((w=y.protocol)===null||w===void 0)&&w.startsWith("ws"))&&!(!((S=y.protocol)===null||S===void 0)&&S.startsWith("wx"))&&delete y.path,c(y),y.query&&typeof y.query.clientId=="string"&&(y.clientId=y.query.clientId),y.cert&&y.key)if(y.protocol){if(["mqtts","wss","wxs","alis"].indexOf(y.protocol)===-1)switch(y.protocol){case"mqtt":y.protocol="mqtts";break;case"ws":y.protocol="wss";break;case"wx":y.protocol="wxs";break;case"ali":y.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${y.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!o.default&&!y.forceNativeWebSocket?(u.ws=Tf().streamBuilder,u.wss=Tf().streamBuilder,u.mqtt=JE().default,u.tcp=JE().default,u.ssl=XE().default,u.tls=u.ssl,u.mqtts=XE().default):(u.ws=Tf().browserStreamBuilder,u.wss=Tf().browserStreamBuilder,u.wx=ZE().default,u.wxs=ZE().default,u.ali=e1().default,u.alis=e1().default)),!u[y.protocol]){let x=["mqtts","wss"].indexOf(y.protocol)!==-1;y.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((R,z)=>x&&z%2===0?!1:typeof u[R]=="function")[0]}if(y.clean===!1&&!y.clientId)throw new Error("Missing clientId for unclean clients");y.protocol&&(y.defaultProtocol=y.protocol);function T(x){return y.servers&&((!x._reconnectCount||x._reconnectCount===y.servers.length)&&(x._reconnectCount=0),y.host=y.servers[x._reconnectCount].host,y.port=y.servers[x._reconnectCount].port,y.protocol=y.servers[x._reconnectCount].protocol?y.servers[x._reconnectCount].protocol:y.defaultProtocol,y.hostname=y.host,x._reconnectCount++),l("calling streambuilder for",y.protocol),u[y.protocol](x,y)}let O=new s.default(T,y);return O.on("error",()=>{}),O}function d(m,y,v=!0){return new Promise((w,S)=>{let T=h(m,y),O={connect:R=>{x(),w(T)},end:()=>{x(),w(T)},error:R=>{x(),T.end(),S(R)}};v===!1&&(O.close=()=>{O.error(new Error("Couldn't connect to server"))});function x(){Object.keys(O).forEach(R=>{T.off(R,O[R])})}Object.keys(O).forEach(R=>{T.on(R,O[R])})})}r.default=h}),t1=Ke(r=>{je(),ze(),$e();var e=r&&r.__createBinding||(Object.create?function(v,w,S,T){T===void 0&&(T=S);var O=Object.getOwnPropertyDescriptor(w,S);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(v,T,O)}:function(v,w,S,T){T===void 0&&(T=S),v[T]=w[S]}),t=r&&r.__setModuleDefault||(Object.create?function(v,w){Object.defineProperty(v,"default",{enumerable:!0,value:w})}:function(v,w){v.default=w}),n=r&&r.__importStar||function(){var v=function(w){return v=Object.getOwnPropertyNames||function(S){var T=[];for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(T[T.length]=O);return T},v(w)};return function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var T=v(w),O=0;O<T.length;O++)T[O]!=="default"&&e(S,w,T[O]);return t(S,w),S}}(),s=r&&r.__exportStar||function(v,w){for(var S in v)S!=="default"&&!Object.prototype.hasOwnProperty.call(w,S)&&e(w,v,S)},o=r&&r.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=r.KeepaliveManager=r.UniqueMessageIdProvider=r.DefaultMessageIdProvider=r.Store=r.MqttClient=r.connectAsync=r.connect=r.Client=void 0;var l=o(lv());r.MqttClient=l.default;var u=o(Hx());r.DefaultMessageIdProvider=u.default;var c=o(WM());r.UniqueMessageIdProvider=c.default;var h=o(Qx());r.Store=h.default;var d=n(uF());r.connect=d.default,Object.defineProperty(r,"connectAsync",{enumerable:!0,get:function(){return d.connectAsync}});var m=o(uA());r.KeepaliveManager=m.default,r.Client=l.default,s(lv(),r),s(_u(),r);var y=Jd();Object.defineProperty(r,"ReasonCodes",{enumerable:!0,get:function(){return y.ReasonCodes}})}),cF=Ke(r=>{je(),ze(),$e();var e=r&&r.__createBinding||(Object.create?function(l,u,c,h){h===void 0&&(h=c);var d=Object.getOwnPropertyDescriptor(u,c);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,h,d)}:function(l,u,c,h){h===void 0&&(h=c),l[h]=u[c]}),t=r&&r.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),n=r&&r.__importStar||function(){var l=function(u){return l=Object.getOwnPropertyNames||function(c){var h=[];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[h.length]=d);return h},l(u)};return function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var h=l(u),d=0;d<h.length;d++)h[d]!=="default"&&e(c,u,h[d]);return t(c,u),c}}(),s=r&&r.__exportStar||function(l,u){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&e(u,l,c)};Object.defineProperty(r,"__esModule",{value:!0});var o=n(t1());r.default=o,s(t1(),r)});const hF=cF();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/function fF(){const[r,e]=me.useState([]),[t,n]=me.useState(""),s=me.useRef(null),o=me.useRef("client-"+Math.random().toString(16).substr(2,8)),l=me.useRef(new Set),u=me.useRef(null),c="r2s",h="wss://devapi.uniscore.vn:443/mqtt",[d,m]=me.useState(null),[y,v]=me.useState(!1);me.useEffect(()=>{const S=JSON.parse(localStorage.getItem("user")||"null");S&&(m(S),S.roles&&S.roles[0]==="ADMIN"&&v(!0))},[]),me.useEffect(()=>{if(!d)return;const S=FL(EE(AE,"messages"),T=>{const x=T.docs.map(R=>{const z=R.data();return{text:z.text,sender:z.sender,isMine:z.sender===d.email,beAdmin:z.beAdmin,timestamp:z.timestamp.toDate()}}).sort((R,z)=>R.timestamp.getTime()-z.timestamp.getTime());e(x)});return()=>S()},[d]),me.useEffect(()=>{if(!d||s.current)return;const S=hF.connect(h,{clientId:o.current,username:"football",password:"football123"});return s.current=S,S.on("connect",()=>{console.log("Connected to MQTT broker"),S.subscribe(c,T=>{T&&console.error("Subscribe error:",T)})}),S.on("message",async(T,O)=>{const x=O.toString(),[R,z,H]=x.split("::");var j;if(H==="true"?j=!0:j=!1,d!=null&&d.email){const P=R===d.email;(!P||!l.current.has(z))&&e(k=>[...k,{text:z,isMine:P,beAdmin:j,sender:R,timestamp:new Date}])}else console.log("User is not loaded yet")}),()=>{var T;(T=s.current)!=null&&T.connected&&(s.current.end(),s.current=null)}},[d]),me.useEffect(()=>{u.current&&setTimeout(()=>{var S;(S=u.current)==null||S.scrollIntoView({behavior:"smooth",block:"end"})},100)},[r]);const w=async()=>{var T;if((T=s.current)!=null&&T.connected&&t.trim()){var S;y?S=(d==null?void 0:d.email)+"::"+t+"::true":S=(d==null?void 0:d.email)+"::"+t+"::false",s.current.publish(c,S,{qos:0,retain:!1}),e(O=>[...O,{text:t,isMine:!0,beAdmin:y,sender:(d==null?void 0:d.email)||"unknown",timestamp:new Date}]),l.current.add(t),n(""),await ML(EE(AE,"messages"),{sender:d==null?void 0:d.email,text:t,beAdmin:y,timestamp:new Date})}};return Te("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"16px",minHeight:"90vh"},children:[B("h1",{className:"text-[36px] font-semibold mb-4 mt-4",children:"Community Chat"}),B("div",{style:{width:"100%",backgroundColor:"white",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"16px",display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto",height:"350px"},children:Te("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:[r.map((S,T)=>Te("div",{style:{display:"flex",flexDirection:"column",alignItems:S.isMine?"flex-end":"flex-start",maxWidth:"100%"},className:`px-4 ${S.isMine?"pl-28 sm:pl-60 md:pl-80 lg:pl-[30rem] xl:pl-[40rem] pr-0":"pl-0 pr-28 sm:pr-60 md:pr-80 lg:pr-[30rem] xl:pr-[40rem]"}`,children:[!S.isMine&&S.beAdmin&&B("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px",marginTop:"4px",color:"black"},children:"ADMIN"}),!S.isMine&&!S.beAdmin&&B("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px",marginTop:"4px",color:"black"},children:S.sender}),B("div",{style:{backgroundColor:S.isMine?"#3b82f6":"#f472b6",color:"white",padding:"10px",borderRadius:"8px",maxWidth:"100%"},children:S.text})]},T)),B("div",{ref:u})]})}),Te("div",{style:{width:"100%",marginTop:"16px"},children:[B("textarea",{value:t,onChange:S=>n(S.target.value),onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),w())},placeholder:"Enter message...",rows:1,className:"w-full resize-none border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{overflow:"hidden"},ref:S=>{S&&(S.style.height="auto",S.style.height=S.scrollHeight+"px")}}),B("div",{style:{textAlign:"center",marginTop:"0px"},children:B("button",{onClick:w,style:{backgroundColor:"#3b82f6",color:"white",padding:"8px 16px",borderRadius:"4px",marginTop:"12px",cursor:"pointer",border:"none"},children:"Send"})})]})]})}var Xc=r=>r.type==="checkbox",Ea=r=>r instanceof Date,En=r=>r==null;const KA=r=>typeof r=="object";var Sr=r=>!En(r)&&!Array.isArray(r)&&KA(r)&&!Ea(r),dF=r=>Sr(r)&&r.target?Xc(r.target)?r.target.checked:r.target.value:r,pF=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,mF=(r,e)=>r.has(pF(e)),gF=r=>{const e=r.constructor&&r.constructor.prototype;return Sr(e)&&e.hasOwnProperty("isPrototypeOf")},w0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function si(r){let e;const t=Array.isArray(r),n=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(w0&&(r instanceof Blob||n))&&(t||Sr(r)))if(e=t?[]:{},!t&&!gF(r))e=r;else for(const s in r)r.hasOwnProperty(s)&&(e[s]=si(r[s]));else return r;return e}var Zd=r=>Array.isArray(r)?r.filter(Boolean):[],Cr=r=>r===void 0,ct=(r,e,t)=>{if(!e||!Sr(r))return t;const n=Zd(e.split(/[,[\].]+?/)).reduce((s,o)=>En(s)?s:s[o],r);return Cr(n)||n===r?Cr(r[e])?t:r[e]:n},Qi=r=>typeof r=="boolean",b0=r=>/^\w*$/.test(r),GA=r=>Zd(r.replace(/["|']|\]/g,"").split(/\.|\[/)),rr=(r,e,t)=>{let n=-1;const s=b0(e)?[e]:GA(e),o=s.length,l=o-1;for(;++n<o;){const u=s[n];let c=t;if(n!==l){const h=r[u];c=Sr(h)||Array.isArray(h)?h:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;r[u]=c,r=r[u]}return r};const r1={BLUR:"blur",FOCUS_OUT:"focusout"},Ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Rt.createContext(null);var yF=(r,e,t,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in r)Object.defineProperty(s,o,{get:()=>{const l=o;return e._proxyFormState[l]!==Ci.all&&(e._proxyFormState[l]=!n||Ci.all),r[l]}});return s},Mn=r=>Sr(r)&&!Object.keys(r).length,vF=(r,e,t,n)=>{t(r);const{name:s,...o}=r;return Mn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===Ci.all)},qf=r=>Array.isArray(r)?r:[r];function _F(r){const e=Rt.useRef(r);e.current=r,Rt.useEffect(()=>{const t=!r.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[r.disabled])}var ts=r=>typeof r=="string",wF=(r,e,t,n,s)=>ts(r)?(n&&e.watch.add(r),ct(t,r,s)):Array.isArray(r)?r.map(o=>(n&&e.watch.add(o),ct(t,o))):(n&&(e.watchAll=!0),t),bF=(r,e,t,n,s)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[n]:s||!0}}:{},n1=r=>({isOnSubmit:!r||r===Ci.onSubmit,isOnBlur:r===Ci.onBlur,isOnChange:r===Ci.onChange,isOnAll:r===Ci.all,isOnTouch:r===Ci.onTouched}),i1=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(n=>r.startsWith(n)&&/^\.\w+/.test(r.slice(n.length))));const Ec=(r,e,t,n)=>{for(const s of t||Object.keys(r)){const o=ct(r,s);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(Ec(u,e))break}else if(Sr(u)&&Ec(u,e))break}}};var EF=(r,e,t)=>{const n=qf(ct(r,t));return rr(n,"root",e[t]),rr(r,t,n),r},E0=r=>r.type==="file",Xi=r=>typeof r=="function",_d=r=>{if(!w0)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Hf=r=>ts(r),S0=r=>r.type==="radio",wd=r=>r instanceof RegExp;const s1={value:!1,isValid:!1},o1={value:!0,isValid:!0};var YA=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Cr(r[0].attributes.value)?Cr(r[0].value)||r[0].value===""?o1:{value:r[0].value,isValid:!0}:o1:s1}return s1};const a1={isValid:!1,value:null};var JA=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,a1):a1;function l1(r,e,t="validate"){if(Hf(r)||Array.isArray(r)&&r.every(Hf)||Qi(r)&&!r)return{type:t,message:Hf(r)?r:"",ref:e}}var Pl=r=>Sr(r)&&!wd(r)?r:{value:r,message:""},u1=async(r,e,t,n,s,o)=>{const{ref:l,refs:u,required:c,maxLength:h,minLength:d,min:m,max:y,pattern:v,validate:w,name:S,valueAsNumber:T,mount:O}=r._f,x=ct(t,S);if(!O||e.has(S))return{};const R=u?u[0]:l,z=N=>{s&&R.reportValidity&&(R.setCustomValidity(Qi(N)?"":N||""),R.reportValidity())},H={},j=S0(l),P=Xc(l),k=j||P,M=(T||E0(l))&&Cr(l.value)&&Cr(x)||_d(l)&&l.value===""||x===""||Array.isArray(x)&&!x.length,F=bF.bind(null,S,n,H),$=(N,V,_e,ae=Es.maxLength,De=Es.minLength)=>{const ke=N?V:_e;H[S]={type:N?ae:De,message:ke,ref:l,...F(N?ae:De,ke)}};if(o?!Array.isArray(x)||!x.length:c&&(!k&&(M||En(x))||Qi(x)&&!x||P&&!YA(u).isValid||j&&!JA(u).isValid)){const{value:N,message:V}=Hf(c)?{value:!!c,message:c}:Pl(c);if(N&&(H[S]={type:Es.required,message:V,ref:R,...F(Es.required,V)},!n))return z(V),H}if(!M&&(!En(m)||!En(y))){let N,V;const _e=Pl(y),ae=Pl(m);if(!En(x)&&!isNaN(x)){const De=l.valueAsNumber||x&&+x;En(_e.value)||(N=De>_e.value),En(ae.value)||(V=De<ae.value)}else{const De=l.valueAsDate||new Date(x),ke=ie=>new Date(new Date().toDateString()+" "+ie),fe=l.type=="time",Ne=l.type=="week";ts(_e.value)&&x&&(N=fe?ke(x)>ke(_e.value):Ne?x>_e.value:De>new Date(_e.value)),ts(ae.value)&&x&&(V=fe?ke(x)<ke(ae.value):Ne?x<ae.value:De<new Date(ae.value))}if((N||V)&&($(!!N,_e.message,ae.message,Es.max,Es.min),!n))return z(H[S].message),H}if((h||d)&&!M&&(ts(x)||o&&Array.isArray(x))){const N=Pl(h),V=Pl(d),_e=!En(N.value)&&x.length>+N.value,ae=!En(V.value)&&x.length<+V.value;if((_e||ae)&&($(_e,N.message,V.message),!n))return z(H[S].message),H}if(v&&!M&&ts(x)){const{value:N,message:V}=Pl(v);if(wd(N)&&!x.match(N)&&(H[S]={type:Es.pattern,message:V,ref:l,...F(Es.pattern,V)},!n))return z(V),H}if(w){if(Xi(w)){const N=await w(x,t),V=l1(N,R);if(V&&(H[S]={...V,...F(Es.validate,V.message)},!n))return z(V.message),H}else if(Sr(w)){let N={};for(const V in w){if(!Mn(N)&&!n)break;const _e=l1(await w[V](x,t),R,V);_e&&(N={..._e,...F(V,_e.message)},z(_e.message),n&&(H[S]=N))}if(!Mn(N)&&(H[S]={ref:R,...N},!n))return H}}return z(!0),H};function SF(r,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)r=Cr(r)?n++:r[e[n++]];return r}function TF(r){for(const e in r)if(r.hasOwnProperty(e)&&!Cr(r[e]))return!1;return!0}function Lr(r,e){const t=Array.isArray(e)?e:b0(e)?[e]:GA(e),n=t.length===1?r:SF(r,t),s=t.length-1,o=t[s];return n&&delete n[o],s!==0&&(Sr(n)&&Mn(n)||Array.isArray(n)&&TF(n))&&Lr(r,t.slice(0,-1)),r}var rg=()=>{let r=[];return{get observers(){return r},next:s=>{for(const o of r)o.next&&o.next(s)},subscribe:s=>(r.push(s),{unsubscribe:()=>{r=r.filter(o=>o!==s)}}),unsubscribe:()=>{r=[]}}},yv=r=>En(r)||!KA(r);function bo(r,e){if(yv(r)||yv(e))return r===e;if(Ea(r)&&Ea(e))return r.getTime()===e.getTime();const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(const s of t){const o=r[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Ea(o)&&Ea(l)||Sr(o)&&Sr(l)||Array.isArray(o)&&Array.isArray(l)?!bo(o,l):o!==l)return!1}}return!0}var XA=r=>r.type==="select-multiple",xF=r=>S0(r)||Xc(r),ng=r=>_d(r)&&r.isConnected,ZA=r=>{for(const e in r)if(Xi(r[e]))return!0;return!1};function bd(r,e={}){const t=Array.isArray(r);if(Sr(r)||t)for(const n in r)Array.isArray(r[n])||Sr(r[n])&&!ZA(r[n])?(e[n]=Array.isArray(r[n])?[]:{},bd(r[n],e[n])):En(r[n])||(e[n]=!0);return e}function eI(r,e,t){const n=Array.isArray(r);if(Sr(r)||n)for(const s in r)Array.isArray(r[s])||Sr(r[s])&&!ZA(r[s])?Cr(e)||yv(t[s])?t[s]=Array.isArray(r[s])?bd(r[s],[]):{...bd(r[s])}:eI(r[s],En(e)?{}:e[s],t[s]):t[s]=!bo(r[s],e[s]);return t}var sc=(r,e)=>eI(r,e,bd(e)),tI=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>Cr(r)?r:e?r===""?NaN:r&&+r:t&&ts(r)?new Date(r):n?n(r):r;function ig(r){const e=r.ref;return E0(e)?e.files:S0(e)?JA(r.refs).value:XA(e)?[...e.selectedOptions].map(({value:t})=>t):Xc(e)?YA(r.refs).value:tI(Cr(e.value)?r.ref.value:e.value,r)}var AF=(r,e,t,n)=>{const s={};for(const o of r){const l=ct(e,o);l&&rr(s,o,l._f)}return{criteriaMode:t,names:[...r],fields:s,shouldUseNativeValidation:n}},oc=r=>Cr(r)?r:wd(r)?r.source:Sr(r)?wd(r.value)?r.value.source:r.value:r;const c1="AsyncFunction";var IF=r=>!!r&&!!r.validate&&!!(Xi(r.validate)&&r.validate.constructor.name===c1||Sr(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===c1)),CF=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate);function h1(r,e,t){const n=ct(r,t);if(n||b0(t))return{error:n,name:t};const s=t.split(".");for(;s.length;){const o=s.join("."),l=ct(e,o),u=ct(r,o);if(l&&!Array.isArray(l)&&t!==o)return{name:t};if(u&&u.type)return{name:o,error:u};s.pop()}return{name:t}}var RF=(r,e,t,n,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||r):(t?n.isOnBlur:s.isOnBlur)?!r:(t?n.isOnChange:s.isOnChange)?r:!0,kF=(r,e)=>!Zd(ct(r,e)).length&&Lr(r,e);const PF={mode:Ci.onSubmit,reValidateMode:Ci.onChange,shouldFocusError:!0};function NF(r={}){let e={...PF,...r},t={submitCount:0,isDirty:!1,isLoading:Xi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Sr(e.defaultValues)||Sr(e.values)?si(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:si(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,h=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:rg(),array:rg(),state:rg()},y=n1(e.mode),v=n1(e.reValidateMode),w=e.criteriaMode===Ci.all,S=Q=>X=>{clearTimeout(h),h=setTimeout(Q,X)},T=async Q=>{if(!e.disabled&&(d.isValid||Q)){const X=e.resolver?Mn((await k()).errors):await F(n,!0);X!==t.isValid&&m.state.next({isValid:X})}},O=(Q,X)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((Q||Array.from(u.mount)).forEach(ne=>{ne&&(X?rr(t.validatingFields,ne,X):Lr(t.validatingFields,ne))}),m.state.next({validatingFields:t.validatingFields,isValidating:!Mn(t.validatingFields)}))},x=(Q,X=[],ne,Y,pe=!0,be=!0)=>{if(Y&&ne&&!e.disabled){if(l.action=!0,be&&Array.isArray(ct(n,Q))){const ye=ne(ct(n,Q),Y.argA,Y.argB);pe&&rr(n,Q,ye)}if(be&&Array.isArray(ct(t.errors,Q))){const ye=ne(ct(t.errors,Q),Y.argA,Y.argB);pe&&rr(t.errors,Q,ye),kF(t.errors,Q)}if(d.touchedFields&&be&&Array.isArray(ct(t.touchedFields,Q))){const ye=ne(ct(t.touchedFields,Q),Y.argA,Y.argB);pe&&rr(t.touchedFields,Q,ye)}d.dirtyFields&&(t.dirtyFields=sc(s,o)),m.state.next({name:Q,isDirty:N(Q,X),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else rr(o,Q,X)},R=(Q,X)=>{rr(t.errors,Q,X),m.state.next({errors:t.errors})},z=Q=>{t.errors=Q,m.state.next({errors:t.errors,isValid:!1})},H=(Q,X,ne,Y)=>{const pe=ct(n,Q);if(pe){const be=ct(o,Q,Cr(ne)?ct(s,Q):ne);Cr(be)||Y&&Y.defaultChecked||X?rr(o,Q,X?be:ig(pe._f)):ae(Q,be),l.mount&&T()}},j=(Q,X,ne,Y,pe)=>{let be=!1,ye=!1;const Xe={name:Q};if(!e.disabled){const _=!!(ct(n,Q)&&ct(n,Q)._f&&ct(n,Q)._f.disabled);if(!ne||Y){d.isDirty&&(ye=t.isDirty,t.isDirty=Xe.isDirty=N(),be=ye!==Xe.isDirty);const E=_||bo(ct(s,Q),X);ye=!!(!_&&ct(t.dirtyFields,Q)),E||_?Lr(t.dirtyFields,Q):rr(t.dirtyFields,Q,!0),Xe.dirtyFields=t.dirtyFields,be=be||d.dirtyFields&&ye!==!E}if(ne){const E=ct(t.touchedFields,Q);E||(rr(t.touchedFields,Q,ne),Xe.touchedFields=t.touchedFields,be=be||d.touchedFields&&E!==ne)}be&&pe&&m.state.next(Xe)}return be?Xe:{}},P=(Q,X,ne,Y)=>{const pe=ct(t.errors,Q),be=d.isValid&&Qi(X)&&t.isValid!==X;if(e.delayError&&ne?(c=S(()=>R(Q,ne)),c(e.delayError)):(clearTimeout(h),c=null,ne?rr(t.errors,Q,ne):Lr(t.errors,Q)),(ne?!bo(pe,ne):pe)||!Mn(Y)||be){const ye={...Y,...be&&Qi(X)?{isValid:X}:{},errors:t.errors,name:Q};t={...t,...ye},m.state.next(ye)}},k=async Q=>{O(Q,!0);const X=await e.resolver(o,e.context,AF(Q||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return O(Q),X},M=async Q=>{const{errors:X}=await k(Q);if(Q)for(const ne of Q){const Y=ct(X,ne);Y?rr(t.errors,ne,Y):Lr(t.errors,ne)}else t.errors=X;return X},F=async(Q,X,ne={valid:!0})=>{for(const Y in Q){const pe=Q[Y];if(pe){const{_f:be,...ye}=pe;if(be){const Xe=u.array.has(be.name),_=pe._f&&IF(pe._f);_&&d.validatingFields&&O([Y],!0);const E=await u1(pe,u.disabled,o,w,e.shouldUseNativeValidation&&!X,Xe);if(_&&d.validatingFields&&O([Y]),E[be.name]&&(ne.valid=!1,X))break;!X&&(ct(E,be.name)?Xe?EF(t.errors,E,be.name):rr(t.errors,be.name,E[be.name]):Lr(t.errors,be.name))}!Mn(ye)&&await F(ye,X,ne)}}return ne.valid},$=()=>{for(const Q of u.unMount){const X=ct(n,Q);X&&(X._f.refs?X._f.refs.every(ne=>!ng(ne)):!ng(X._f.ref))&&qe(Q)}u.unMount=new Set},N=(Q,X)=>!e.disabled&&(Q&&X&&rr(o,Q,X),!bo(J(),s)),V=(Q,X,ne)=>wF(Q,u,{...l.mount?o:Cr(X)?s:ts(Q)?{[Q]:X}:X},ne,X),_e=Q=>Zd(ct(l.mount?o:s,Q,e.shouldUnregister?ct(s,Q,[]):[])),ae=(Q,X,ne={})=>{const Y=ct(n,Q);let pe=X;if(Y){const be=Y._f;be&&(!be.disabled&&rr(o,Q,tI(X,be)),pe=_d(be.ref)&&En(X)?"":X,XA(be.ref)?[...be.ref.options].forEach(ye=>ye.selected=pe.includes(ye.value)):be.refs?Xc(be.ref)?be.refs.length>1?be.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(pe)?!!pe.find(Xe=>Xe===ye.value):pe===ye.value)):be.refs[0]&&(be.refs[0].checked=!!pe):be.refs.forEach(ye=>ye.checked=ye.value===pe):E0(be.ref)?be.ref.value="":(be.ref.value=pe,be.ref.type||m.values.next({name:Q,values:{...o}})))}(ne.shouldDirty||ne.shouldTouch)&&j(Q,pe,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&ie(Q)},De=(Q,X,ne)=>{for(const Y in X){const pe=X[Y],be=`${Q}.${Y}`,ye=ct(n,be);(u.array.has(Q)||Sr(pe)||ye&&!ye._f)&&!Ea(pe)?De(be,pe,ne):ae(be,pe,ne)}},ke=(Q,X,ne={})=>{const Y=ct(n,Q),pe=u.array.has(Q),be=si(X);rr(o,Q,be),pe?(m.array.next({name:Q,values:{...o}}),(d.isDirty||d.dirtyFields)&&ne.shouldDirty&&m.state.next({name:Q,dirtyFields:sc(s,o),isDirty:N(Q,be)})):Y&&!Y._f&&!En(be)?De(Q,be,ne):ae(Q,be,ne),i1(Q,u)&&m.state.next({...t}),m.values.next({name:l.mount?Q:void 0,values:{...o}})},fe=async Q=>{l.mount=!0;const X=Q.target;let ne=X.name,Y=!0;const pe=ct(n,ne),be=()=>X.type?ig(pe._f):dF(Q),ye=Xe=>{Y=Number.isNaN(Xe)||Ea(Xe)&&isNaN(Xe.getTime())||bo(Xe,ct(o,ne,Xe))};if(pe){let Xe,_;const E=be(),C=Q.type===r1.BLUR||Q.type===r1.FOCUS_OUT,q=!CF(pe._f)&&!e.resolver&&!ct(t.errors,ne)&&!pe._f.deps||RF(C,ct(t.touchedFields,ne),t.isSubmitted,v,y),ee=i1(ne,u,C);rr(o,ne,E),C?(pe._f.onBlur&&pe._f.onBlur(Q),c&&c(0)):pe._f.onChange&&pe._f.onChange(Q);const le=j(ne,E,C,!1),Se=!Mn(le)||ee;if(!C&&m.values.next({name:ne,type:Q.type,values:{...o}}),q)return d.isValid&&(e.mode==="onBlur"&&C?T():C||T()),Se&&m.state.next({name:ne,...ee?{}:le});if(!C&&ee&&m.state.next({...t}),e.resolver){const{errors:Ze}=await k([ne]);if(ye(E),Y){const et=h1(t.errors,n,ne),ft=h1(Ze,n,et.name||ne);Xe=ft.error,ne=ft.name,_=Mn(Ze)}}else O([ne],!0),Xe=(await u1(pe,u.disabled,o,w,e.shouldUseNativeValidation))[ne],O([ne]),ye(E),Y&&(Xe?_=!1:d.isValid&&(_=await F(n,!0)));Y&&(pe._f.deps&&ie(pe._f.deps),P(ne,_,Xe,le))}},Ne=(Q,X)=>{if(ct(t.errors,X)&&Q.focus)return Q.focus(),1},ie=async(Q,X={})=>{let ne,Y;const pe=qf(Q);if(e.resolver){const be=await M(Cr(Q)?Q:pe);ne=Mn(be),Y=Q?!pe.some(ye=>ct(be,ye)):ne}else Q?(Y=(await Promise.all(pe.map(async be=>{const ye=ct(n,be);return await F(ye&&ye._f?{[be]:ye}:ye)}))).every(Boolean),!(!Y&&!t.isValid)&&T()):Y=ne=await F(n);return m.state.next({...!ts(Q)||d.isValid&&ne!==t.isValid?{}:{name:Q},...e.resolver||!Q?{isValid:ne}:{},errors:t.errors}),X.shouldFocus&&!Y&&Ec(n,Ne,Q?pe:u.mount),Y},J=Q=>{const X={...l.mount?o:s};return Cr(Q)?X:ts(Q)?ct(X,Q):Q.map(ne=>ct(X,ne))},W=(Q,X)=>({invalid:!!ct((X||t).errors,Q),isDirty:!!ct((X||t).dirtyFields,Q),error:ct((X||t).errors,Q),isValidating:!!ct(t.validatingFields,Q),isTouched:!!ct((X||t).touchedFields,Q)}),Ee=Q=>{Q&&qf(Q).forEach(X=>Lr(t.errors,X)),m.state.next({errors:Q?t.errors:{}})},Le=(Q,X,ne)=>{const Y=(ct(n,Q,{_f:{}})._f||{}).ref,pe=ct(t.errors,Q)||{},{ref:be,message:ye,type:Xe,..._}=pe;rr(t.errors,Q,{..._,...X,ref:Y}),m.state.next({name:Q,errors:t.errors,isValid:!1}),ne&&ne.shouldFocus&&Y&&Y.focus&&Y.focus()},oe=(Q,X)=>Xi(Q)?m.values.subscribe({next:ne=>Q(V(void 0,X),ne)}):V(Q,X,!0),qe=(Q,X={})=>{for(const ne of Q?qf(Q):u.mount)u.mount.delete(ne),u.array.delete(ne),X.keepValue||(Lr(n,ne),Lr(o,ne)),!X.keepError&&Lr(t.errors,ne),!X.keepDirty&&Lr(t.dirtyFields,ne),!X.keepTouched&&Lr(t.touchedFields,ne),!X.keepIsValidating&&Lr(t.validatingFields,ne),!e.shouldUnregister&&!X.keepDefaultValue&&Lr(s,ne);m.values.next({values:{...o}}),m.state.next({...t,...X.keepDirty?{isDirty:N()}:{}}),!X.keepIsValid&&T()},ce=({disabled:Q,name:X,field:ne,fields:Y})=>{(Qi(Q)&&l.mount||Q||u.disabled.has(X))&&(Q?u.disabled.add(X):u.disabled.delete(X),j(X,ig(ne?ne._f:ct(Y,X)._f),!1,!1,!0))},te=(Q,X={})=>{let ne=ct(n,Q);const Y=Qi(X.disabled)||Qi(e.disabled);return rr(n,Q,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:Q}},name:Q,mount:!0,...X}}),u.mount.add(Q),ne?ce({field:ne,disabled:Qi(X.disabled)?X.disabled:e.disabled,name:Q}):H(Q,!0,X.value),{...Y?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:oc(X.min),max:oc(X.max),minLength:oc(X.minLength),maxLength:oc(X.maxLength),pattern:oc(X.pattern)}:{},name:Q,onChange:fe,onBlur:fe,ref:pe=>{if(pe){te(Q,X),ne=ct(n,Q);const be=Cr(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,ye=xF(be),Xe=ne._f.refs||[];if(ye?Xe.find(_=>_===be):be===ne._f.ref)return;rr(n,Q,{_f:{...ne._f,...ye?{refs:[...Xe.filter(ng),be,...Array.isArray(ct(s,Q))?[{}]:[]],ref:{type:be.type,name:Q}}:{ref:be}}}),H(Q,!1,void 0,be)}else ne=ct(n,Q,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(mF(u.array,Q)&&l.action)&&u.unMount.add(Q)}}},Ae=()=>e.shouldFocusError&&Ec(n,Ne,u.mount),de=Q=>{Qi(Q)&&(m.state.next({disabled:Q}),Ec(n,(X,ne)=>{const Y=ct(n,ne);Y&&(X.disabled=Y._f.disabled||Q,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(pe=>{pe.disabled=Y._f.disabled||Q}))},0,!1))},ge=(Q,X)=>async ne=>{let Y;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let pe=si(o);if(u.disabled.size)for(const be of u.disabled)rr(pe,be,void 0);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:be,values:ye}=await k();t.errors=be,pe=ye}else await F(n);if(Lr(t.errors,"root"),Mn(t.errors)){m.state.next({errors:{}});try{await Q(pe,ne)}catch(be){Y=be}}else X&&await X({...t.errors},ne),Ae(),setTimeout(Ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(t.errors)&&!Y,submitCount:t.submitCount+1,errors:t.errors}),Y)throw Y},we=(Q,X={})=>{ct(n,Q)&&(Cr(X.defaultValue)?ke(Q,si(ct(s,Q))):(ke(Q,X.defaultValue),rr(s,Q,si(X.defaultValue))),X.keepTouched||Lr(t.touchedFields,Q),X.keepDirty||(Lr(t.dirtyFields,Q),t.isDirty=X.defaultValue?N(Q,si(ct(s,Q))):N()),X.keepError||(Lr(t.errors,Q),d.isValid&&T()),m.state.next({...t}))},Ve=(Q,X={})=>{const ne=Q?si(Q):s,Y=si(ne),pe=Mn(Q),be=pe?s:Y;if(X.keepDefaultValues||(s=ne),!X.keepValues){if(X.keepDirtyValues){const ye=new Set([...u.mount,...Object.keys(sc(s,o))]);for(const Xe of Array.from(ye))ct(t.dirtyFields,Xe)?rr(be,Xe,ct(o,Xe)):ke(Xe,ct(be,Xe))}else{if(w0&&Cr(Q))for(const ye of u.mount){const Xe=ct(n,ye);if(Xe&&Xe._f){const _=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(_d(_)){const E=_.closest("form");if(E){E.reset();break}}}}n={}}o=e.shouldUnregister?X.keepDefaultValues?si(s):{}:si(be),m.array.next({values:{...be}}),m.values.next({values:{...be}})}u={mount:X.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!X.keepIsValid||!!X.keepDirtyValues,l.watch=!!e.shouldUnregister,m.state.next({submitCount:X.keepSubmitCount?t.submitCount:0,isDirty:pe?!1:X.keepDirty?t.isDirty:!!(X.keepDefaultValues&&!bo(Q,s)),isSubmitted:X.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:pe?{}:X.keepDirtyValues?X.keepDefaultValues&&o?sc(s,o):t.dirtyFields:X.keepDefaultValues&&Q?sc(s,Q):X.keepDirty?t.dirtyFields:{},touchedFields:X.keepTouched?t.touchedFields:{},errors:X.keepErrors?t.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(Q,X)=>Ve(Xi(Q)?Q(o):Q,X);return{control:{register:te,unregister:qe,getFieldState:W,handleSubmit:ge,setError:Le,_executeSchema:k,_getWatch:V,_getDirty:N,_updateValid:T,_removeUnmounted:$,_updateFieldArray:x,_updateDisabledField:ce,_getFieldArray:_e,_reset:Ve,_resetDefaultValues:()=>Xi(e.defaultValues)&&e.defaultValues().then(Q=>{Me(Q,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:Q=>{t={...t,...Q}},_disableForm:de,_subjects:m,_proxyFormState:d,_setErrors:z,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(Q){l=Q},get _defaultValues(){return s},get _names(){return u},set _names(Q){u=Q},get _formState(){return t},set _formState(Q){t=Q},get _options(){return e},set _options(Q){e={...e,...Q}}},trigger:ie,register:te,handleSubmit:ge,watch:oe,setValue:ke,getValues:J,reset:Me,resetField:we,clearErrors:Ee,unregister:qe,setError:Le,setFocus:(Q,X={})=>{const ne=ct(n,Q),Y=ne&&ne._f;if(Y){const pe=Y.refs?Y.refs[0]:Y.ref;pe.focus&&(pe.focus(),X.shouldSelect&&Xi(pe.select)&&pe.select())}},getFieldState:W}}function OF(r={}){const e=Rt.useRef(void 0),t=Rt.useRef(void 0),[n,s]=Rt.useState({isDirty:!1,isValidating:!1,isLoading:Xi(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:Xi(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...NF(r),formState:n});const o=e.current.control;return o._options=r,_F({subject:o._subjects.state,next:l=>{vF(l,o._proxyFormState,o._updateFormState)&&s({...o._formState})}}),Rt.useEffect(()=>o._disableForm(r.disabled),[o,r.disabled]),Rt.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),Rt.useEffect(()=>{r.values&&!bo(r.values,t.current)?(o._reset(r.values,o._options.resetOptions),t.current=r.values,s(l=>({...l}))):o._resetDefaultValues()},[r.values,o]),Rt.useEffect(()=>{r.errors&&o._setErrors(r.errors)},[r.errors,o]),Rt.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Rt.useEffect(()=>{r.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[r.shouldUnregister,o]),e.current.formState=yF(n,o),e.current}const DF=()=>{var w,S,T,O,x;const[r,e]=me.useState([]),[t,n]=me.useState("cash"),[s,o]=me.useState(!1),[l,u]=me.useState(!1),c=os();me.useEffect(()=>{const R=JSON.parse(localStorage.getItem("cart")||"[]");e(R);const z=JSON.parse(localStorage.getItem("checkoutInfo")||"{}");Object.keys(z).length>0&&(y(z),o(!0));const H=localStorage.getItem("user");if(H){const j=JSON.parse(H);j.roles&&j.roles[0]==="ADMIN"&&u(!0)}},[]);const{register:h,handleSubmit:d,formState:{errors:m},reset:y}=OF();return Te("div",{className:"container mx-auto py-12",children:[Te("div",{className:"flex items-center space-x-2 text-gray-500 text-[14px] mb-8",children:[B("a",{href:l?"/productmanage":"/",className:"hover:underline",children:"Home"}),B("img",{src:"/R2S-Client/CrossLine.svg",alt:"CrossLine",className:"w-[7px]"}),B("a",{href:"/cart",className:"hover:underline",children:"Cart"}),B("img",{src:"/R2S-Client/CrossLine.svg",alt:"CrossLine",className:"w-[7px]"}),B("span",{className:"font-normal text-black",children:"CheckOut"})]}),B("form",{onSubmit:d(async R=>{try{const H={userId:JSON.parse(localStorage.getItem("user")||"{}").id,name:R.fullName,address:R.stAddress+", "+R.townCity,items:r.map(k=>({productId:k.id,quantity:k.quantity}))},j=localStorage.getItem("accessToken");if(console.log("Token:",j),!j){pt.error("You need to log in first!");return}if(!(await fetch("https://devapi.uniscore.vn/uri/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify(H)})).ok)throw new Error("Failed to place order");pt.success("Order placed successfully!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"}),e([]),localStorage.removeItem("cart"),s?localStorage.setItem("checkoutInfo",JSON.stringify(R)):localStorage.removeItem("checkoutInfo"),c("/cart"),setTimeout(()=>{window.location.reload()},1500)}catch(z){pt.error(z.message)}}),className:"space-y-4",children:Te("div",{className:"sm:grid grid-cols-2 gap-10 lg:ml-14 ml-4 mr-4 xl:ml-32",children:[Te("div",{children:[B("h2",{className:"text-[36px] font-medium mb-6 font-[Inter]",children:"Billing Details"}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins]",children:[Te("label",{children:["Full Name",B("a",{className:"text-red-500",children:"*"})]}),B("input",{...h("fullName",{required:"Full Name is required"}),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"}),m.fullName&&B("p",{className:"text-red-500 text-sm",children:typeof((w=m.fullName)==null?void 0:w.message)=="string"?m.fullName.message:""})]}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[B("label",{children:"Company Name"}),B("input",{...h("companyName"),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"})]}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[Te("label",{children:["Street Address",B("a",{className:"text-red-500",children:"*"})]}),B("input",{...h("stAddress",{required:"Street Address is required"}),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"}),m.stAddress&&B("p",{className:"text-red-500 text-sm",children:typeof((S=m.stAddress)==null?void 0:S.message)=="string"?m.stAddress.message:""})]}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[B("label",{children:"Apartment, floor, etc. (optional)"}),B("input",{...h("apartment"),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"})]}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[Te("label",{children:["Town/City",B("a",{className:"text-red-500",children:"*"})]}),B("input",{...h("townCity",{required:"Town or City is required"}),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"}),m.townCity&&B("p",{className:"text-red-500 text-sm",children:typeof((T=m.townCity)==null?void 0:T.message)=="string"?m.townCity.message:""})]}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[Te("label",{children:["Phone Number",B("a",{className:"text-red-500",children:"*"})]}),B("input",{...h("phone",{required:"Phone number is required",pattern:{value:/^[0-9]{10}$/,message:"Enter a valid 10-digit phone number"}}),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"}),m.phone&&B("p",{className:"text-red-500 text-sm",children:typeof((O=m.phone)==null?void 0:O.message)=="string"?m.phone.message:""})]}),Te("div",{className:"flex flex-col text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[Te("label",{children:["Email Address",B("a",{className:"text-red-500",children:"*"})]}),B("input",{...h("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email"}}),className:"rounded bg-[#F5F5F5] p-2 w-full sm:max-w-[470px] mt-2"}),m.email&&B("p",{className:"text-red-500 text-sm",children:typeof((x=m.email)==null?void 0:x.message)=="string"?m.email.message:""})]}),Te("div",{className:"flex items-center text-[15px] sm:text-[16px] font-[Poppins] mt-4",children:[B("input",{type:"checkbox",checked:s,onChange:R=>o(R.target.checked),className:"w-6 h-6 accent-red-500 rounded-lg border-gray-400 cursor-pointer mr-2"}),B("label",{className:"text-gray-700 text-[15px] sm:text-[16px] font-[Poppins]",children:"Save this information for faster checkout next time"})]})]}),Te("div",{className:"rounded w-full sd:max-w-[400px] w-full mt-10 sm:mt-28",children:[r.map(R=>Te("div",{className:"flex items-center justify-between mb-2 text-[16px] font-[Poppins]",children:[B("img",{src:R.image,alt:R.name,className:"flex sm:hidden md:flex w-32 h-32 md:w-16 md:h-16"}),B("span",{className:"flex-1 text-left ml-4 sm:ml-0 md:ml-4",children:R.name}),Te("span",{className:"ml-4",children:["$",(R.price*R.quantity).toFixed(2)]})]},R.id)),Te("div",{className:"flex justify-between mt-4 mb-3 pt-2 text-[16px] font-[Poppins]",children:[B("span",{children:"Subtotal:"}),Te("span",{children:["$",r.reduce((R,z)=>R+z.price*z.quantity,0).toFixed(2)]})]}),Te("div",{className:"flex justify-between border-t border-black mb-3 pt-2 text-[16px] font-[Poppins]",children:[B("span",{children:"Shipping:"}),B("span",{children:"Free"})]}),Te("div",{className:"flex justify-between border-t border-black  pt-2 text-[16px] font-[Poppins]",children:[B("span",{children:"Total:"}),Te("span",{children:["$",r.reduce((R,z)=>R+z.price*z.quantity,0).toFixed(2)]})]}),B("div",{className:"mt-4 text-[16px] font-[Poppins]",children:Te("div",{className:"flex flex-col",children:[Te("div",{className:"flex items-center justify-between w-full",children:[Te("label",{className:"flex items-center mb-4",children:[B("input",{type:"radio",name:"payment",value:"bank",checked:t==="bank",onChange:()=>n("bank"),className:"mr-2 w-5 h-5 accent-black"}),"Bank"]}),B("img",{src:"/R2S-Client/Bank.svg",alt:"Bank SVG",className:"sm:hidden md:flex w-full max-w-[192px] mb-4"})]}),Te("label",{className:"flex items-center",children:[B("input",{type:"radio",name:"payment",value:"cash",checked:t==="cash",onChange:()=>n("cash"),className:"mr-2 w-5 h-5 accent-black"}),"Cash on delivery"]})]})}),Te("div",{className:"mt-8 text-[16px] font-[Poppins] flex gap-4",children:[B("input",{type:"text",placeholder:"Coupon Code",className:"border border-black rounded p-4 w-full max-w-[300px] h-[56px] sm:text-[12px] md:text-[16px]"}),B("button",{className:"bg-red-500 border-red-500 border rounded text-white sm:text-[12px] md:text-[16px] w-full max-w-[211px] h-[56px]",children:"Apply Coupon"})]}),B("button",{type:"submit",className:"w-full max-w-[190px] h-[56px] mt-8 bg-red-500 text-white py-2 rounded",children:"Place Order"})]})]})})]})},LF=async r=>{const e=r?`https://devapi.uniscore.vn/uri/api/products/search?name=${r}`:"https://devapi.uniscore.vn/uri/api/products",{data:t}=await Bt.get(e);return Array.isArray(t.data)?t.data:[]},MF=()=>{const r=os(),[e,t]=me.useState(""),[n,s]=me.useState(!1),{data:o=[],isLoading:l,error:u,refetch:c}=Wc({queryKey:["products",e],queryFn:()=>LF(e)}),[h,d]=me.useState(null),[m,y]=me.useState(null),v={id:0,name:"",price:0,description:"",images:[],category:"",brand:"",stock:0,rate:0,is_active:!0},w=F=>{const $=JSON.parse(localStorage.getItem("cart")||"[]"),N=$.find(V=>V.id===F.id);N?N.quantity+=1:$.push({id:F.id,name:F.name,price:F.price,image:F.images[0],quantity:1,color:"red",size:null}),localStorage.setItem("cart",JSON.stringify($)),pt.success("Product added to cart!",{position:"top-right",autoClose:1500}),setTimeout(()=>window.location.reload(),1500)},S=F=>{d(F)},T=F=>{y(F)},[O,x]=me.useState(null),R=F=>{F.target.files&&x(F.target.files)},[z,H]=me.useState(null),j=F=>{F.target.files&&H(F.target.files)},P=async()=>{if(!h)return;const{name:F,price:$,description:N}=h;if(!F.trim()||!N.trim()||!$){pt.error("All fields are required!");return}try{const V=new FormData;V.append("name",F.trim()),V.append("price",$.toString()),V.append("description",N.trim()),O&&Array.from(O).forEach(_e=>{V.append("images",_e)}),console.log("form data:",V),await Bt.put(`https://devapi.uniscore.vn/uri/api/products/${h.id}`,V,{headers:{"Content-Type":"multipart/form-data"}}),pt.success("Product updated successfully!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"}),d(null),c()}catch(V){console.error("Error updating product:",V),pt.error("Failed to update product")}},k=async()=>{if(!m)return;const{name:F,price:$,description:N,category:V,brand:_e}=m;if(!F.trim()||!N.trim()||!$||!V.trim()||!_e.trim()){pt.error("All fields are required!");return}try{const ae=new FormData;ae.append("name",F.trim()),ae.append("price",$.toString()),ae.append("description",N.trim()),ae.append("category",V.trim()),ae.append("brand",_e.trim()),z&&Array.from(z).forEach(De=>{ae.append("images",De)}),await Bt.post("https://devapi.uniscore.vn/uri/api/products",ae,{headers:{"Content-Type":"multipart/form-data"}}),pt.success("Product created successfully!",{position:"top-right",autoClose:1500}),y(null),c()}catch(ae){console.error("Error creating product:",ae),pt.error("Failed to create product")}},M=async F=>{try{const $=`https://devapi.uniscore.vn/uri/api/products/${F}`;console.log("Deleting product at:",$);const N=await fetch(`https://devapi.uniscore.vn/uri/api/products/${F}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({isDeleted:!0})});if(!N.ok){const V=await N.text();throw new Error(`Error ${N.status}: ${V}`)}pt.success("Product deleted successfully!"),c()}catch($){pt.error("Failed to delete product!"),console.error("Delete error:",$)}};return Array.isArray(o)?Te("div",{className:"mx-auto py-12 w-full px-4",children:[B("h2",{className:"text-[36px] font-semibold mb-8 font-[Inter]",children:"Manage Products"}),B("button",{className:"bg-yellow-300 text-[16px] text-black px-3 py-1 rounded mb-6",onClick:()=>T(v),children:"+ Create Product"}),Te("div",{className:"relative w-full max-w-md mb-6",children:[Te("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden shadow-sm",children:[B("span",{className:"px-3",children:B("img",{src:"/R2S-Client/SearchIcon.svg",alt:"Search",className:"w-4 h-4 cursor-pointer"})}),B("input",{type:"text",placeholder:"Search products...",value:e,onChange:F=>{t(F.target.value),s(F.target.value.length>0)},onBlur:()=>setTimeout(()=>s(!1),200),className:"w-full p-2 outline-none"})]}),n&&e.length>0&&o.length>0&&B("ul",{className:"absolute w-full mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-10",children:o.map(F=>B("li",{onClick:()=>{t(F.name),s(!1)},className:"p-3 hover:bg-gray-100 cursor-pointer transition",children:F.name},F.id))})]}),B("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 min-h-[100px]",children:l?B("p",{className:"col-span-4 text-center",children:"Loading..."}):u?B("p",{className:"col-span-4 text-center text-red-500",children:"Error loading products"}):o.length>0?o.slice().sort((F,$)=>F.id-$.id).map(F=>Te("div",{className:"group rounded-lg bg-white transition duration-300 sm:w-full md:max-w-[270px] lg:max-w-[270px] xl:max-w-[270px] 2xl:max-w-[270px]",children:[B("div",{className:"w-full h-[250px] bg-[#F5F5F5] flex flex-col items-center overflow-hidden rounded-md relative",children:Te("div",{className:"w-full h-full flex items-center justify-center relative",onMouseEnter:$=>{var N;return(N=$.currentTarget.querySelector("button"))==null?void 0:N.classList.add("opacity-100","translate-y-0")},onMouseLeave:$=>{var N;return(N=$.currentTarget.querySelector("button"))==null?void 0:N.classList.remove("opacity-100","translate-y-0")},children:[B("img",{src:F.images[0],alt:F.name,className:"max-h-[180px] object-contain"}),B("button",{onClick:$=>{$.stopPropagation(),w(F)},className:"absolute bottom-0 left-0 w-full bg-black text-white py-3 text-center opacity-0 translate-y-2 transition-all duration-300",children:"Add To Cart"})]})}),B("h3",{className:"text-[16px] font-medium mt-3",children:F.name}),Te("div",{className:"flex items-center gap-3",children:[Te("a",{className:"text-red-500 text-[16px] font-medium",children:["$",F.price]}),Te("div",{className:"flex items-center gap-1",children:[[...Array(5)].map(($,N)=>N<(F.rate||4)?B("img",{src:"/R2S-Client/Star.svg",alt:"Star",className:"w-[20px] h-[20px]"},N):B("img",{src:"/R2S-Client/GrayStar.svg",alt:"Star",className:"w-[20px] h-[20px]"},N)),Te("span",{className:"text-gray-500 text-[14px] font-medium",children:["(",F.stock||50,")"]})]})]}),Te("div",{className:"flex gap-2 mt-2",children:[B("button",{className:"bg-green-500 text-white px-3 py-1 rounded",onClick:()=>r(`/detail/${F.id}`),children:"View"}),B("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>S(F),children:"Edit"}),B("button",{className:"bg-red-500 text-white px-3 py-1 rounded",onClick:()=>M(F.id),children:"Delete"})]})]},F.id)):B("div",{className:"col-span-4 flex items-center justify-center",children:"No products found"})}),h&&B("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:Te("div",{className:"bg-white p-6 rounded-lg",children:[B("h3",{className:"text-xl font-bold mb-4",children:"Edit Product"}),B("label",{className:"block mb-2",children:"Current Image:"}),B("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:h.images.filter(F=>F).map((F,$)=>B("img",{src:F,alt:`Product ${$+1}`,className:"w-[200px] h-[150px] object-contain border rounded-md"},$))}),B("label",{className:"block mb-2",children:"New Image:"}),B("input",{type:"file",multiple:!0,className:"border p-2 w-full mb-4",onChange:R}),B("a",{children:"Name:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"text",value:(h==null?void 0:h.name)||"",onChange:F=>d($=>$?{...$,name:F.target.value}:null)}),B("a",{children:"Price:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"number",value:(h==null?void 0:h.price)||"",min:1,onChange:F=>{const $=Math.max(1,Number(F.target.value));d(N=>N?{...N,price:$}:null)}}),B("a",{children:"Description:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"text",value:(h==null?void 0:h.description)||"",onChange:F=>{d($=>$?{...$,description:F.target.value}:null)},required:!0}),Te("div",{className:"flex justify-end gap-2",children:[B("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>d(null),children:"Cancel"}),B("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:P,children:"Save"})]})]})}),m&&B("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:Te("div",{className:"bg-white p-6 rounded-lg",children:[B("h3",{className:"text-xl font-bold mb-4",children:"Create Product"}),B("label",{className:"block mb-2",children:"Image:"}),B("input",{type:"file",multiple:!0,className:"border p-2 w-full mb-4",onChange:j}),B("a",{children:"Name:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"text",value:(m==null?void 0:m.name)||"",onChange:F=>y($=>$?{...$,name:F.target.value}:null)}),B("a",{children:"Price:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"number",value:(m==null?void 0:m.price)||"",min:1,onChange:F=>{const $=Math.max(1,Number(F.target.value));y(N=>N?{...N,price:$}:null)}}),B("a",{children:"Description:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"text",value:(m==null?void 0:m.description)||"",onChange:F=>{y($=>$?{...$,description:F.target.value}:null)},required:!0}),B("a",{children:"Category:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"text",value:(m==null?void 0:m.category)||"",onChange:F=>{y($=>$?{...$,category:F.target.value}:null)},required:!0}),B("a",{children:"Brand:"}),B("input",{className:"border p-2 w-full mb-4 mt-2",type:"text",value:(m==null?void 0:m.brand)||"",onChange:F=>{y($=>$?{...$,brand:F.target.value}:null)},required:!0}),Te("div",{className:"flex justify-end gap-2",children:[B("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>y(null),children:"Cancel"}),B("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:k,children:"Save"})]})]})})]}):B("p",{children:"No products available"})},T0="https://devapi.uniscore.vn/uri/api/orders",x0=()=>{const r=localStorage.getItem("accessToken");return r?{Authorization:`Bearer ${r}`}:{}},FF=async()=>{const{data:r}=await Bt.get(T0,{headers:x0()});return r??[]},VF=async({orderId:r,status:e})=>{await Bt.put(`${T0}/${r}`,{status:e},{headers:x0()})},UF=async r=>{await Bt.delete(`${T0}/${r}`,{headers:x0()})},BF=()=>{const r=kv(),[e,t]=me.useState(null),{data:n=[],isLoading:s,error:o}=Wc({queryKey:["orders"],queryFn:FF}),l=Yf({mutationFn:VF,onMutate:async({orderId:c,status:h})=>{t(c),await r.cancelQueries({queryKey:["orders"]});const d=r.getQueryData(["orders"]);return d&&r.setQueryData(["orders"],d.map(m=>m.id===c?{...m,status:h}:m)),{previousOrders:d}},onSuccess:()=>{pt.success("Order updated successfully",{autoClose:1500})},onError:(c,h,d)=>{pt.error("Failed to update order"),d!=null&&d.previousOrders&&r.setQueryData(["orders"],d.previousOrders)},onSettled:()=>{t(null)}}),u=Yf({mutationFn:UF,onMutate:c=>t(c),onSuccess:()=>{window.location.reload()},onError:()=>{pt.error("Failed to delete order"),t(null)}});return Te("div",{className:"container mx-auto py-12",children:[B("h2",{className:"text-[36px] font-semibold mb-8 font-[Inter]",children:"Order Management"}),s?B("p",{className:"col-span-4 text-center text-[12px] md:text-[16px]",children:"Loading..."}):o?B("p",{className:"col-span-4 text-center text-red-500",children:"Error loading orders"}):Te("table",{className:"min-w-full border-separate border-spacing-y-4",children:[B("thead",{className:"shadow-md rounded",children:Te("tr",{children:[B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:"ID"}),B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:"User"}),B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:"Name"}),B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:"Address"}),B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px] text-left",children:"Total Amount"}),B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:"Status"}),B("th",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:"Actions"})]})}),B("tbody",{children:n.length===0?B("tr",{children:B("td",{colSpan:5,className:"border p-2 text-center",children:"No orders available"})}):n.sort((c,h)=>c.status==="pending"&&h.status!=="pending"?-1:c.status!=="pending"&&h.status==="pending"?1:h.id-c.id).map(c=>Te("tr",{className:"shadow-md rounded",children:[B("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px] text-center",children:c.id}),B("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px] text-center",children:c.user_id}),B("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:c.name}),B("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:c.address}),Te("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px]",children:["$",c.total_amount]}),B("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px] text-center",children:c.status}),Te("td",{className:"p-2 md:p-4 w-fit text-[12px] md:text-[16px] space-x-2",children:[c.status==="pending"&&B("button",{className:"bg-green-500 text-white px-3 py-1 rounded",onClick:()=>l.mutate({orderId:c.id,status:"done"}),children:"Approve"}),B("button",{className:"bg-red-500 text-white px-3 py-1 rounded",onClick:()=>u.mutate(c.id),children:"Delete"})]})]},c.id))})]})]})},f1=({children:r})=>{const e=localStorage.getItem("isLoggedIn"),t=JSON.parse(localStorage.getItem("user")||"{}");return e&&t.roles[0]==="ADMIN"?r:B(oR,{to:"/login"})},jF=[{path:"/",element:B(k2,{})},{path:"/signup",element:B(P2,{})},{path:"/login",element:B(N2,{})},{path:"/detail/:id",element:B(V2,{})},{path:"/cart",element:B(U2,{})},{path:"/profile",element:B(B2,{})},{path:"/chat",element:B(fF,{})},{path:"/checkout",element:B(DF,{})},{path:"/productmanage",element:B(f1,{children:B(MF,{})})},{path:"/ordermanage",element:B(f1,{children:B(BF,{})})}],$F=()=>QC(jF),zF=()=>B(kR,{basename:"/R2S-Client",children:B($F,{})}),WF=()=>{const[r,e]=me.useState(0),[t,n]=me.useState(!1),[s,o]=me.useState(!1),[l,u]=me.useState(!1),c=me.useRef(null);let h;const d=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),localStorage.removeItem("checkoutInfo"),window.location.href="/R2S-Client/login",window.location.reload(),window.scrollTo(0,0)};return me.useEffect(()=>{const m=localStorage.getItem("isLoggedIn")==="true";n(m);const y=localStorage.getItem("user");if(y){const S=JSON.parse(y);S.roles&&S.roles[0]==="ADMIN"&&o(!0)}const v=JSON.parse(localStorage.getItem("cart")||"[]");e(v.length);const w=S=>{c.current&&c.current instanceof Node&&!c.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),Te("header",{className:"w-full border-b top-0 left-0 bg-white z-50",children:[Te("div",{className:"bg-black text-white flex justify-between items-center py-2 px-8 text-sm h-12 gap-x-16",children:[Te("span",{className:"font-[Poppins] text-[14px] flex-1 text-center text-gray-300",children:["Summer Sale For All Swim Suits And Free Express Delivery - OFF 50%!"," ",B("a",{href:"#",className:"font-semibold hover:border-b-2 hover:border-white",children:"ShopNow"})]}),Te("div",{className:"flex sm:flex items-center gap-2 cursor-pointer text-gray-300",children:[B("span",{children:"English"}),B("img",{src:"/R2S-Client/DropDown.svg",alt:"Search",className:"w-3.5 h-3.5 cursor-pointer"})]})]}),Te("nav",{className:"flex items-center justify-between max-w-7xl mx-auto p-4",children:[B("h1",{className:"text-[24px] font-bold",children:"Exclusive"}),Te("div",{className:"hidden md:flex md:space-x-4 md:text-sm lg:text-[16px] lg:space-x-12 space-x-8 text-[16px]",children:[B("a",{href:s?"/R2S-Client/productmanage":"/R2S-Client/",className:"hover:border-b-2 hover:border-black",children:"Home"}),s?B("a",{href:"/R2S-Client/ordermanage",className:"hover:border-b-2 hover:border-black",children:"Orders"}):B("a",{href:"#",className:"hover:border-b-2 hover:border-black",children:"About"}),t?B("a",{href:"/R2S-Client/chat",className:"hover:border-b-2 hover:border-black",children:"Contact"}):B("a",{href:"/R2S-Client/login",className:"hover:border-b-2 hover:border-black",children:"Sign In"}),t?B("a",{href:"/R2S-Client/profile",className:"hover:border-b-2 hover:border-black",children:"Account"}):B("a",{href:"/R2S-Client/signup",className:"hover:border-b-2 hover:border-black",children:"Sign Up"})]}),Te("div",{className:"flex items-center space-x-4",children:[Te("div",{className:"flex sm:w-[243px] md:w-[195px] lg:w-[243px] xl:w-[243px] 2xl:w-[243px] items-center bg-gray-100 px-4 py-2 rounded-lg text-[12px] w-[180px] h-[38px]",children:[B("input",{type:"text",placeholder:"What are you looking for?",className:"bg-transparent outline-none cursor-pointer text-[10px] sm:text-[12px] md:text-[11px] lg:text-[12px] xl:text-[12px] 2xl:text-[12px] flex-1","aria-label":"Search"}),B("img",{src:"/R2S-Client/SearchIcon.svg",alt:"Search",className:"w-3 h-3 sm:w-4 sm:h-4 cursor-pointer"})]}),Te("div",{className:"flex items-center space-x-4 relative",children:[B("img",{src:"/R2S-Client/Wishlist.svg",alt:"Favorite",className:"w-[32px] h-[32px] cursor-pointer",tabIndex:0}),Te("a",{href:"/R2S-Client/cart",className:"relative",children:[B("img",{src:"/R2S-Client/Cart1.svg",alt:"Cart",className:"w-[32px] h-[32px] cursor-pointer",tabIndex:0}),r>0&&B("span",{className:"absolute -top-1 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:r})]}),Te("div",{className:"relative inline-block",onMouseEnter:()=>{clearTimeout(h),u(!0)},onMouseLeave:()=>{h=setTimeout(()=>u(!1),200)},children:[B("a",{href:t?"/R2S-Client/profile":"/R2S-Client/login",className:"flex items-center",children:B("img",{src:t?"/R2S-Client/userlogged.svg":"/R2S-Client/user.svg",alt:"User",className:"w-[32px] h-[32px] cursor-pointer"})}),t&&l&&Te("div",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-lg py-2 border z-50",style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",minWidth:"200px"},children:[B("a",{href:"/R2S-Client/profile",className:"block px-4 py-2 hover:bg-gray-100",children:"My Profile"}),B("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100",children:"My Order"}),B("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100",children:"My Cancellations"}),B("a",{href:"/R2S-Client/login",onClick:d,className:"block px-4 py-2 hover:bg-gray-100",children:"Log Out"})]})]})]})]})]}),B("nav",{className:"md:hidden flex items-center justify-center max-w-7xl mx-auto p-2",children:Te("div",{className:"space-x-8 text-[16px]",children:[B("a",{href:s?"/R2S-Client/productmanage":"/R2S-Client/",className:"hover:border-b-2 hover:border-black",children:"Home"}),s?B("a",{href:"/R2S-Client/ordermanage",className:"hover:border-b-2 hover:border-black",children:"Orders"}):B("a",{href:"#",className:"hover:border-b-2 hover:border-black",children:"About"}),t?B("a",{href:"/R2S-Client/chat",className:"hover:border-b-2 hover:border-black",children:"Contact"}):B("a",{href:"/R2S-Client/login",className:"hover:border-b-2 hover:border-black",children:"Sign In"}),t?B("a",{href:"/R2S-Client/profile",className:"hover:border-b-2 hover:border-black",children:"Account"}):B("a",{href:"/R2S-Client/signup",className:"hover:border-b-2 hover:border-black",children:"Sign Up"})]})})]})},qF=()=>Te("footer",{className:"bg-black text-white py-10",children:[Te("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-5 gap-8",children:[Te("div",{children:[B("h2",{className:"text-[24px] font-semibold",children:"Exclusive"}),B("p",{className:"mt-3 text-[20px] py-4",children:"Subscribe"}),B("p",{className:"text-[16px] text-gray-300",children:"Get 10% off your first order"}),Te("div",{className:"hidden lg:flex items-center mt-3 border border-white rounded px-3 py-2 relative w-full max-w-[300px]",children:[B("input",{type:"email",placeholder:"Enter your email",className:"bg-transparent outline-none flex-1 text-sm pr-10"}),B("button",{className:"text-white absolute right-3 top-1/2 -translate-y-1/2",children:""})]})]}),Te("div",{className:"space-y-4",children:[B("h2",{className:"text-[20px]",children:"Support"}),B("p",{className:"mt-3 text-[16px] text-gray-300",children:"111 Bijoy sarani, Dhaka, DH 1515, Bangladesh."}),B("p",{className:"hidden lg:flex text-[16px] mt-2 text-gray-300",children:"exclusive@gmail.com"}),B("p",{className:"text-[16px] mt-2 text-gray-300",children:"+88015-88888-9999"})]}),Te("div",{children:[B("h2",{className:"text-[20px]",children:"Account"}),Te("ul",{className:"mt-3 space-y-4 text-[16px] text-gray-300",children:[B("li",{children:"My Account"}),B("li",{children:"Login / Register"}),B("li",{children:"Cart"}),B("li",{children:"Wishlist"}),B("li",{children:"Shop"})]})]}),Te("div",{children:[B("h2",{className:"text-[20px]",children:"Quick Link"}),Te("ul",{className:"mt-3 space-y-4 text-[16px] text-gray-300",children:[B("li",{children:"Privacy Policy"}),B("li",{children:"Terms Of Use"}),B("li",{children:"FAQ"}),B("li",{children:"Contact"})]})]}),Te("div",{children:[B("h2",{className:"text-[20px]",children:"Download App"}),B("p",{className:"mt-3 text-[12px] text-gray-300",children:"Save $3 with App New User Only"}),Te("div",{className:"mt-3 flex items-center space-x-2",children:[B("img",{src:"/R2S-Client/QRCode.svg",alt:"QR Code",className:"w-[76px] h-[76px]"}),Te("div",{className:"flex flex-col space-y-2",children:[B("img",{src:"/R2S-Client/GGPlay.svg",alt:"Google Play",className:"w-28"}),B("img",{src:"/R2S-Client/AppStore.svg",alt:"App Store",className:"w-28"})]})]}),Te("div",{className:"hidden lg:flex justify-left space-x-7 ml-2 mt-6",children:[B("img",{src:"/R2S-Client/Facebook.svg",alt:"Facebook",className:"w-[10.5px] h-[18px] cursor-pointer"}),B("img",{src:"/R2S-Client/Twitter.svg",alt:"Twitter",className:"h-[19px] cursor-pointer"}),B("img",{src:"/R2S-Client/Instagram.svg",alt:"Instagram",className:"w-[18px] h-[18px] cursor-pointer"}),B("img",{src:"/R2S-Client/Linkedin.svg",alt:"Facebook",className:"w-[17.5px] h-[17.5px] cursor-pointer"})]})]})]}),B("div",{className:"mt-10 pt-6 text-center text-sm text-gray-500",children:B("p",{children:" Copyright Rimel 2022. All rights reserved"})})]}),HF=({children:r})=>Te("div",{className:"min-h-screen w-full bg-white",children:[B(WF,{}),B("main",{className:"flex-grow max-w-7xl mx-auto pl-4 pr-4",children:r}),B(qF,{})]});var QF=function(){return null};const KF=new Mk;gC.createRoot(document.getElementById("root")).render(B(Rt.StrictMode,{children:Te(jk,{client:KF,children:[B(QF,{initialIsOpen:!1}),B(HF,{children:B(zF,{})}),B(wk,{})]})}));
